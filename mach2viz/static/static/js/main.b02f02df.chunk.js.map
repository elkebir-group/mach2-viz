{"version":3,"sources":["assets/sample_page.png","assets/download.png","components/About.js","components/ClonalTree.js","components/Migration.js","utils/DefaultDict.js","utils/base64.js","utils/lzma-url.js","components/SummaryGraph.js","components/SummaryPanel.js","components/HelpPopup.js","components/NoSolutionsPopup.js","components/Viz.js","components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","About","React","createElement","className","Link","to","style","textDecoration","color","href","id","columns","src","sample_page","alt","findCorresponding","clonalMap","currNode","clonal","corrNodes","forEach","row","push","getSubtree","tree","nodes","edges","edge","includes","Cytoscape","use","dagre","ClonalTree","props","hexColorRegex","colorPalette","ncolors","length","getColor","label","colorValue","coloring","find","value","undefined","test","parseInt","onlyUnique","index","array","indexOf","findLabel","node","labelPair","labeling","map","filter","_","flat","data","type","source","target","concat","migration","_useState","useState","_useState2","_slicedToArray","graphData","setGraphData","useEffect","myCyRef","styleSheet","selector","backgroundColor","width","height","overlay-padding","z-index","text-outline-width","fontSize","border-width","border-color","border-opacity","background-color","text-outline-color","line-color","target-arrow-color","target-arrow-shape","curve-style","line-fill","line-gradient-stop-colors","line-gradient-stop-positions","layout","name","fit","directed","padding","animate","animationDuration","avoidOverlap","nodeDimensionsIncludeLabels","ready","evtbus","addListener","eventName","eventData","getElementById","nodeId","$","css","trigger","eventParams","corr","ids","_toConsumableArray","Set","apply","getNodesInTree","fetched","_unused","useMemo","CytoscapeComponent","elements","normalizeElements","zoomingEnabled","maxZoom","minZoom","autounselectify","boxSelectionEnabled","stylesheet","cy","on","event","div","document","setAttribute","innerHTML","nodePos","position","container","zoomLevel","zoom","containerRect","getBoundingClientRect","absoluteX","left","x","pan","absoluteY","top","y","body","appendChild","labeltag","querySelector","opacity","zIndex","fontWeight","fireEvent","contains","removeChild","sink","findCorrespondingAll","COSEBilkent","Migration","_ref","rightcol","rotated","setLoadingAction","found","_step","clsource","cltarget","_iterator","_createForOfIteratorHelper","entries","s","n","done","_ref2","_ref3","i","err","e","f","_step2","_iterator2","_ref4","_ref5","shape","text-valign","text-halign","queryParameters","URLSearchParams","window","location","hash","split","is_rotated","get","circle","transform","mu","gamma","sessionStorage","setItem","DefaultDict","defaultVal","_classCallCheck","this","Proxy","uint6ToB64","nUint6","encodeFromArrayUrlSafe","bytes","encodeURIComponent","nMod3","eqLen","sB64Enc","nLen","nUint24","nIdx","String","fromCharCode","substring","encodeFromArray","replace","decodeToArrayUrlSafe","base64string","blockSize","nMod4","nChr","nInLen","nOutLen","Math","ceil","aBytes","Uint8Array","nOutIdx","nInIdx","charCodeAt","decodeToArray","decodeURIComponent","__4294967296","N1_longLit","MIN_VALUE","P0_longLit","P1_longLit","add","a","b","create","initDim","len","and","highBits","lowBits","low","makeFromBits","max","min","lowBits_0","compare","nega","negb","sub","valueLow","valueHigh","diffHigh","diffLow","floor","eq","fromInt","pwrAsDouble","shl","diff","newHigh","newLow","twoToN","Error","shr","shiftFact","$ByteArrayInputStream","this$static","buf","pos","count","$read","$read_0","off","arraycopy","$ByteArrayOutputStream","$toByteArray","$write","$write_0","srcOfs","dest","destOfs","$init","input","output","length_0","mode","enableEndMark","encoder","dictionarySize","_dictionarySize","dicLogSize","_distTableSize","$SetDictionarySize_0","_numFastBytes","matchFinderIndex","matchFinderIndexPrev","_matchFinderType","_matchFinder","_dictionarySizePrev","$SetMatchFinder","m","_numLiteralPosStateBits","_numLiteralContextBits","_posStateBits","_posStateMask","$configure","_repDistances","_optimum","_rangeEncoder","_isMatch","_isRep","_isRepG0","_isRepG1","_isRepG2","_isRep0Long","_posSlotEncoder","_posEncoders","_posAlignEncoder","$BitTreeEncoder","_lenEncoder","$Encoder$LenPriceTableEncoder","_repMatchLenEncoder","_literalEncoder","_matchDistances","_posSlotPrices","_distancesPrices","_alignPrices","reps","repLens","processedInSize","processedOutSize","finished","properties","tempPrices","_longestMatchLength","_numDistancePairs","_numFastBytesPrev","backRes","$Encoder","_writeEndMark","outStream","$WriteCoderProperties","chunker","_needReleaseMFStream","_inStream","_finished","bt","numHashBytes","HASH_ARRAY","kNumHashDirectBytes","kMinMatchCheck","kFixHashSize","$SetType","numPosBits","numPrevBits","numStates","m_Coders","m_NumPrevBits","m_NumPosBits","m_PosMask","$Encoder$LiteralEncoder$Encoder2","$Create_1","historySize","keepAddBufferBefore","matchMaxLen","keepAddBufferAfter","cyclicBufferSize","hs","_cutValue","keepSizeBefore","keepSizeAfter","keepSizeReserv","_keepSizeBefore","_keepSizeAfter","_bufferBase","_blockSize","_pointerToLastSafePosition","$Create_4","_matchMaxLen","_cyclicBufferSize","_son","_hashMask","_hashSizeSum","_hash","$Create_3","$Create_2","Stream","_state","_previousByte","$BaseInit","_position","Low","Range","_cacheSize","_cache","$Init_9","InitBitModels","m_Encoders","$Init_3","Models","$Init_2","_longestMatchWasFound","_optimumEndIndex","_optimumCurrentIndex","_additionalOffset","$Init_4","$FillDistancesPrices","$FillAlignPrices","_tableSize","$UpdateTables","nowPos64","decoder","alive","$Chunker_0","$init_0","r","tmp_length","hex_length","lc","lp","pb","remainder","val","$Decoder$LiteralDecoder$Decoder2","$Create_0","m_LiteralDecoder","numPosStates","$Create","m_LenDecoder","m_RepLenDecoder","m_PosStateMask","$SetLcLpPb","m_DictionarySize","m_DictionarySizeCheck","windowSize","_buffer","_windowSize","_pos","_streamPos","$Create_5","m_OutWindow","$SetDictionarySize","$SetDecoderProperties","m_RangeDecoder","m_IsMatchDecoders","m_IsRepDecoders","m_IsRepG0Decoders","m_IsRepG1Decoders","m_IsRepG2Decoders","m_IsRep0LongDecoders","m_PosSlotDecoder","m_PosDecoders","m_PosAlignDecoder","$BitTreeDecoder","$Decoder$LenDecoder","$Decoder","toString","inStream","outSize","$ReleaseStream","_stream","m_Decoders","$Init_0","$Init","Code","$Init_8","$Init_1","state","rep0","rep1","rep2","rep3","prevByte","$Chunker","$CodeInChunks","$GetIndexByte","_bufferOffset","$GetMatchLen","distance","limit","pby","_streamEndWasReached","$GetNumAvailableBytes","$ReadBlock","numReadBytes","size","_posLimit","$ReduceOffsets","subValue","CrcTable","j","$MovePos_0","_cyclicBufferPos","numBytes","offset","$MoveBlock","$MovePos_1","$NormalizeLinks","items","numItems","$Flush_0","$GetByte","GetLenToPosState","StateUpdateChar","$processChunk","inSize","baseVal","complexState","curByte","footerBits","lenToPosState","matchByte","posReduced","posSlot","posState","progressPosValuePrev","subCoder","$Init_5","$Flush","$ReadMatchDistances","$Encode_3","$Encode_1","$GetSubCoder","$GetOptimum","$EncodeMatched","$Encode_0","GetPosSlot","$Encode_2","ReverseEncode","$EncodeDirectBits","$ReverseEncode","_alignPriceCount","_matchPriceCount","$GetProcessedSizeAdd","$CodeOneBlock","inBytesProcessed","$ReleaseMFStream","$ReleaseStreams","$processEncoderChunk","result","decoder2","numDirectBits","$DecodeBit","$Decode","$Decode_0","startIndex","rangeDecoder","NumBitLevels","bit","bitIndex","symbol","ReverseDecode","numTotalBits","t","$DecodeDirectBits","$ReverseDecode","$CopyBlock","$GetDecoder","$DecodeNormal","matchBit","$DecodeWithMatchByte","$PutByte","$CodeOneChunk","outBytesProcessed","$processDecoderChunk","m_NumPosStates","m_LowCoder","m_MidCoder","m_Choice","m_HighCoder","g_FastPos","k","slotFast","c","$Backward","cur","backCur","backMem","posMem","posPrev","PosPrev","BackPrev","Prev1IsChar","$MakeAsChar","Prev2","PosPrev2","BackPrev2","$ReverseGetPrice","st","st2","ReverseGetPrice","$GetPrice_1","nowPos","$WriteEndMarker","$ShiftLow","curAnd1Price","curAndLenCharPrice","curAndLenPrice","curBack","curPrice","currentByte","lenEnd","lenMain","lenRes","lenTest","lenTest2","lenTestTemp","matchPrice","newLen","nextIsChar","nextOptimum","nextRepMatchPrice","normalMatchPrice","numAvailableBytes","numAvailableBytesFull","numDistancePairs","offs","opt","optimum","posStateNext","price_4","repIndex","repLen","repMatchPrice","repMaxIndex","shortRepPrice","startLen","state2","$MovePos","State","Price","ProbPrices","$GetPrice_0","$GetRepLen1Price","$MakeAsShortRep","Backs0","Backs1","Backs2","Backs3","$GetPureRepPrice","$GetPrice","$GetPosLenPrice","GetPosSlot2","price","GetPrice","num","curMatch","cyclicPos","delta","hash2Value","hash3Value","hashValue","len0","len1","lenLimit","matchMinPos","pby1","ptr0","ptr1","temp","$Skip","distances","curMatch2","curMatch3","maxLen","$GetMatches","_choice","_lowCoder","_midCoder","_highCoder","$SetPrices","numSymbols","prices","a0","a1","b0","b1","rangeEncoder","$Encode","_counters","_prices","$Encoder$LenEncoder","context","same","matchMode","numBitLevels","probs","newBound","prob","end","v","LowHi","sr","shru","Prob","modes","compress","arguments","_ref$mode","_ref$enableEndMark","$LZMAByteArrayCompressor","ch","chars","elen","l","srcBegin","srcEnd","dst","dstBegin","srcIdx","$getChars","encode","get_mode_obj","compressUrlSafe","string","_ref2$mode","_ref2$enableEndMark","compressedString","base64","decompress","d","$LZMAByteArrayDecompressor","utf","z","charCodes","join","decode","SummaryGraph","coloringDict","title","onDeleteSummaryEdge","onRequireSummaryEdge","roots","requiredEdges","addEventListener","key","classList","remove","filterOut","filterJson","JSON","parse","getItem","_i","_filterOut","Object","keys","root","rootedge","arrow-scale","edge-distances","line-style","search","object","font-weight","arrowScale","edgeId","selectedEdge","evt","action","originalEvent","shiftKey","onEdgeTapped","selected","SummaryPanel","setType","insertParam","usedData","evtBus","muSum","clearData","deletedEdges","deletedRoots","requiredRoots","setDeletedEdges","setRequiredEdges","setDeletedRoots","setRequiredRoots","filterStack","setFilterStack","tooltip","setTooltip","findColor","dict","summaryGraph","onClick","_recent$split","pop","_recent$split2","item","elem","onMouseEnter","onMouseLeave","Fragment","stack","_edge$split","_edge$split2","sourceColor","targetColor","sourceStyle","display","borderRadius","targetStyle","generateTag","HelpPopup","isPopupOpen","togglePopup","Popup","open","overlayStyle","background","animationType","modal","close","NoSolutionsPopup","onClose","findRoot","edgeList","indegreeMap","Map","has","set","indegree","fetchRootLocation","_step3","_iterator3","entry","fetchRoots","solutions","arr","frequencyDict","constructFrequencyDictionary","soln","_step4","_iterator4","urlParams","Viz","setMu","_useState3","_useState4","setGamma","_useState5","_useState6","mu2","setMu2","_useState7","_useState8","gamma2","setGamma2","_useState9","_useState10","setMuSum","_useState11","_useState12","gammaSum","setGammaSum","jsonContents","Int8Array","jsonDict","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","refreshCounter","setRefreshCounter","_useState19","_useState20","clonalL","setClonalL","_useState21","_useState22","clonalR","setClonalR","_useState23","_useState24","setRoots","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","updateUsedData","_useState31","_useState32","setUsedData","wholeData","tempUsedData","original","summary","treeEntry","labelingEntry","migrationEntry","rootLocation","foundDeletedEdge","foundRequiredRoot","foundDeletedRoot","requiredEdgeCounter","migrationEdgeString","tempSolution","stringify","edgeInSummary","tempSummaryElement","slice","last_edit","toggleNoSolutionsPopup","tempNames","multiSoln","tempNames1","inputData","tempNames2","inputData2","setData","data2","setData2","Array","isArray","_useState33","_useState34","labelNames","setLabelNames","_useState35","_useState36","inputNames","setInputNames","labelName","labelName2","_useState37","_useState38","setLabeling","_useState39","_useState40","labeling2","setLabeling2","_useState41","_useState42","rotate","setRotate","_useState43","_useState44","rotate2","setRotate2","_useState45","_useState46","originalTree","originalLabeling","_useState47","_useState48","_useState49","_useState50","_useState51","_useState52","setTree","_useState53","_useState54","tree_labeling","setTreeLabeling","_useState55","_useState56","setMigration","_useState57","_useState58","tree2","setTree2","_useState59","_useState60","tree_labeling2","setTreeLabeling2","_useState61","_useState62","migration2","setMigration2","_useState63","_useState64","setClonalMap","_useState65","_useState66","clonalMap2","setClonalMap2","_useState67","_useState68","inputTree","setInputTree","_useState69","_useState70","inputTree2","setInputTree2","_useState71","_useState72","setInputData","_useState73","_useState74","setInputData2","origExists","_useState75","_useState76","setColoring","self","solutionNames","temps","some","coord_map","closeTab","tabIndex","protocol","host","prevCounter","resetFn","resetClonal","handleKeyPress","loadingOverlay","parentElement","_useState77","listeners","callback","removeListener","listener","_useState78","_useState79","_useState80","isHelpPopupOpen","setIsHelpPopupOpen","_useState81","_useState82","isNoSolutionsPopupOpen","setIsNoSolutionsPopupOpen","toggleHelpPopup","edge_id","_edge_id$split","_edge_id$split2","updatedEdges","_edge_id$split3","_edge_id$split4","htmlFor","onChange","targetLabel","bind","rotated2","Home","json_dict","A1","A7","A10","A22","A29","A31","A32","patient1_LOv","patient1_ROv","patient2","patient3_LOv","patient3_ROv","patient4_LOv","patient4_ROv","patient7_LOv","patient7_ROv","patient9_LOv","patient9_ROv","patient10","tracerx","default_patients","default_dirs","div_elements","which_color","_loop","current_directory","current_color","link","URLs","current_patient","overlay","loadingContainer","loadingHeader","textContent","setTimeout","download","url","filename","axios","responseType","then","res","fileDownload","accept","json_contents","reader","FileReader","file","files","onload","readerEvt","jsonString","labelnames","readAsText","App","createBrowserHistory","basename","Switch","Route","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","StrictMode","Router"],"mappings":"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","file":"static/js/main.b02f02df.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sample_page.17167d94.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVR4nO2USwrEIBAF6xJp5kg5dyQM+aySRfa5iMNAC0ISBE0v8nnQKCpVoI3wtLSAsxQ4oLEUXD8d8LUUeK1XcKMraoARkB2B6F5RV/UKnBUYBKJrXs9kRyJQGON5EBelAqYIHmoBPqXwI0kWPPUNCDBoSeLHdZYt6I845oJ15yF9Zv1Zm9QnSVZl3SQ/PmdfIXJmioIAAAAASUVORK5CYII=\"","import React from 'react';\nimport {\n    Link\n  } from \"react-router-dom\";\n\n// Figures\nimport sample_page from \"../assets/sample_page.png\";\n\n\n/**\n * This page is simply a description of the application with a contact list\n */\nfunction About() {\n    return (\n        <div className='about'>\n            <div className='panel about'>\n                <div className='aboutcontainer'>\n                    <p className='backarrow'><b><Link to=\"\" style={{ textDecoration: 'none', color: 'black'}}>&#8592; home</Link></b></p>\n                    <h1 className='abouttitle'>Instructions</h1>\n                </div>\n                <p><b>NOTE: If you want to see more detailed documentation, refer to the following <a href='https://github.com/elkebir-group/mach2-viz/blob/main/docs/documentation.md'>link</a></b></p>\n                <p id='mach2'><b>MACH2</b> is a personalized tool to visualize cancer metastasis. It is a sequel to MACHINA, an algorithm designed to solve the Parsimonious Migration History Problem (PMH problem).</p>\n                <p id='ii'><b>The Parsimonious Migration History Problem:</b> Given current oncological mutations at their respective anatomical sites, how can we infer their mutation tree as well as a network of anatomical sites inferring metastases?</p>\n                <p id='iii'><b>Visualization Format:</b></p>\n                <p>Upon selecting one of the examples on the home page, you will be redirected to the visualization page. The page showcases multiple panels. The descriptions along with an image of the panels are shown below:</p>\n                <ul style={{columns: 1}}>\n                    <li><p><b>MACH2 Solutions (middle and right):</b>The solutions computed by MACH2 are displayed here. Change between possible solutions by selecting the drop down menu at the top of the panel. Each graph in this panel is described below:</p></li>\n                    <ul style={{columns: 1}}>\n                        <li><p><b>Clonal Tree (bottom right and bottom middle):</b> This is a tree of oncological mutations. Each node in this tree is a variant allele in the cancer patient. Each edge is a mutation from one variant to another.\n                        In the case of multiple clonal tree solutions, you can click the drop-down on the main panel (labeled \"jsons/hoadley16_A7-1\" below) to select between them.\n                        Additionally, you can see that there are buttons that say \"Clonal Tree\" and \"Input Tree\". The clonal tree displays the tree of mutations after polytomy refinement done by MACH2. The input tree is simply the original tree before these refinements are applied.\n                        </p></li>\n                        <li><p><b>Migration Graph (top right and top middle):</b> Each node in the clonal tree has a tag with an anatomical location inferred using <a href='https://en.wikipedia.org/wiki/Maximum_parsimony_(phylogenetics)'>Maximum Parsimony</a>. The clonal tree is compressed into a migration graph where each node represents an anatomical location, and each edge is a metastasis (e.g. a migration) between two anatomical locations.</p></li>   \n                    </ul>\n                    <li><p><b>Summary (left):</b> You can also view a summary migration graph that is computed by unioning edges across migration graphs in each solution. Edges are weighted by the number of solutions they appear in.</p></li>\n                </ul>\n                <p>You can click on the long gray bars on the sides of the visualization page to add extra panels. You can also click the \"[X]\" buttons on the top right corners of panels to delete them.</p>\n                <div className=\"image-container\">\n                    <img className='aboutimg' src={sample_page} alt=\"Sample Page\"></img>\n                </div>\n                <p id='iv'><b>Filtering Solutions:</b></p>\n                <p>The user has an option to delete or require edges displayed on the Summary Panel. Their functions are described below:</p>\n                <ul style={{columns: 1}}>\n                    <li><p><b>Delete edges: </b>Shift+Click on an edge in the summary panel to delete it. By deleting it, the MACH2 solution panels will only show solutions that do not have the edge in their solution.</p></li>\n                    <li><p><b>Require edges: </b>Click on an edge in the summary panel to require it. By requiring it, the MACH2 solution panels will only show solutions that have that edge in their solution.</p></li>\n                </ul>\n                <p>To undo actions, you can click the undo arrow that will appear on the top right corner of the summary panel after editing the summary panel edges.</p>\n                <p id='v'><b>Generating inputs:</b></p>\n                <p>MACH2 should already output a JSON format that is fully compatible with MACH2-Viz. However, if you are interested in using MACHINA, we have provided a <a href=\"https://github.com/vikramr2/json_compression\">json compression</a> program that takes an output directory from MACHINA that contains <b>.tree</b> files and their corresponding <b>.labeling</b> files, and returns a <b>.json</b> file that can be used as input for this visualizer. Click the \"+\" icon in the home page to use this feature. For more information, see this <a href='https://github.com/vikramr2/json_compression/blob/main/README.md'>README</a>. Output from any algorithm that solves the PMH problem will be accepted provided that it is in a JSON format as shown in the README.</p>\n                <p id='vi'><b>Questions? Contact</b></p>\n                <ul id=\"singlecol\">\n                    <li><p>Vikram Ramavarapu (<a href=\"mailto:vikramr2@illinois.edu\">vikramr2@illinois.edu</a>)</p></li>\n                    <li><p>Roman Mineyev (<a href=\"mailto:mineyev2@illinois.edu\">mineyev2@illinois.edu</a>)</p></li>\n                    <li><p>Akul Joshi (<a href=\"mailto:akulj2@illinois.edu\">akulj2@illinois.edu</a>)</p></li>\n                    <li><p>Mrinmoy Roddur (<a href=\"mailto:mroddur2@illinois.edu\">mroddur2@illinois.edu</a>)</p></li>\n                    <li><p>Mohammed El-Kebir (<a href=\"mailto:melkebir@illinois.edu\">melkebir@illinois.edu</a>)</p></li>\n                </ul>\n            </div>\n        </div>\n    );\n}\n\nexport default About;","import React, { useEffect, useMemo } from 'react'\nimport { useState } from \"react\";\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport Cytoscape from 'cytoscape';\nimport COSEBilkent from 'cytoscape-cose-bilkent';\nimport dagre from 'cytoscape-dagre';\n\n// Load Cytoscape submodules\nCytoscape.use(dagre);\n\nfunction findCorresponding(clonalMap, currNode, clonal) {\n  if (clonal) {\n    let corrNodes = [];\n    clonalMap.forEach((row) => {\n      if (row[1] === currNode) {\n        corrNodes.push(row[0]);\n      }\n    })\n    return corrNodes;\n  } else {\n    clonalMap.forEach((row) => {\n      if (row[0] === currNode) {\n        return [row[1]];\n      }\n    })\n  }\n}\n\nfunction findCorrespondingAll(clonalMap, currNode) {\n  let corrNodes = [];\n\n  clonalMap.forEach((row) => {\n    if (row[0] === currNode) {\n      corrNodes.push(row[1])\n      corrNodes.push(row[0])\n    }\n    if (row[1] === currNode) {\n      corrNodes.push(row[0])\n      corrNodes.push(row[1])\n    }\n  })\n\n  if (corrNodes.length === 0) {\n    corrNodes.push(currNode)\n  }\n\n  return corrNodes;\n}\n\nfunction getNodesFromIds(nodes, ids) {\n  let ret = []\n\n  nodes.forEach((node) => {\n    if (ids.includes(node.id())) {\n      ret.push(node.id())\n    }\n  })\n\n  return ret;\n}\n\nfunction getSubtree(tree, nodes) {\n  let edges = [];\n\n  tree.forEach((edge) => {\n    if (nodes.includes(edge[0]) && nodes.includes(edge[1])) {\n      edges.push(edge)\n    }\n  })\n\n  return edges;\n}\n\nfunction getNodesInTree(tree, ids) {\n  let nodes = [...new Set([].concat.apply([], tree))];\n  return ids.filter((id) => nodes.includes(id));\n}\n\n/** This component contains the clonal tree showing the tumor phylogeny\n * \n * @param {*} props The JSX props used on this tag\n *  - coloring: (array) The coloring scheme of the tree\n *  - labeling: (array) The anatomical labels of each clone\n *  - tree:     (array) The tree topology as an edgelist\n *  - evtbus:   (obj) The event handler that is shared between graph structures\n *  - rightcol: (boolean) is this tree in the right column (for dual visualizations)\n * @returns The JSX/HTML structure of the component\n */\nfunction ClonalTree(props) {\n  //console.log(props.clonalMap)\n  const width = \"100%\";\n  const height = \"100%\";\n\n  // Regex to check whether a string is a hex value representing a color\n  var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n  /* Default color palette\n  \n  Colorings can be specified as either:\n  - [node, index (int)]       : The second element is an index (mod length) chosen from the default color palette\n  - [node, hex color (string)]: The second element is a custom hex color */\n  const colorPalette = [\n    \"#a6cee3\",\n    \"#1f78b4\",\n    \"#b2df8a\",\n    \"#33a02c\",\n    \"#fb9a99\",\n    \"#e31a1c\",\n    \"#fdbf6f\",\n    \"#ff7f00\",\n    \"#cab2d6\",\n    \"#6a3d9a\",\n    \"#ffff99\",\n    \"#b15928\"\n  ]\n  const ncolors = colorPalette.length;\n\n  // DEFINE FUNCTIONS HERE\n\n  /** Given a clonal label, find its corresponding color in the graph\n   * \n   * @param {*} label (string) the clonal label\n   * @returns the hex value string of the color corresponding to the label\n   */\n  function getColor(label) {\n    // if (!label) return '#000';\n    // let color = props.coloring.map((value, index) => {\n    //   if (value[0] === label) return value[1]}).filter((item) => {return item != undefined})[0];\n    // return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors]\n\n    if (!label) return '#000';\n  \n    let colorValue = props.coloring.find(value => value[0] === label);\n    \n    let color = colorValue ? colorValue[1] : undefined;\n  \n    return hexColorRegex.test(color) \n      ? color \n      : colorPalette[parseInt(color) % ncolors];\n  }\n\n  /** Filter an array into only unique elements*/\n  function onlyUnique(value, index, array) {\n    return array.indexOf(value) === index;\n  }\n\n  /** Find corresponding anatomical label of clone\n   * \n   * @param {*} node clone ID\n   * @returns anatomical location of clone\n   */\n  function findLabel(node) {\n    // return props.labeling.map((value, index) => {\n    //   if (value[0] === node) return value[1]}).filter((item) => {return item != undefined})[0];\n\n    let labelPair = props.labeling.find(value => value[0] === node);\n  \n    return labelPair ? labelPair[1] : undefined;\n  }\n\n  // Define the nodes and edges of the graph\n  let nodes = props.tree.map(array => {\n    // Entry structure in tree [u, v, time] s.t. time is the temporal value of the clonal mutation \n    // Create a new array excluding the third element since \n    return array.filter((_, index) => index !== 2);\n  }).flat().filter(onlyUnique).map((value, index) => {\n    return { data: { id: value, label: findLabel(value), type: \"ip\"} };\n  });\n  let edges = props.tree.map((value, index) => {\n    return { data: { source: value[0], target: value[1], label: `${value[0]}->${value[1]}`, migration: `${findLabel(value[0])}->${findLabel(value[1])}`} }\n  })\n\n  // Set the graph as a React state\n  const [graphData, setGraphData] = useState({\n    nodes: nodes,\n    edges: edges\n  });\n\n  // Handle graph changes (this is for when we switch the solution)\n  useEffect(() => {\n    // Reset nodes and labeling\n    nodes = props.tree.map(array => {\n      return array.filter((_, index) => index !== 2);\n    }).flat().filter(onlyUnique).map((value, index) => {\n      return { data: { id: value, label: findLabel(value), type: \"ip\"} }\n    });\n\n    edges = props.tree.map((value, index) => {\n      return { data: { source: value[0], target: value[1], label: `${value[0]}->${value[1]}`, migration: `${findLabel(value[0])}->${findLabel(value[1])}`} }\n    })\n\n    // Set the graph state\n    setGraphData({\n      nodes: nodes,\n      edges: edges\n    })\n  \n  // Set this change dependent on the tree or labeling change\n  }, [props.tree, props.labeling])\n\n  // This is like CSS for the Cytoscape graph\n  let styleSheet = [\n    {\n      selector: \"node\",\n      style: {\n        backgroundColor: \"#4a56a6\",\n        width: 15,\n        height: 15,\n        label: \"data(id)\",\n        \"overlay-padding\": \"6px\",\n        \"z-index\": \"10\",\n        \"text-outline-width\": \"2px\",\n        color: \"white\",\n        fontSize: 15\n      }\n    },\n    {\n      selector: \"node:selected\",\n      style: {\n        \"border-width\": \"6px\",\n        \"border-color\": \"#AAD8FF\",\n        \"border-opacity\": \"0.5\",\n        \"background-color\": \"#77828C\",\n        width: 50,\n        height: 50,\n\n        //text props\n        \"text-outline-color\": \"#77828C\",\n        \"text-outline-width\": 8\n      }\n    },\n    {\n      selector: \"edge\",\n      style: {\n        width: 3,\n        \"line-color\": \"#AAD8FF\",\n        \"target-arrow-color\": \"#6774cb\",\n        \"target-arrow-shape\": \"triangle\",\n        \"curve-style\": \"bezier\"\n      }\n    }\n  ];\n\n  // Set the coloring dynamically in the stylesheet using the coloring props\n  props.coloring.forEach((value, index) => {\n    styleSheet.push({\n      selector: `node[label='${value[0]}']`,\n      style: {\n        backgroundColor: hexColorRegex.test(value[1]) ? value[1] : colorPalette[parseInt(value[1]) % ncolors]\n      }\n    })\n  })\n\n  // Style the edges dynamically via gradients based on the node colors\n  edges.forEach((value, index) => {\n    let source = value.data.source;\n    let target = value.data.target;\n    styleSheet.push({\n      selector: `edge[label='${source}->${target}']`,\n      style: {\n        'line-fill': 'linear-gradient',\n        'line-gradient-stop-colors': `${getColor(findLabel(source))} ${getColor(findLabel(target))}`,\n        'line-gradient-stop-positions': '33% 66%',\n        \"target-arrow-color\": `${getColor(findLabel(target))}`\n      }\n    })\n  })\n\n  // The layout encompasses node positions on load, animations, and events\n  let myCyRef;\n  const layout = {\n    name: \"dagre\",  // Dagre: Layout graph like a DAG (this is good for trees!)\n    fit: true,\n    // circle: true,\n    directed: true,\n    padding: 10,\n    // spacingFactor: 1.5,\n    animate: true,\n    animationDuration: 1000,\n    avoidOverlap: true,\n    nodeDimensionsIncludeLabels: false,\n    ready: function() {\n      // Event listener\n      const listener = (eventName, eventData) => {\n        // Respond to event from other graph here\n        // When a node ge\n        if (eventName === 'selectNodeCl') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          myCyRef.$(`edge[migration='${eventData.nodeId}']`).css({\n            width: 10\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'deselectNodeCl') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          myCyRef.$(`edge[migration='${eventData.nodeId}']`).css({\n            width: 3\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'hoverNodeCl') {\n          myCyRef.$(`edge[migration='${eventData.nodeId}->${eventData.nodeId}']`).css({\n            width: 10\n          })\n        }\n        if (eventName === 'dehoverNodeCl') {\n          myCyRef.$(`edge[migration='${eventData.nodeId}->${eventData.nodeId}']`).css({\n            width: 3\n          })\n        }\n        if (eventName === 'selectNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let label = eventData.label;\n\n          myCyRef.$(`edge[label='${label}']`).css({\n            width: 10\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'deselectNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let label = eventData.label;\n\n          myCyRef.$(`edge[label='${label}']`).css({\n            width: 3\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'hoverNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let source = eventData.nodeId;\n\n          myCyRef.$(`node[id='${source}']`).css({\n            width: 25,\n            height: 25\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'dehoverNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let source = eventData.nodeId;\n\n          myCyRef.$(`node[id='${source}']`).css({\n            width: 15,\n            height: 15\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'resetClonal') {\n          let index = eventData.index\n          if (index === props.index) {\n            setGraphData({\n              nodes: nodes,\n              edges: edges\n            })\n          }\n        }\n        if (eventName === 'clonalHover') {\n          let corrNodes = eventData.eventParams\n          //console.log(props.index)\n\n          if (corrNodes !== undefined) {\n            corrNodes.forEach((source) => {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${source}']`).css({\n                width: 25,\n                height: 25\n              })\n              node.trigger('select');\n            })\n\n            let subtree = getSubtree(props.tree, corrNodes);\n            subtree.forEach((edge) => {\n              myCyRef.$(`edge[label='${edge[0]}->${edge[1]}']`).css({\n                width: 10\n              })\n            })\n          }\n        }\n\n        if (eventName === 'clonalDehover') {\n          let corrNodes = eventData.eventParams\n          //console.log(props.index)\n\n          if (corrNodes !== undefined) {\n            corrNodes.forEach((source) => {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${source}']`).css({\n                width: 15,\n                height: 15\n              })\n              node.trigger('select');\n            })\n\n            let subtree = getSubtree(props.tree, corrNodes);\n            subtree.forEach((edge) => {\n              myCyRef.$(`edge[label='${edge[0]}->${edge[1]}']`).css({\n                width: 3\n              })\n            })\n          }\n        }\n\n        if (eventName === 'zoomClonal') {\n          let node = eventData.node\n          let corr = getNodesInTree(props.tree, eventData.corr)[0];\n          let fetched = myCyRef.$(`node[id='${corr}']`);\n\n          try {\n            myCyRef.fit(fetched)\n          } catch {\n            myCyRef.fit(node)\n          }\n        }\n      };\n      props.evtbus.addListener(listener);\n    }\n  };\n\n  // Memoization: Log the graph layout so that when states change, we dont have to recompute everything\n  const memoizedGraphComponent = useMemo(() => ( <CytoscapeComponent\n    elements={CytoscapeComponent.normalizeElements(graphData)}\n    style={{ width: width, height: height }}\n    zoomingEnabled={true}\n    maxZoom={3}\n    minZoom={0.1}\n    autounselectify={true}\n    boxSelectionEnabled={true}\n    layout={layout}\n    stylesheet={styleSheet}\n    cy={cy => {\n      myCyRef = cy;\n\n      // Here we handle events on the graph\n      cy.on('mouseover', 'node', function(event) {\n        // Get the node information\n        var node = event.target;\n        var label = node.data('label');\n        \n        if (label !== undefined) {\n          // Create the div element\n          var div = document.createElement(\"div\");\n          div.setAttribute(\"class\", \"panel popup\");\n\n          div.innerHTML = `<p>${label}&nbsp;</p>`;\n        \n          // Position the div element near the node\n          const nodePos = node.position();\n          \n          // Get the container element\n          const container = cy.container();\n          const zoomLevel = cy.zoom();\n\n\n          // Get the container's absolute position on the webpage\n          const containerRect = container.getBoundingClientRect();\n\n\n          div.style.position = \"absolute\";\n          const absoluteX = containerRect.left + nodePos.x * zoomLevel + cy.pan().x + 15;\n          const absoluteY = containerRect.top + nodePos.y * zoomLevel + cy.pan().y - 15;\n\n          div.style.top = absoluteY + 'px';\n          div.style.left = absoluteX + 'px';\n        \n          // Add the div element to the page\n          document.body.appendChild(div);\n\n          // Style the anatomical location tag on hover\n          var labeltag = document.querySelector(`#${label}`);\n          if (labeltag !== null) {\n            labeltag.style.opacity = 1;\n            labeltag.style.zIndex = 100;\n            labeltag.style.fontWeight = 'bold';\n          }\n        }\n\n        const nodeId = event.target.id();\n\n        // Enlarge the node on hover\n        props.evtbus.fireEvent('hoverNodeSC', { nodeId });\n\n        if (props.clonalMap.length > 0) {\n          let eventParams = findCorresponding(props.clonalMap, nodeId, props.clonal);\n          props.evtbus.fireEvent('clonalHover', { eventParams })\n        }\n      });\n\n      cy.on('mouseout', 'node', function(event){\n        // Remove the div element on mouseout\n        var div = document.querySelector('.panel.popup');\n        if (document.body.contains(div)) {\n          document.body.removeChild(div);\n        }\n\n        const nodeId = event.target.id();\n\n        var node = event.target;\n        var label = node.data('label');\n\n        var labeltag = document.querySelector(`#${label}`);\n        if (labeltag !== null) {\n          labeltag.style.opacity = 0.7;\n          labeltag.style.zIndex = 1;\n          labeltag.style.fontWeight = 'normal';\n        }\n\n        // Shrink the node back to size\n        props.evtbus.fireEvent('dehoverNodeSC', { nodeId });\n\n        if (props.clonalMap.length > 0) {\n          let eventParams = findCorresponding(props.clonalMap, nodeId, props.clonal);\n          props.evtbus.fireEvent('clonalDehover', { eventParams })\n        }\n      });\n\n      cy.on('mouseover', 'edge', function(event) {\n        const { target } = event;\n\n        // Enlarge the edge\n        target.css({\n          width: 10\n        })\n        const nodeId = event.target.id();\n        let source = findLabel(target.data().source);\n        let sink = findLabel(target.data().target);\n        let label = target.data().label;\n\n        // Widen the edge in the migration graph as well\n        props.evtbus.fireEvent('selectNode', { nodeId, source, sink, target});\n        props.evtbus.fireEvent('selectNodeSC', { nodeId, source, sink, target, label});\n      });\n\n      cy.on('mouseout', 'edge', function(event) {\n        const { target } = event;\n\n        // Shrink edge back\n        target.css({\n          width: 3\n        })\n        const nodeId = event.target.id();\n        let source = findLabel(target.data().source);\n        let sink = findLabel(target.data().target);\n        let label = target.data().label;\n\n        // Shrink migration edge back\n        props.evtbus.fireEvent('deselectNode', { nodeId, source, sink, target});\n        props.evtbus.fireEvent('deselectNodeSC', { nodeId, source, sink, target, label});\n      });\n\n      cy.on('tap', 'node', (event) => {\n        const node = event.target;\n        let corr = [...new Set(findCorrespondingAll(props.clonalMap, node.id()))]\n\n        props.evtbus.fireEvent('zoomClonal', { node, corr })\n\n        cy.fit(node)\n      });\n    }}\n    />), [graphData] )\n    return memoizedGraphComponent;\n}\n\nexport default ClonalTree;","import React, { useEffect, useMemo } from 'react'\nimport { useState } from \"react\";\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport Cytoscape from 'cytoscape';\nimport COSEBilkent from 'cytoscape-cose-bilkent';\nimport dagre from 'cytoscape-dagre';\n\nCytoscape.use(dagre);\nCytoscape.use(COSEBilkent);\n\n/** Migration graph showing the anatomical cancer metastases\n * \n * @param {*} props \n * - labeling:  anatomic labeling for the nodes\n * - coloring:  coloring scheme\n * - tree:      clonal tree edgelist\n * - migration: precomputed migration graph\n * - rightcol:  Is this a dualviz right column migration graph?\n * - rotated:   Is the graph rotated?\n * @returns JSX/HTML\n */\nfunction Migration({ tree, labeling, coloring, migration, evtbus, rightcol, rotated, setLoadingAction }) {\n      var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n      const colorPalette = [\n        \"#a6cee3\",\n        \"#1f78b4\",\n        \"#b2df8a\",\n        \"#33a02c\",\n        \"#fb9a99\",\n        \"#e31a1c\",\n        \"#fdbf6f\",\n        \"#ff7f00\",\n        \"#cab2d6\",\n        \"#6a3d9a\",\n        \"#ffff99\",\n        \"#b15928\"\n      ]\n      const ncolors = colorPalette.length;\n    \n      const width = \"100%\";\n      const height = \"100%\";\n    \n      function onlyUnique(value, index, array) {\n        return array.indexOf(value) === index;\n      }\n    \n      function findLabel(node) {\n        const found = labeling.find(value => value[0] === node);\n        return found ? found[1] : undefined;\n        // return labeling.map((value, index) => {\n          // if (value[0] === node) return value[1]}).filter((item) => {return item !== undefined})[0];\n      }\n\n      function getColor(label) {\n        // let color = coloring.map((value, index) => {\n        //   if (value[0] === label) return value[1]}).filter((item) => {return item !== undefined})[0];\n        // return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors]\n\n        let color = coloring.find(value => value[0] === label);\n        \n        if (color) {\n          color = color[1];\n        }\n\n        return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors];\n      }\n    \n      // The difference between this and the Clonal Tree is that the nodes are anatomical locations instead of clones\n      let nodes = tree.map(array => {\n        // Create a new array excluding the third element\n        return array.filter((_, index) => index !== 2);\n      }).flat().filter(onlyUnique).map((value, index) => {\n        return { data: { id:  findLabel(value), label: findLabel(value), type: \"ip\"} };\n      });\n      let edges = migration.map((value, index) => {\n        return { data: { source: value[0], target: value[1], label: value[2], id: `${value[0]}->${value[1]}`, clsource: value[0], cltarget: value[1] } }\n      })\n      for (const [i, edge] of edges.entries()) {\n        // eslint-disable-next-line eqeqeq\n        if (edge.data.label == 1) {\n          edges[i].data.label = \"\";\n        }\n      }\n    \n      const [graphData, setGraphData] = useState({\n        nodes: nodes,\n        edges: edges\n      });\n\n      let myCyRef;\n\n      // Likewise switch the graph data when any of the props values change\n      useEffect(() => {\n        let nodes = tree.map(array => {\n          // Create a new array excluding the third element\n          return array.filter((_, index) => index !== 2);\n        }).flat().filter(onlyUnique).map((value, index) => {\n          return { data: { id:  findLabel(value), label: findLabel(value), type: \"ip\"} };\n        });\n        let edges = migration.map((value, index) => {\n          return { data: { source: value[0], target: value[1], label: value[2], id: `${value[0]}->${value[1]}`, clsource: value[0], cltarget: value[1] } }\n        })\n        for (const [i, edge] of edges.entries()) {\n          // eslint-disable-next-line eqeqeq\n          if (edge.data.label == 1) {\n            edges[i].data.label = \"\";\n          }\n        }\n        setGraphData({\n          nodes: nodes,\n          edges: edges\n        })\n      }, [tree, labeling, migration, rotated])\n\n      let styleSheet = [\n        {\n          selector: \"node\",\n          style: {\n            backgroundColor: \"#fff\",\n            'border-width': 10,\n            shape: \"rectangle\",\n            width: 100,\n            height: 50,\n            label: \"data(label)\",\n    \n            // \"width\": \"mapData(score, 0, 0.006769776522008331, 20, 60)\",\n            // \"height\": \"mapData(score, 0, 0.006769776522008331, 20, 60)\",\n            // \"text-valign\": \"center\",\n            // \"text-halign\": \"center\",\n            \"overlay-padding\": \"6px\",\n            \"z-index\": \"10\",\n            //text props\n            //\"text-outline-color\": \"#4a56a6\",\n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15,\n            'text-valign': 'center',\n            'text-halign': 'center'\n          }\n        },\n        {\n          selector: \"node:selected\",\n          style: {\n            \"border-width\": \"6px\",\n            \"border-color\": \"#AAD8FF\",\n            \"border-opacity\": \"0.5\",\n            \"background-color\": \"#77828C\",\n            width: 50,\n            height: 50,\n            //text props\n            \"text-outline-color\": \"#77828C\",\n            \"text-outline-width\": 8\n          }\n        },\n        {\n          selector: \"node[type='device']\",\n          style: {\n            shape: \"rectangle\"\n          }\n        },\n        {\n          selector: \"edge\",\n          style: {\n            width: 3,\n            // \"line-color\": \"#6774cb\",\n            label: \"data(label)\",\n            \"target-arrow-color\": \"#6774cb\",\n            \"target-arrow-shape\": \"triangle\",\n            \"curve-style\": \"bezier\",\n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15\n          }\n        }\n      ];\n      \n      coloring.forEach((value, index) => {\n        styleSheet.push({\n          selector: `node[label='${value[0]}']`,\n          style: {\n            'border-color': hexColorRegex.test(value[1]) ? value[1] : colorPalette[parseInt(value[1]) % ncolors]\n          }\n        });\n      });\n\n      edges.forEach((value, index) => {\n        let source = value.data.source;\n        let target = value.data.target;\n        styleSheet.push({\n          selector: `edge[id='${source}->${target}']`,\n          style: {\n            'line-fill': 'linear-gradient',\n            'line-gradient-stop-colors': `${getColor(source)} ${getColor(target)}`,\n            'line-gradient-stop-positions': '33% 66%',\n            \"target-arrow-color\": `${getColor(target)}`\n          }\n        })\n      })\n\n      // Is the migration graph rotated?\n      const queryParameters = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n      let is_rotated = rightcol ? queryParameters.get(\"rotated2\") === \"true\" : queryParameters.get(\"rotated\") === \"true\";\n      if (is_rotated === null) {\n        is_rotated = false;\n      }\n\n      const layout = {\n        name: \"dagre\",\n        fit: true,\n        circle: true,\n        directed: true,\n        padding: 10,\n        // spacingFactor: 1.5,\n        animate: true,\n        animationDuration: 1000,\n        avoidOverlap: true,\n        nodeDimensionsIncludeLabels: false,\n\n        // Position the nodes based on the rotated parameter\n        transform: (node, position) => {\n          return {\n            x: rotated ? -2*position.y : position.x,\n            y: rotated ? position.x : position.y\n          }\n        },\n\n        ready: function() {\n          const listener = (eventName, eventData) => {\n            // Respond to event from other graph here\n            // For example:\n            if (eventName === 'selectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 10\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'deselectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 3\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'selectNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`edge[id='${eventData.nodeId}']`).css({\n                width: 10\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'deselectNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`edge[id='${eventData.nodeId}']`).css({\n                width: 3\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'hoverNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${eventData.nodeId}']`).css({\n                'border-width': 20,\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'dehoverNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${eventData.nodeId}']`).css({\n                'border-width': 10,\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'resetMigration') {\n              if ((eventData.index === 1 && !rightcol) || (eventData.index === 2 && rightcol)) {\n                setGraphData({\n                  nodes: nodes,\n                  edges: edges\n                })\n              }\n            }\n          };\n          evtbus.addListener(listener);\n        }\n      };\n\n      /** Parameter definitions\n       * \n       * Migration Number (Mu):       Sum of the edge weights\n       * Comigration Number (Gamma):  Number of unique migrations\n       */\n      let mu = 0;\n      let gamma = edges.length;\n      edges.forEach((edge) => {\n        // eslint-disable-next-line eqeqeq\n        if (edge.data.label == '') {\n          mu += 1;\n        } else {\n          mu += parseInt(edge.data.label);\n        }\n      })\n\n      // Which mu and gamma are we setting (this is for dualviz)\n      if (!rightcol) {\n        sessionStorage.setItem(\"mu\", mu);\n        sessionStorage.setItem(\"gamma\", gamma);\n      } else {\n        sessionStorage.setItem(\"mu2\", mu);\n        sessionStorage.setItem(\"gamma2\", gamma);\n      }\n    \n      const memoizedGraphComponent = useMemo(() => ( <CytoscapeComponent\n        elements={CytoscapeComponent.normalizeElements(graphData)}\n        // pan={{ x: 200, y: 200 }}\n        style={{ width: width, height: height }}\n        zoomingEnabled={true}\n        maxZoom={3}\n        minZoom={0.1}\n        autounselectify={true}\n        boxSelectionEnabled={true}\n        layout={layout}\n        stylesheet={styleSheet}\n        cy={cy => {\n          myCyRef = cy;\n\n          cy.on('mouseover', 'edge', function(event) {\n            const { target } = event;\n            target.css({\n              width: 10\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('selectNodeSum', { nodeId, target});\n            evtbus.fireEvent('selectNodeCl', { nodeId, target});\n          });\n\n          cy.on('mouseover', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 20,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('hoverNodeSum', { nodeId });\n            evtbus.fireEvent('hoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 1;\n              labeltag.style.zIndex = 100;\n              labeltag.style.fontWeight = 'bold';\n            }\n          })\n\n          cy.on('mouseout', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 10,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('dehoverNodeSum', { nodeId });\n            evtbus.fireEvent('dehoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 0.7;\n              labeltag.style.zIndex = 1;\n              labeltag.style.fontWeight = 'normal';\n            }\n          })\n    \n          cy.on('mouseout', 'edge', function(event) {\n            const { target } = event;\n            target.css({\n              width: 3\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('deselectNodeSum', { nodeId, target});\n            evtbus.fireEvent('deselectNodeCl', { nodeId, target});\n          });\n        }}\n        />), [graphData] )\n        return memoizedGraphComponent;\n}\n\nexport default Migration;","class DefaultDict {\n    constructor(defaultVal) {\n        return new Proxy({}, {\n        get: (target, name) => name in target ? target[name] : defaultVal\n        })\n    }\n}\n\nexport default DefaultDict;","/* eslint-disable */\n\n\n/**\n * Convert between Uint8Array and Base64 strings\n * Allows for any encoded JS string to be converted (as opposed to atob()/btoa() which only supports latin1)\n *\n * Original implementation by madmurphy on MDN\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#Solution_1__JavaScript%27s_UTF-16_%3E_base64\n */\n\nfunction b64ToUint6(nChr) {\n    return nChr > 64 && nChr < 91\n      ? nChr - 65\n      : nChr > 96 && nChr < 123\n      ? nChr - 71\n      : nChr > 47 && nChr < 58\n      ? nChr + 4\n      : nChr === 43\n      ? 62\n      : nChr === 47\n      ? 63\n      : 0\n  }\n  \n  export function decodeToArray(base64string, blockSize) {\n    var sB64Enc = base64string.replace(/[^A-Za-z0-9\\+\\/]/g, ''),\n      nInLen = sB64Enc.length,\n      nOutLen = blockSize\n        ? Math.ceil(((nInLen * 3 + 1) >>> 2) / blockSize) * blockSize\n        : (nInLen * 3 + 1) >>> 2,\n      aBytes = new Uint8Array(nOutLen)\n  \n    for (\n      var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0;\n      nInIdx < nInLen;\n      nInIdx++\n    ) {\n      nMod4 = nInIdx & 3\n      nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << (18 - 6 * nMod4)\n      if (nMod4 === 3 || nInLen - nInIdx === 1) {\n        for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {\n          aBytes[nOutIdx] = (nUint24 >>> ((16 >>> nMod3) & 24)) & 255\n        }\n        nUint24 = 0\n      }\n    }\n  \n    return aBytes\n  }\n  \n  function uint6ToB64(nUint6) {\n    return nUint6 < 26\n      ? nUint6 + 65\n      : nUint6 < 52\n      ? nUint6 + 71\n      : nUint6 < 62\n      ? nUint6 - 4\n      : nUint6 === 62\n      ? 43\n      : nUint6 === 63\n      ? 47\n      : 65\n  }\n  \n  export function encodeFromArray(bytes) {\n    var eqLen = (3 - (bytes.length % 3)) % 3,\n      sB64Enc = ''\n  \n    for (\n      var nMod3, nLen = bytes.length, nUint24 = 0, nIdx = 0;\n      nIdx < nLen;\n      nIdx++\n    ) {\n      nMod3 = nIdx % 3\n      /* Uncomment the following line in order to split the output in lines 76-character long: */\n      /*\n      if (nIdx > 0 && (nIdx * 4 / 3) % 76 === 0) { sB64Enc += \"\\r\\n\"; }\n      */\n      nUint24 |= bytes[nIdx] << ((16 >>> nMod3) & 24)\n      if (nMod3 === 2 || bytes.length - nIdx === 1) {\n        sB64Enc += String.fromCharCode(\n          uint6ToB64((nUint24 >>> 18) & 63),\n          uint6ToB64((nUint24 >>> 12) & 63),\n          uint6ToB64((nUint24 >>> 6) & 63),\n          uint6ToB64(nUint24 & 63)\n        )\n        nUint24 = 0\n      }\n    }\n  \n    return eqLen === 0\n      ? sB64Enc\n      : sB64Enc.substring(0, sB64Enc.length - eqLen) + (eqLen === 1 ? '=' : '==')\n  }\n  \n  /**\n   * URL-safe variants of Base64 conversion functions (aka base64url)\n   * @see https://tools.ietf.org/html/rfc4648#section-5\n   */\n  \n  export function encodeFromArrayUrlSafe(bytes) {\n    return encodeURIComponent(\n      encodeFromArray(bytes)\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n    )\n  }\n  \n  export function decodeToArrayUrlSafe(base64string) {\n    return decodeToArray(\n      decodeURIComponent(base64string)\n        .replace(/-/g, '+')\n        .replace(/_/g, '/')\n    )\n  }\n  ","/* eslint-disable */\n\n/*\nThe LZMA impementation is taken from https://npm.is/lzma-js, converted to an ES module and with some features stripped off (e.g. async mode, worker support)\n\nHere's the according MIT license:\n\n 2016 Nathan Rugg <nmrugg@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport * as base64 from './base64.js'\n\nconst __4294967296 = 4294967296,\n  N1_longLit = [4294967295, -__4294967296],\n  MIN_VALUE = [0, -9223372036854775808],\n  P0_longLit = [0, 0],\n  P1_longLit = [1, 0]\n\nfunction add(a, b) {\n  return create(a[0] + b[0], a[1] + b[1])\n}\n\nfunction initDim(len) {\n  // NOTE: This is MUCH faster than \"initDim(len)\" in newer versions of v8 (starting with Node.js 0.11.15, which uses v8 3.28.73).\n  var a = []\n  a[len - 1] = undefined\n  return a\n}\nfunction and(a, b) {\n  return makeFromBits(\n    ~~Math.max(Math.min(a[1] / __4294967296, 2147483647), -2147483648) &\n      ~~Math.max(Math.min(b[1] / __4294967296, 2147483647), -2147483648),\n    lowBits_0(a) & lowBits_0(b)\n  )\n}\nfunction compare(a, b) {\n  var nega, negb\n  if (a[0] == b[0] && a[1] == b[1]) {\n    return 0\n  }\n  nega = a[1] < 0\n  negb = b[1] < 0\n  if (nega && !negb) {\n    return -1\n  }\n  if (!nega && negb) {\n    return 1\n  }\n  if (sub(a, b)[1] < 0) {\n    return -1\n  }\n  return 1\n}\n\nfunction create(valueLow, valueHigh) {\n  var diffHigh, diffLow\n  valueHigh %= 1.8446744073709552e19\n  valueLow %= 1.8446744073709552e19\n  diffHigh = valueHigh % __4294967296\n  diffLow = Math.floor(valueLow / __4294967296) * __4294967296\n  valueHigh = valueHigh - diffHigh + diffLow\n  valueLow = valueLow - diffLow + diffHigh\n  while (valueLow < 0) {\n    valueLow += __4294967296\n    valueHigh -= __4294967296\n  }\n  while (valueLow > 4294967295) {\n    valueLow -= __4294967296\n    valueHigh += __4294967296\n  }\n  valueHigh = valueHigh % 1.8446744073709552e19\n  while (valueHigh > 9223372032559808512) {\n    valueHigh -= 1.8446744073709552e19\n  }\n  while (valueHigh < -9223372036854775808) {\n    valueHigh += 1.8446744073709552e19\n  }\n  return [valueLow, valueHigh]\n}\nfunction eq(a, b) {\n  return a[0] == b[0] && a[1] == b[1]\n}\nfunction fromInt(value) {\n  if (value >= 0) {\n    return [value, 0]\n  } else {\n    return [value + __4294967296, -__4294967296]\n  }\n}\n\nfunction lowBits_0(a) {\n  if (a[0] >= 2147483648) {\n    return ~~Math.max(Math.min(a[0] - __4294967296, 2147483647), -2147483648)\n  } else {\n    return ~~Math.max(Math.min(a[0], 2147483647), -2147483648)\n  }\n}\nfunction makeFromBits(highBits, lowBits) {\n  var high, low\n  high = highBits * __4294967296\n  low = lowBits\n  if (lowBits < 0) {\n    low += __4294967296\n  }\n  return [low, high]\n}\n\nfunction pwrAsDouble(n) {\n  if (n <= 30) {\n    return 1 << n\n  } else {\n    return pwrAsDouble(30) * pwrAsDouble(n - 30)\n  }\n}\n\nfunction shl(a, n) {\n  var diff, newHigh, newLow, twoToN\n  n &= 63\n  if (eq(a, MIN_VALUE)) {\n    if (!n) {\n      return a\n    }\n    return P0_longLit\n  }\n  if (a[1] < 0) {\n    throw new Error('Neg')\n  }\n  twoToN = pwrAsDouble(n)\n  newHigh = (a[1] * twoToN) % 1.8446744073709552e19\n  newLow = a[0] * twoToN\n  diff = newLow - (newLow % __4294967296)\n  newHigh += diff\n  newLow -= diff\n  if (newHigh >= 9223372036854775807) {\n    newHigh -= 1.8446744073709552e19\n  }\n  return [newLow, newHigh]\n}\n\nfunction shr(a, n) {\n  var shiftFact\n  n &= 63\n  shiftFact = pwrAsDouble(n)\n  return create(Math.floor(a[0] / shiftFact), a[1] / shiftFact)\n}\n\nfunction shru(a, n) {\n  var sr\n  n &= 63\n  sr = shr(a, n)\n  if (a[1] < 0) {\n    sr = add(sr, shl([2, 0], 63 - n))\n  }\n  return sr\n}\nfunction sub(a, b) {\n  return create(a[0] - b[0], a[1] - b[1])\n}\n\nfunction $ByteArrayInputStream(this$static, buf) {\n  this$static.buf = buf\n  this$static.pos = 0\n  this$static.count = buf.length\n  return this$static\n}\nfunction $read(this$static) {\n  if (this$static.pos >= this$static.count) return -1\n  return this$static.buf[this$static.pos++] & 255\n}\nfunction $read_0(this$static, buf, off, len) {\n  if (this$static.pos >= this$static.count) return -1\n  len = Math.min(len, this$static.count - this$static.pos)\n  arraycopy(this$static.buf, this$static.pos, buf, off, len)\n  this$static.pos += len\n  return len\n}\nfunction $ByteArrayOutputStream(this$static) {\n  this$static.buf = initDim(32)\n  this$static.count = 0\n  return this$static\n}\n\nfunction $toByteArray(this$static) {\n  var data = this$static.buf\n  data.length = this$static.count\n  return data\n}\nfunction $write(this$static, b) {\n  this$static.buf[this$static.count++] = (b << 24) >> 24\n}\nfunction $write_0(this$static, buf, off, len) {\n  arraycopy(buf, off, this$static.buf, this$static.count, len)\n  this$static.count += len\n}\nfunction $getChars(this$static, srcBegin, srcEnd, dst, dstBegin) {\n  var srcIdx\n  for (srcIdx = srcBegin; srcIdx < srcEnd; ++srcIdx) {\n    dst[dstBegin++] = this$static.charCodeAt(srcIdx)\n  }\n}\nfunction arraycopy(src, srcOfs, dest, destOfs, len) {\n  for (var i = 0; i < len; ++i) {\n    dest[destOfs + i] = src[srcOfs + i]\n  }\n}\nfunction $configure(this$static, encoder) {\n  $SetDictionarySize_0(encoder, 1 << this$static.s)\n  encoder._numFastBytes = this$static.f\n  $SetMatchFinder(encoder, this$static.m)\n\n  // lc is always 3\n  // lp is always 0\n  // pb is always 2\n  encoder._numLiteralPosStateBits = 0\n  encoder._numLiteralContextBits = 3\n  encoder._posStateBits = 2\n  encoder._posStateMask = 3\n}\n\nfunction $init(this$static, input, output, length_0, mode, enableEndMark) {\n  var encoder, i\n  if (compare(length_0, N1_longLit) < 0)\n    throw new Error('invalid length ' + length_0)\n  this$static.length_0 = length_0\n  encoder = $Encoder({})\n  $configure(mode, encoder)\n  encoder._writeEndMark = enableEndMark\n  $WriteCoderProperties(encoder, output)\n  for (i = 0; i < 64; i += 8) $write(output, lowBits_0(shr(length_0, i)) & 255)\n  this$static.chunker = ((encoder._needReleaseMFStream = 0),\n  ((encoder._inStream = input),\n  (encoder._finished = 0),\n  $Create_2(encoder),\n  (encoder._rangeEncoder.Stream = output),\n  $Init_4(encoder),\n  $FillDistancesPrices(encoder),\n  $FillAlignPrices(encoder),\n  (encoder._lenEncoder._tableSize = encoder._numFastBytes + 1 - 2),\n  $UpdateTables(encoder._lenEncoder, 1 << encoder._posStateBits),\n  (encoder._repMatchLenEncoder._tableSize = encoder._numFastBytes + 1 - 2),\n  $UpdateTables(encoder._repMatchLenEncoder, 1 << encoder._posStateBits),\n  (encoder.nowPos64 = P0_longLit),\n  undefined),\n  $Chunker_0({}, encoder))\n}\n\nfunction $LZMAByteArrayCompressor(this$static, data, mode, enableEndMark) {\n  this$static.output = $ByteArrayOutputStream({})\n  $init(\n    this$static,\n    $ByteArrayInputStream({}, data),\n    this$static.output,\n    fromInt(data.length),\n    mode,\n    enableEndMark\n  )\n  return this$static\n}\nfunction $init_0(this$static, input, output) {\n  var decoder,\n    hex_length = '',\n    i,\n    properties = [],\n    r,\n    tmp_length\n\n  for (i = 0; i < 5; ++i) {\n    r = $read(input)\n    if (r == -1) throw new Error('truncated input')\n    properties[i] = (r << 24) >> 24\n  }\n\n  decoder = $Decoder({})\n  if (!$SetDecoderProperties(decoder, properties)) {\n    throw new Error('corrupted input')\n  }\n  for (i = 0; i < 64; i += 8) {\n    r = $read(input)\n    if (r == -1) throw new Error('truncated input')\n    r = r.toString(16)\n    if (r.length == 1) r = '0' + r\n    hex_length = r + '' + hex_length\n  }\n\n  // Was the length set in the header (if it was compressed from a stream, the length is all f\"s).\n  if (/^0+$|^f+$/i.test(hex_length)) {\n    // The length is unknown, so set to -1.\n    this$static.length_0 = N1_longLit\n  } else {\n    // NOTE: If there is a problem with the decoder because of the length, you can always set the length to -1 (N1_longLit) which means unknown.\n    tmp_length = parseInt(hex_length, 16)\n    // If the length is too long to handle, just set it to unknown.\n    if (tmp_length > 4294967295) {\n      this$static.length_0 = N1_longLit\n    } else {\n      this$static.length_0 = fromInt(tmp_length)\n    }\n  }\n\n  this$static.chunker = $CodeInChunks(\n    decoder,\n    input,\n    output,\n    this$static.length_0\n  )\n}\n\nfunction $LZMAByteArrayDecompressor(this$static, data) {\n  this$static.output = $ByteArrayOutputStream({})\n  $init_0(this$static, $ByteArrayInputStream({}, data), this$static.output)\n  return this$static\n}\nfunction $Create_4(this$static, keepSizeBefore, keepSizeAfter, keepSizeReserv) {\n  var blockSize\n  this$static._keepSizeBefore = keepSizeBefore\n  this$static._keepSizeAfter = keepSizeAfter\n  blockSize = keepSizeBefore + keepSizeAfter + keepSizeReserv\n  if (this$static._bufferBase == null || this$static._blockSize != blockSize) {\n    this$static._bufferBase = null\n    this$static._blockSize = blockSize\n    this$static._bufferBase = initDim(this$static._blockSize)\n  }\n  this$static._pointerToLastSafePosition =\n    this$static._blockSize - keepSizeAfter\n}\n\nfunction $GetIndexByte(this$static, index) {\n  return this$static._bufferBase[\n    this$static._bufferOffset + this$static._pos + index\n  ]\n}\n\nfunction $GetMatchLen(this$static, index, distance, limit) {\n  var i, pby\n  if (this$static._streamEndWasReached) {\n    if (this$static._pos + index + limit > this$static._streamPos) {\n      limit = this$static._streamPos - (this$static._pos + index)\n    }\n  }\n  ++distance\n  pby = this$static._bufferOffset + this$static._pos + index\n  for (\n    i = 0;\n    i < limit &&\n    this$static._bufferBase[pby + i] ==\n      this$static._bufferBase[pby + i - distance];\n    ++i\n  ) {}\n  return i\n}\n\nfunction $GetNumAvailableBytes(this$static) {\n  return this$static._streamPos - this$static._pos\n}\n\nfunction $MoveBlock(this$static) {\n  var i, numBytes, offset\n  offset =\n    this$static._bufferOffset + this$static._pos - this$static._keepSizeBefore\n  if (offset > 0) {\n    --offset\n  }\n  numBytes = this$static._bufferOffset + this$static._streamPos - offset\n  for (i = 0; i < numBytes; ++i) {\n    this$static._bufferBase[i] = this$static._bufferBase[offset + i]\n  }\n  this$static._bufferOffset -= offset\n}\n\nfunction $MovePos_1(this$static) {\n  var pointerToPostion\n  ++this$static._pos\n  if (this$static._pos > this$static._posLimit) {\n    pointerToPostion = this$static._bufferOffset + this$static._pos\n    if (pointerToPostion > this$static._pointerToLastSafePosition) {\n      $MoveBlock(this$static)\n    }\n    $ReadBlock(this$static)\n  }\n}\n\nfunction $ReadBlock(this$static) {\n  var numReadBytes, pointerToPostion, size\n  if (this$static._streamEndWasReached) return\n  while (1) {\n    size =\n      -this$static._bufferOffset +\n      this$static._blockSize -\n      this$static._streamPos\n    if (!size) return\n    numReadBytes = $read_0(\n      this$static._stream,\n      this$static._bufferBase,\n      this$static._bufferOffset + this$static._streamPos,\n      size\n    )\n    if (numReadBytes == -1) {\n      this$static._posLimit = this$static._streamPos\n      pointerToPostion = this$static._bufferOffset + this$static._posLimit\n      if (pointerToPostion > this$static._pointerToLastSafePosition) {\n        this$static._posLimit =\n          this$static._pointerToLastSafePosition - this$static._bufferOffset\n      }\n      this$static._streamEndWasReached = 1\n      return\n    }\n    this$static._streamPos += numReadBytes\n    if (\n      this$static._streamPos >=\n      this$static._pos + this$static._keepSizeAfter\n    ) {\n      this$static._posLimit =\n        this$static._streamPos - this$static._keepSizeAfter\n    }\n  }\n}\n\nfunction $ReduceOffsets(this$static, subValue) {\n  this$static._bufferOffset += subValue\n  this$static._posLimit -= subValue\n  this$static._pos -= subValue\n  this$static._streamPos -= subValue\n}\n\nvar CrcTable = (function() {\n  var i,\n    j,\n    r,\n    CrcTable = []\n  for (i = 0; i < 256; ++i) {\n    r = i\n    for (j = 0; j < 8; ++j)\n      if ((r & 1) != 0) {\n        r = (r >>> 1) ^ -306674912\n      } else {\n        r >>>= 1\n      }\n    CrcTable[i] = r\n  }\n  return CrcTable\n})()\n\nfunction $Create_3(\n  this$static,\n  historySize,\n  keepAddBufferBefore,\n  matchMaxLen,\n  keepAddBufferAfter\n) {\n  var cyclicBufferSize, hs, windowReservSize\n  if (historySize < 1073741567) {\n    this$static._cutValue = 16 + (matchMaxLen >> 1)\n    windowReservSize =\n      ~~(\n        (historySize + keepAddBufferBefore + matchMaxLen + keepAddBufferAfter) /\n        2\n      ) + 256\n    $Create_4(\n      this$static,\n      historySize + keepAddBufferBefore,\n      matchMaxLen + keepAddBufferAfter,\n      windowReservSize\n    )\n    this$static._matchMaxLen = matchMaxLen\n    cyclicBufferSize = historySize + 1\n    if (this$static._cyclicBufferSize != cyclicBufferSize) {\n      this$static._son = initDim(\n        (this$static._cyclicBufferSize = cyclicBufferSize) * 2\n      )\n    }\n\n    hs = 65536\n    if (this$static.HASH_ARRAY) {\n      hs = historySize - 1\n      hs |= hs >> 1\n      hs |= hs >> 2\n      hs |= hs >> 4\n      hs |= hs >> 8\n      hs >>= 1\n      hs |= 65535\n      if (hs > 16777216) hs >>= 1\n      this$static._hashMask = hs\n      ++hs\n      hs += this$static.kFixHashSize\n    }\n\n    if (hs != this$static._hashSizeSum) {\n      this$static._hash = initDim((this$static._hashSizeSum = hs))\n    }\n  }\n}\n\nfunction $GetMatches(this$static, distances) {\n  var count,\n    cur,\n    curMatch,\n    curMatch2,\n    curMatch3,\n    cyclicPos,\n    delta,\n    hash2Value,\n    hash3Value,\n    hashValue,\n    len,\n    len0,\n    len1,\n    lenLimit,\n    matchMinPos,\n    maxLen,\n    offset,\n    pby1,\n    ptr0,\n    ptr1,\n    temp\n  if (this$static._pos + this$static._matchMaxLen <= this$static._streamPos) {\n    lenLimit = this$static._matchMaxLen\n  } else {\n    lenLimit = this$static._streamPos - this$static._pos\n    if (lenLimit < this$static.kMinMatchCheck) {\n      $MovePos_0(this$static)\n      return 0\n    }\n  }\n  offset = 0\n  matchMinPos =\n    this$static._pos > this$static._cyclicBufferSize\n      ? this$static._pos - this$static._cyclicBufferSize\n      : 0\n  cur = this$static._bufferOffset + this$static._pos\n  maxLen = 1\n  hash2Value = 0\n  hash3Value = 0\n  if (this$static.HASH_ARRAY) {\n    temp =\n      CrcTable[this$static._bufferBase[cur] & 255] ^\n      (this$static._bufferBase[cur + 1] & 255)\n    hash2Value = temp & 1023\n    temp ^= (this$static._bufferBase[cur + 2] & 255) << 8\n    hash3Value = temp & 65535\n    hashValue =\n      (temp ^ (CrcTable[this$static._bufferBase[cur + 3] & 255] << 5)) &\n      this$static._hashMask\n  } else {\n    hashValue =\n      (this$static._bufferBase[cur] & 255) ^\n      ((this$static._bufferBase[cur + 1] & 255) << 8)\n  }\n\n  curMatch = this$static._hash[this$static.kFixHashSize + hashValue] || 0\n  if (this$static.HASH_ARRAY) {\n    curMatch2 = this$static._hash[hash2Value] || 0\n    curMatch3 = this$static._hash[1024 + hash3Value] || 0\n    this$static._hash[hash2Value] = this$static._pos\n    this$static._hash[1024 + hash3Value] = this$static._pos\n    if (curMatch2 > matchMinPos) {\n      if (\n        this$static._bufferBase[this$static._bufferOffset + curMatch2] ==\n        this$static._bufferBase[cur]\n      ) {\n        distances[offset++] = maxLen = 2\n        distances[offset++] = this$static._pos - curMatch2 - 1\n      }\n    }\n    if (curMatch3 > matchMinPos) {\n      if (\n        this$static._bufferBase[this$static._bufferOffset + curMatch3] ==\n        this$static._bufferBase[cur]\n      ) {\n        if (curMatch3 == curMatch2) {\n          offset -= 2\n        }\n        distances[offset++] = maxLen = 3\n        distances[offset++] = this$static._pos - curMatch3 - 1\n        curMatch2 = curMatch3\n      }\n    }\n    if (offset != 0 && curMatch2 == curMatch) {\n      offset -= 2\n      maxLen = 1\n    }\n  }\n  this$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos\n  ptr0 = (this$static._cyclicBufferPos << 1) + 1\n  ptr1 = this$static._cyclicBufferPos << 1\n  len0 = len1 = this$static.kNumHashDirectBytes\n  if (this$static.kNumHashDirectBytes != 0) {\n    if (curMatch > matchMinPos) {\n      if (\n        this$static._bufferBase[\n          this$static._bufferOffset + curMatch + this$static.kNumHashDirectBytes\n        ] != this$static._bufferBase[cur + this$static.kNumHashDirectBytes]\n      ) {\n        distances[offset++] = maxLen = this$static.kNumHashDirectBytes\n        distances[offset++] = this$static._pos - curMatch - 1\n      }\n    }\n  }\n  count = this$static._cutValue\n  while (1) {\n    if (curMatch <= matchMinPos || count-- == 0) {\n      this$static._son[ptr0] = this$static._son[ptr1] = 0\n      break\n    }\n    delta = this$static._pos - curMatch\n    cyclicPos =\n      (delta <= this$static._cyclicBufferPos\n        ? this$static._cyclicBufferPos - delta\n        : this$static._cyclicBufferPos -\n          delta +\n          this$static._cyclicBufferSize) << 1\n    pby1 = this$static._bufferOffset + curMatch\n    len = len0 < len1 ? len0 : len1\n    if (\n      this$static._bufferBase[pby1 + len] == this$static._bufferBase[cur + len]\n    ) {\n      while (++len != lenLimit) {\n        if (\n          this$static._bufferBase[pby1 + len] !=\n          this$static._bufferBase[cur + len]\n        ) {\n          break\n        }\n      }\n      if (maxLen < len) {\n        distances[offset++] = maxLen = len\n        distances[offset++] = delta - 1\n        if (len == lenLimit) {\n          this$static._son[ptr1] = this$static._son[cyclicPos]\n          this$static._son[ptr0] = this$static._son[cyclicPos + 1]\n          break\n        }\n      }\n    }\n    if (\n      (this$static._bufferBase[pby1 + len] & 255) <\n      (this$static._bufferBase[cur + len] & 255)\n    ) {\n      this$static._son[ptr1] = curMatch\n      ptr1 = cyclicPos + 1\n      curMatch = this$static._son[ptr1]\n      len1 = len\n    } else {\n      this$static._son[ptr0] = curMatch\n      ptr0 = cyclicPos\n      curMatch = this$static._son[ptr0]\n      len0 = len\n    }\n  }\n  $MovePos_0(this$static)\n  return offset\n}\n\nfunction $Init_5(this$static) {\n  this$static._bufferOffset = 0\n  this$static._pos = 0\n  this$static._streamPos = 0\n  this$static._streamEndWasReached = 0\n  $ReadBlock(this$static)\n  this$static._cyclicBufferPos = 0\n  $ReduceOffsets(this$static, -1)\n}\n\nfunction $MovePos_0(this$static) {\n  var subValue\n  if (++this$static._cyclicBufferPos >= this$static._cyclicBufferSize) {\n    this$static._cyclicBufferPos = 0\n  }\n  $MovePos_1(this$static)\n  if (this$static._pos == 1073741823) {\n    subValue = this$static._pos - this$static._cyclicBufferSize\n    $NormalizeLinks(\n      this$static._son,\n      this$static._cyclicBufferSize * 2,\n      subValue\n    )\n    $NormalizeLinks(this$static._hash, this$static._hashSizeSum, subValue)\n    $ReduceOffsets(this$static, subValue)\n  }\n}\n\n// NOTE: This is only called after reading one whole gigabyte.\nfunction $NormalizeLinks(items, numItems, subValue) {\n  var i, value\n  for (i = 0; i < numItems; ++i) {\n    value = items[i] || 0\n    if (value <= subValue) {\n      value = 0\n    } else {\n      value -= subValue\n    }\n    items[i] = value\n  }\n}\n\nfunction $SetType(this$static, numHashBytes) {\n  this$static.HASH_ARRAY = numHashBytes > 2\n  if (this$static.HASH_ARRAY) {\n    this$static.kNumHashDirectBytes = 0\n    this$static.kMinMatchCheck = 4\n    this$static.kFixHashSize = 66560\n  } else {\n    this$static.kNumHashDirectBytes = 2\n    this$static.kMinMatchCheck = 3\n    this$static.kFixHashSize = 0\n  }\n}\n\nfunction $Skip(this$static, num) {\n  var count,\n    cur,\n    curMatch,\n    cyclicPos,\n    delta,\n    hash2Value,\n    hash3Value,\n    hashValue,\n    len,\n    len0,\n    len1,\n    lenLimit,\n    matchMinPos,\n    pby1,\n    ptr0,\n    ptr1,\n    temp\n  do {\n    if (this$static._pos + this$static._matchMaxLen <= this$static._streamPos) {\n      lenLimit = this$static._matchMaxLen\n    } else {\n      lenLimit = this$static._streamPos - this$static._pos\n      if (lenLimit < this$static.kMinMatchCheck) {\n        $MovePos_0(this$static)\n        continue\n      }\n    }\n    matchMinPos =\n      this$static._pos > this$static._cyclicBufferSize\n        ? this$static._pos - this$static._cyclicBufferSize\n        : 0\n    cur = this$static._bufferOffset + this$static._pos\n    if (this$static.HASH_ARRAY) {\n      temp =\n        CrcTable[this$static._bufferBase[cur] & 255] ^\n        (this$static._bufferBase[cur + 1] & 255)\n      hash2Value = temp & 1023\n      this$static._hash[hash2Value] = this$static._pos\n      temp ^= (this$static._bufferBase[cur + 2] & 255) << 8\n      hash3Value = temp & 65535\n      this$static._hash[1024 + hash3Value] = this$static._pos\n      hashValue =\n        (temp ^ (CrcTable[this$static._bufferBase[cur + 3] & 255] << 5)) &\n        this$static._hashMask\n    } else {\n      hashValue =\n        (this$static._bufferBase[cur] & 255) ^\n        ((this$static._bufferBase[cur + 1] & 255) << 8)\n    }\n    curMatch = this$static._hash[this$static.kFixHashSize + hashValue]\n    this$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos\n    ptr0 = (this$static._cyclicBufferPos << 1) + 1\n    ptr1 = this$static._cyclicBufferPos << 1\n    len0 = len1 = this$static.kNumHashDirectBytes\n    count = this$static._cutValue\n    while (1) {\n      if (curMatch <= matchMinPos || count-- == 0) {\n        this$static._son[ptr0] = this$static._son[ptr1] = 0\n        break\n      }\n      delta = this$static._pos - curMatch\n      cyclicPos =\n        (delta <= this$static._cyclicBufferPos\n          ? this$static._cyclicBufferPos - delta\n          : this$static._cyclicBufferPos -\n            delta +\n            this$static._cyclicBufferSize) << 1\n      pby1 = this$static._bufferOffset + curMatch\n      len = len0 < len1 ? len0 : len1\n      if (\n        this$static._bufferBase[pby1 + len] ==\n        this$static._bufferBase[cur + len]\n      ) {\n        while (++len != lenLimit) {\n          if (\n            this$static._bufferBase[pby1 + len] !=\n            this$static._bufferBase[cur + len]\n          ) {\n            break\n          }\n        }\n        if (len == lenLimit) {\n          this$static._son[ptr1] = this$static._son[cyclicPos]\n          this$static._son[ptr0] = this$static._son[cyclicPos + 1]\n          break\n        }\n      }\n      if (\n        (this$static._bufferBase[pby1 + len] & 255) <\n        (this$static._bufferBase[cur + len] & 255)\n      ) {\n        this$static._son[ptr1] = curMatch\n        ptr1 = cyclicPos + 1\n        curMatch = this$static._son[ptr1]\n        len1 = len\n      } else {\n        this$static._son[ptr0] = curMatch\n        ptr0 = cyclicPos\n        curMatch = this$static._son[ptr0]\n        len0 = len\n      }\n    }\n    $MovePos_0(this$static)\n  } while (--num != 0)\n}\nfunction $CopyBlock(this$static, distance, len) {\n  var pos = this$static._pos - distance - 1\n  if (pos < 0) {\n    pos += this$static._windowSize\n  }\n  for (; len != 0; --len) {\n    if (pos >= this$static._windowSize) {\n      pos = 0\n    }\n    this$static._buffer[this$static._pos++] = this$static._buffer[pos++]\n    if (this$static._pos >= this$static._windowSize) {\n      $Flush_0(this$static)\n    }\n  }\n}\n\nfunction $Create_5(this$static, windowSize) {\n  if (this$static._buffer == null || this$static._windowSize != windowSize) {\n    this$static._buffer = initDim(windowSize)\n  }\n  this$static._windowSize = windowSize\n  this$static._pos = 0\n  this$static._streamPos = 0\n}\n\nfunction $Flush_0(this$static) {\n  var size = this$static._pos - this$static._streamPos\n  if (!size) {\n    return\n  }\n  $write_0(\n    this$static._stream,\n    this$static._buffer,\n    this$static._streamPos,\n    size\n  )\n  if (this$static._pos >= this$static._windowSize) {\n    this$static._pos = 0\n  }\n  this$static._streamPos = this$static._pos\n}\n\nfunction $GetByte(this$static, distance) {\n  var pos = this$static._pos - distance - 1\n  if (pos < 0) {\n    pos += this$static._windowSize\n  }\n  return this$static._buffer[pos]\n}\n\nfunction $PutByte(this$static, b) {\n  this$static._buffer[this$static._pos++] = b\n  if (this$static._pos >= this$static._windowSize) {\n    $Flush_0(this$static)\n  }\n}\n\nfunction $ReleaseStream(this$static) {\n  $Flush_0(this$static)\n  this$static._stream = null\n}\nfunction GetLenToPosState(len) {\n  len -= 2\n  if (len < 4) {\n    return len\n  }\n  return 3\n}\n\nfunction StateUpdateChar(index) {\n  if (index < 4) {\n    return 0\n  }\n  if (index < 10) {\n    return index - 3\n  }\n  return index - 6\n}\nfunction $Chunker_0(this$static, encoder) {\n  this$static.encoder = encoder\n  this$static.decoder = null\n  this$static.alive = 1\n  return this$static\n}\nfunction $Chunker(this$static, decoder) {\n  this$static.decoder = decoder\n  this$static.encoder = null\n  this$static.alive = 1\n  return this$static\n}\nfunction $processChunk(this$static) {\n  if (!this$static.alive) {\n    throw new Error('bad state')\n  }\n\n  if (this$static.encoder) {\n    $processEncoderChunk(this$static)\n  } else {\n    $processDecoderChunk(this$static)\n  }\n\n  return this$static.alive\n}\nfunction $processDecoderChunk(this$static) {\n  var result = $CodeOneChunk(this$static.decoder)\n  if (result == -1) {\n    throw new Error('corrupted input')\n  }\n  this$static.inBytesProcessed = N1_longLit\n  this$static.outBytesProcessed = this$static.decoder.nowPos64\n  if (\n    result ||\n    (compare(this$static.decoder.outSize, P0_longLit) >= 0 &&\n      compare(this$static.decoder.nowPos64, this$static.decoder.outSize) >= 0)\n  ) {\n    $Flush_0(this$static.decoder.m_OutWindow)\n    $ReleaseStream(this$static.decoder.m_OutWindow)\n    this$static.decoder.m_RangeDecoder.Stream = null\n    this$static.alive = 0\n  }\n}\nfunction $processEncoderChunk(this$static) {\n  $CodeOneBlock(\n    this$static.encoder,\n    this$static.encoder.processedInSize,\n    this$static.encoder.processedOutSize,\n    this$static.encoder.finished\n  )\n  this$static.inBytesProcessed = this$static.encoder.processedInSize[0]\n  if (this$static.encoder.finished[0]) {\n    $ReleaseStreams(this$static.encoder)\n    this$static.alive = 0\n  }\n}\nfunction $CodeInChunks(this$static, inStream, outStream, outSize) {\n  this$static.m_RangeDecoder.Stream = inStream\n  $ReleaseStream(this$static.m_OutWindow)\n  this$static.m_OutWindow._stream = outStream\n  $Init_1(this$static)\n  this$static.state = 0\n  this$static.rep0 = 0\n  this$static.rep1 = 0\n  this$static.rep2 = 0\n  this$static.rep3 = 0\n  this$static.outSize = outSize\n  this$static.nowPos64 = P0_longLit\n  this$static.prevByte = 0\n  return $Chunker({}, this$static)\n}\n\nfunction $CodeOneChunk(this$static) {\n  var decoder2, distance, len, numDirectBits, posSlot, posState\n  posState = lowBits_0(this$static.nowPos64) & this$static.m_PosStateMask\n  if (\n    !$DecodeBit(\n      this$static.m_RangeDecoder,\n      this$static.m_IsMatchDecoders,\n      (this$static.state << 4) + posState\n    )\n  ) {\n    decoder2 = $GetDecoder(\n      this$static.m_LiteralDecoder,\n      lowBits_0(this$static.nowPos64),\n      this$static.prevByte\n    )\n    if (this$static.state < 7) {\n      this$static.prevByte = $DecodeNormal(decoder2, this$static.m_RangeDecoder)\n    } else {\n      this$static.prevByte = $DecodeWithMatchByte(\n        decoder2,\n        this$static.m_RangeDecoder,\n        $GetByte(this$static.m_OutWindow, this$static.rep0)\n      )\n    }\n    $PutByte(this$static.m_OutWindow, this$static.prevByte)\n    this$static.state = StateUpdateChar(this$static.state)\n    this$static.nowPos64 = add(this$static.nowPos64, P1_longLit)\n  } else {\n    if (\n      $DecodeBit(\n        this$static.m_RangeDecoder,\n        this$static.m_IsRepDecoders,\n        this$static.state\n      )\n    ) {\n      len = 0\n      if (\n        !$DecodeBit(\n          this$static.m_RangeDecoder,\n          this$static.m_IsRepG0Decoders,\n          this$static.state\n        )\n      ) {\n        if (\n          !$DecodeBit(\n            this$static.m_RangeDecoder,\n            this$static.m_IsRep0LongDecoders,\n            (this$static.state << 4) + posState\n          )\n        ) {\n          this$static.state = this$static.state < 7 ? 9 : 11\n          len = 1\n        }\n      } else {\n        if (\n          !$DecodeBit(\n            this$static.m_RangeDecoder,\n            this$static.m_IsRepG1Decoders,\n            this$static.state\n          )\n        ) {\n          distance = this$static.rep1\n        } else {\n          if (\n            !$DecodeBit(\n              this$static.m_RangeDecoder,\n              this$static.m_IsRepG2Decoders,\n              this$static.state\n            )\n          ) {\n            distance = this$static.rep2\n          } else {\n            distance = this$static.rep3\n            this$static.rep3 = this$static.rep2\n          }\n          this$static.rep2 = this$static.rep1\n        }\n        this$static.rep1 = this$static.rep0\n        this$static.rep0 = distance\n      }\n      if (!len) {\n        len =\n          $Decode(\n            this$static.m_RepLenDecoder,\n            this$static.m_RangeDecoder,\n            posState\n          ) + 2\n        this$static.state = this$static.state < 7 ? 8 : 11\n      }\n    } else {\n      this$static.rep3 = this$static.rep2\n      this$static.rep2 = this$static.rep1\n      this$static.rep1 = this$static.rep0\n      len =\n        2 +\n        $Decode(this$static.m_LenDecoder, this$static.m_RangeDecoder, posState)\n      this$static.state = this$static.state < 7 ? 7 : 10\n      posSlot = $Decode_0(\n        this$static.m_PosSlotDecoder[GetLenToPosState(len)],\n        this$static.m_RangeDecoder\n      )\n      if (posSlot >= 4) {\n        numDirectBits = (posSlot >> 1) - 1\n        this$static.rep0 = (2 | (posSlot & 1)) << numDirectBits\n        if (posSlot < 14) {\n          this$static.rep0 += ReverseDecode(\n            this$static.m_PosDecoders,\n            this$static.rep0 - posSlot - 1,\n            this$static.m_RangeDecoder,\n            numDirectBits\n          )\n        } else {\n          this$static.rep0 +=\n            $DecodeDirectBits(this$static.m_RangeDecoder, numDirectBits - 4) <<\n            4\n          this$static.rep0 += $ReverseDecode(\n            this$static.m_PosAlignDecoder,\n            this$static.m_RangeDecoder\n          )\n          if (this$static.rep0 < 0) {\n            if (this$static.rep0 == -1) {\n              return 1\n            }\n            return -1\n          }\n        }\n      } else this$static.rep0 = posSlot\n    }\n    if (\n      compare(fromInt(this$static.rep0), this$static.nowPos64) >= 0 ||\n      this$static.rep0 >= this$static.m_DictionarySizeCheck\n    ) {\n      return -1\n    }\n    $CopyBlock(this$static.m_OutWindow, this$static.rep0, len)\n    this$static.nowPos64 = add(this$static.nowPos64, fromInt(len))\n    this$static.prevByte = $GetByte(this$static.m_OutWindow, 0)\n  }\n  return 0\n}\n\nfunction $Decoder(this$static) {\n  this$static.m_OutWindow = {}\n  this$static.m_RangeDecoder = {}\n  this$static.m_IsMatchDecoders = initDim(192)\n  this$static.m_IsRepDecoders = initDim(12)\n  this$static.m_IsRepG0Decoders = initDim(12)\n  this$static.m_IsRepG1Decoders = initDim(12)\n  this$static.m_IsRepG2Decoders = initDim(12)\n  this$static.m_IsRep0LongDecoders = initDim(192)\n  this$static.m_PosSlotDecoder = initDim(4)\n  this$static.m_PosDecoders = initDim(114)\n  this$static.m_PosAlignDecoder = $BitTreeDecoder({}, 4)\n  this$static.m_LenDecoder = $Decoder$LenDecoder({})\n  this$static.m_RepLenDecoder = $Decoder$LenDecoder({})\n  this$static.m_LiteralDecoder = {}\n  for (var i = 0; i < 4; ++i) {\n    this$static.m_PosSlotDecoder[i] = $BitTreeDecoder({}, 6)\n  }\n  return this$static\n}\n\nfunction $Init_1(this$static) {\n  this$static.m_OutWindow._streamPos = 0\n  this$static.m_OutWindow._pos = 0\n  InitBitModels(this$static.m_IsMatchDecoders)\n  InitBitModels(this$static.m_IsRep0LongDecoders)\n  InitBitModels(this$static.m_IsRepDecoders)\n  InitBitModels(this$static.m_IsRepG0Decoders)\n  InitBitModels(this$static.m_IsRepG1Decoders)\n  InitBitModels(this$static.m_IsRepG2Decoders)\n  InitBitModels(this$static.m_PosDecoders)\n  $Init_0(this$static.m_LiteralDecoder)\n  for (var i = 0; i < 4; ++i) {\n    InitBitModels(this$static.m_PosSlotDecoder[i].Models)\n  }\n  $Init(this$static.m_LenDecoder)\n  $Init(this$static.m_RepLenDecoder)\n  InitBitModels(this$static.m_PosAlignDecoder.Models)\n  $Init_8(this$static.m_RangeDecoder)\n}\n\nfunction $SetDecoderProperties(this$static, properties) {\n  var dictionarySize, i, lc, lp, pb, remainder, val\n  if (properties.length < 5) return 0\n  val = properties[0] & 255\n  lc = val % 9\n  remainder = ~~(val / 9)\n  lp = remainder % 5\n  pb = ~~(remainder / 5)\n  dictionarySize = 0\n  for (i = 0; i < 4; ++i) {\n    dictionarySize += (properties[1 + i] & 255) << (i * 8)\n  }\n  // NOTE: If the input is bad, it might call for an insanely large dictionary size, which would crash the script.\n  if (dictionarySize > 99999999 || !$SetLcLpPb(this$static, lc, lp, pb)) {\n    return 0\n  }\n  return $SetDictionarySize(this$static, dictionarySize)\n}\n\nfunction $SetDictionarySize(this$static, dictionarySize) {\n  if (dictionarySize < 0) {\n    return 0\n  }\n  if (this$static.m_DictionarySize != dictionarySize) {\n    this$static.m_DictionarySize = dictionarySize\n    this$static.m_DictionarySizeCheck = Math.max(\n      this$static.m_DictionarySize,\n      1\n    )\n    $Create_5(\n      this$static.m_OutWindow,\n      Math.max(this$static.m_DictionarySizeCheck, 4096)\n    )\n  }\n  return 1\n}\n\nfunction $SetLcLpPb(this$static, lc, lp, pb) {\n  if (lc > 8 || lp > 4 || pb > 4) {\n    return 0\n  }\n  $Create_0(this$static.m_LiteralDecoder, lp, lc)\n  var numPosStates = 1 << pb\n  $Create(this$static.m_LenDecoder, numPosStates)\n  $Create(this$static.m_RepLenDecoder, numPosStates)\n  this$static.m_PosStateMask = numPosStates - 1\n  return 1\n}\n\nfunction $Create(this$static, numPosStates) {\n  for (\n    ;\n    this$static.m_NumPosStates < numPosStates;\n    ++this$static.m_NumPosStates\n  ) {\n    this$static.m_LowCoder[this$static.m_NumPosStates] = $BitTreeDecoder({}, 3)\n    this$static.m_MidCoder[this$static.m_NumPosStates] = $BitTreeDecoder({}, 3)\n  }\n}\n\nfunction $Decode(this$static, rangeDecoder, posState) {\n  if (!$DecodeBit(rangeDecoder, this$static.m_Choice, 0)) {\n    return $Decode_0(this$static.m_LowCoder[posState], rangeDecoder)\n  }\n  var symbol = 8\n  if (!$DecodeBit(rangeDecoder, this$static.m_Choice, 1)) {\n    symbol += $Decode_0(this$static.m_MidCoder[posState], rangeDecoder)\n  } else {\n    symbol += 8 + $Decode_0(this$static.m_HighCoder, rangeDecoder)\n  }\n  return symbol\n}\n\nfunction $Decoder$LenDecoder(this$static) {\n  this$static.m_Choice = initDim(2)\n  this$static.m_LowCoder = initDim(16)\n  this$static.m_MidCoder = initDim(16)\n  this$static.m_HighCoder = $BitTreeDecoder({}, 8)\n  this$static.m_NumPosStates = 0\n  return this$static\n}\n\nfunction $Init(this$static) {\n  InitBitModels(this$static.m_Choice)\n  for (var posState = 0; posState < this$static.m_NumPosStates; ++posState) {\n    InitBitModels(this$static.m_LowCoder[posState].Models)\n    InitBitModels(this$static.m_MidCoder[posState].Models)\n  }\n  InitBitModels(this$static.m_HighCoder.Models)\n}\n\nfunction $Create_0(this$static, numPosBits, numPrevBits) {\n  var i, numStates\n  if (\n    this$static.m_Coders != null &&\n    this$static.m_NumPrevBits == numPrevBits &&\n    this$static.m_NumPosBits == numPosBits\n  )\n    return\n  this$static.m_NumPosBits = numPosBits\n  this$static.m_PosMask = (1 << numPosBits) - 1\n  this$static.m_NumPrevBits = numPrevBits\n  numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  this$static.m_Coders = initDim(numStates)\n  for (i = 0; i < numStates; ++i)\n    this$static.m_Coders[i] = $Decoder$LiteralDecoder$Decoder2({})\n}\n\nfunction $GetDecoder(this$static, pos, prevByte) {\n  return this$static.m_Coders[\n    ((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) +\n      ((prevByte & 255) >>> (8 - this$static.m_NumPrevBits))\n  ]\n}\n\nfunction $Init_0(this$static) {\n  var i, numStates\n  numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  for (i = 0; i < numStates; ++i) {\n    InitBitModels(this$static.m_Coders[i].m_Decoders)\n  }\n}\n\nfunction $DecodeNormal(this$static, rangeDecoder) {\n  var symbol = 1\n  do {\n    symbol =\n      (symbol << 1) | $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol)\n  } while (symbol < 256)\n  return (symbol << 24) >> 24\n}\n\nfunction $DecodeWithMatchByte(this$static, rangeDecoder, matchByte) {\n  var bit,\n    matchBit,\n    symbol = 1\n  do {\n    matchBit = (matchByte >> 7) & 1\n    matchByte <<= 1\n    bit = $DecodeBit(\n      rangeDecoder,\n      this$static.m_Decoders,\n      ((1 + matchBit) << 8) + symbol\n    )\n    symbol = (symbol << 1) | bit\n    if (matchBit != bit) {\n      while (symbol < 256) {\n        symbol =\n          (symbol << 1) |\n          $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol)\n      }\n      break\n    }\n  } while (symbol < 256)\n  return (symbol << 24) >> 24\n}\n\nfunction $Decoder$LiteralDecoder$Decoder2(this$static) {\n  this$static.m_Decoders = initDim(768)\n  return this$static\n}\nvar g_FastPos = (function() {\n  var j,\n    k,\n    slotFast,\n    c = 2,\n    g_FastPos = [0, 1]\n  for (slotFast = 2; slotFast < 22; ++slotFast) {\n    k = 1 << ((slotFast >> 1) - 1)\n    for (j = 0; j < k; ++j, ++c) g_FastPos[c] = (slotFast << 24) >> 24\n  }\n  return g_FastPos\n})()\n\nfunction $Backward(this$static, cur) {\n  var backCur, backMem, posMem, posPrev\n  this$static._optimumEndIndex = cur\n  posMem = this$static._optimum[cur].PosPrev\n  backMem = this$static._optimum[cur].BackPrev\n  do {\n    if (this$static._optimum[cur].Prev1IsChar) {\n      $MakeAsChar(this$static._optimum[posMem])\n      this$static._optimum[posMem].PosPrev = posMem - 1\n      if (this$static._optimum[cur].Prev2) {\n        this$static._optimum[posMem - 1].Prev1IsChar = 0\n        this$static._optimum[posMem - 1].PosPrev =\n          this$static._optimum[cur].PosPrev2\n        this$static._optimum[posMem - 1].BackPrev =\n          this$static._optimum[cur].BackPrev2\n      }\n    }\n    posPrev = posMem\n    backCur = backMem\n    backMem = this$static._optimum[posPrev].BackPrev\n    posMem = this$static._optimum[posPrev].PosPrev\n    this$static._optimum[posPrev].BackPrev = backCur\n    this$static._optimum[posPrev].PosPrev = cur\n    cur = posPrev\n  } while (cur > 0)\n  this$static.backRes = this$static._optimum[0].BackPrev\n  this$static._optimumCurrentIndex = this$static._optimum[0].PosPrev\n  return this$static._optimumCurrentIndex\n}\n\nfunction $BaseInit(this$static) {\n  this$static._state = 0\n  this$static._previousByte = 0\n  for (var i = 0; i < 4; ++i) {\n    this$static._repDistances[i] = 0\n  }\n}\n\nfunction $CodeOneBlock(this$static, inSize, outSize, finished) {\n  var baseVal,\n    complexState,\n    curByte,\n    distance,\n    footerBits,\n    i,\n    len,\n    lenToPosState,\n    matchByte,\n    pos,\n    posReduced,\n    posSlot,\n    posState,\n    progressPosValuePrev,\n    subCoder\n  inSize[0] = P0_longLit\n  outSize[0] = P0_longLit\n  finished[0] = 1\n  if (this$static._inStream) {\n    this$static._matchFinder._stream = this$static._inStream\n    $Init_5(this$static._matchFinder)\n    this$static._needReleaseMFStream = 1\n    this$static._inStream = null\n  }\n  if (this$static._finished) {\n    return\n  }\n  this$static._finished = 1\n  progressPosValuePrev = this$static.nowPos64\n  if (eq(this$static.nowPos64, P0_longLit)) {\n    if (!$GetNumAvailableBytes(this$static._matchFinder)) {\n      $Flush(this$static, lowBits_0(this$static.nowPos64))\n      return\n    }\n    $ReadMatchDistances(this$static)\n    posState = lowBits_0(this$static.nowPos64) & this$static._posStateMask\n    $Encode_3(\n      this$static._rangeEncoder,\n      this$static._isMatch,\n      (this$static._state << 4) + posState,\n      0\n    )\n    this$static._state = StateUpdateChar(this$static._state)\n    curByte = $GetIndexByte(\n      this$static._matchFinder,\n      -this$static._additionalOffset\n    )\n    $Encode_1(\n      $GetSubCoder(\n        this$static._literalEncoder,\n        lowBits_0(this$static.nowPos64),\n        this$static._previousByte\n      ),\n      this$static._rangeEncoder,\n      curByte\n    )\n    this$static._previousByte = curByte\n    --this$static._additionalOffset\n    this$static.nowPos64 = add(this$static.nowPos64, P1_longLit)\n  }\n  if (!$GetNumAvailableBytes(this$static._matchFinder)) {\n    $Flush(this$static, lowBits_0(this$static.nowPos64))\n    return\n  }\n  while (1) {\n    len = $GetOptimum(this$static, lowBits_0(this$static.nowPos64))\n    pos = this$static.backRes\n    posState = lowBits_0(this$static.nowPos64) & this$static._posStateMask\n    complexState = (this$static._state << 4) + posState\n    if (len == 1 && pos == -1) {\n      $Encode_3(\n        this$static._rangeEncoder,\n        this$static._isMatch,\n        complexState,\n        0\n      )\n      curByte = $GetIndexByte(\n        this$static._matchFinder,\n        -this$static._additionalOffset\n      )\n      subCoder = $GetSubCoder(\n        this$static._literalEncoder,\n        lowBits_0(this$static.nowPos64),\n        this$static._previousByte\n      )\n      if (this$static._state < 7) {\n        $Encode_1(subCoder, this$static._rangeEncoder, curByte)\n      } else {\n        matchByte = $GetIndexByte(\n          this$static._matchFinder,\n          -this$static._repDistances[0] - 1 - this$static._additionalOffset\n        )\n        $EncodeMatched(subCoder, this$static._rangeEncoder, matchByte, curByte)\n      }\n      this$static._previousByte = curByte\n      this$static._state = StateUpdateChar(this$static._state)\n    } else {\n      $Encode_3(\n        this$static._rangeEncoder,\n        this$static._isMatch,\n        complexState,\n        1\n      )\n      if (pos < 4) {\n        $Encode_3(\n          this$static._rangeEncoder,\n          this$static._isRep,\n          this$static._state,\n          1\n        )\n        if (!pos) {\n          $Encode_3(\n            this$static._rangeEncoder,\n            this$static._isRepG0,\n            this$static._state,\n            0\n          )\n          if (len == 1) {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRep0Long,\n              complexState,\n              0\n            )\n          } else {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRep0Long,\n              complexState,\n              1\n            )\n          }\n        } else {\n          $Encode_3(\n            this$static._rangeEncoder,\n            this$static._isRepG0,\n            this$static._state,\n            1\n          )\n          if (pos == 1) {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRepG1,\n              this$static._state,\n              0\n            )\n          } else {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRepG1,\n              this$static._state,\n              1\n            )\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRepG2,\n              this$static._state,\n              pos - 2\n            )\n          }\n        }\n        if (len == 1) {\n          this$static._state = this$static._state < 7 ? 9 : 11\n        } else {\n          $Encode_0(\n            this$static._repMatchLenEncoder,\n            this$static._rangeEncoder,\n            len - 2,\n            posState\n          )\n          this$static._state = this$static._state < 7 ? 8 : 11\n        }\n        distance = this$static._repDistances[pos]\n        if (pos != 0) {\n          for (i = pos; i >= 1; --i) {\n            this$static._repDistances[i] = this$static._repDistances[i - 1]\n          }\n          this$static._repDistances[0] = distance\n        }\n      } else {\n        $Encode_3(\n          this$static._rangeEncoder,\n          this$static._isRep,\n          this$static._state,\n          0\n        )\n        this$static._state = this$static._state < 7 ? 7 : 10\n        $Encode_0(\n          this$static._lenEncoder,\n          this$static._rangeEncoder,\n          len - 2,\n          posState\n        )\n        pos -= 4\n        posSlot = GetPosSlot(pos)\n        lenToPosState = GetLenToPosState(len)\n        $Encode_2(\n          this$static._posSlotEncoder[lenToPosState],\n          this$static._rangeEncoder,\n          posSlot\n        )\n        if (posSlot >= 4) {\n          footerBits = (posSlot >> 1) - 1\n          baseVal = (2 | (posSlot & 1)) << footerBits\n          posReduced = pos - baseVal\n          if (posSlot < 14) {\n            ReverseEncode(\n              this$static._posEncoders,\n              baseVal - posSlot - 1,\n              this$static._rangeEncoder,\n              footerBits,\n              posReduced\n            )\n          } else {\n            $EncodeDirectBits(\n              this$static._rangeEncoder,\n              posReduced >> 4,\n              footerBits - 4\n            )\n            $ReverseEncode(\n              this$static._posAlignEncoder,\n              this$static._rangeEncoder,\n              posReduced & 15\n            )\n            ++this$static._alignPriceCount\n          }\n        }\n        distance = pos\n        for (i = 3; i >= 1; --i) {\n          this$static._repDistances[i] = this$static._repDistances[i - 1]\n        }\n        this$static._repDistances[0] = distance\n        ++this$static._matchPriceCount\n      }\n      this$static._previousByte = $GetIndexByte(\n        this$static._matchFinder,\n        len - 1 - this$static._additionalOffset\n      )\n    }\n    this$static._additionalOffset -= len\n    this$static.nowPos64 = add(this$static.nowPos64, fromInt(len))\n    if (!this$static._additionalOffset) {\n      if (this$static._matchPriceCount >= 128) {\n        $FillDistancesPrices(this$static)\n      }\n      if (this$static._alignPriceCount >= 16) {\n        $FillAlignPrices(this$static)\n      }\n      inSize[0] = this$static.nowPos64\n      outSize[0] = $GetProcessedSizeAdd(this$static._rangeEncoder)\n      if (!$GetNumAvailableBytes(this$static._matchFinder)) {\n        $Flush(this$static, lowBits_0(this$static.nowPos64))\n        return\n      }\n      if (\n        compare(sub(this$static.nowPos64, progressPosValuePrev), [4096, 0]) >= 0\n      ) {\n        this$static._finished = 0\n        finished[0] = 0\n        return\n      }\n    }\n  }\n}\n\nfunction $Create_2(this$static) {\n  var bt, numHashBytes\n  if (!this$static._matchFinder) {\n    bt = {}\n    numHashBytes = 4\n    if (!this$static._matchFinderType) {\n      numHashBytes = 2\n    }\n    $SetType(bt, numHashBytes)\n    this$static._matchFinder = bt\n  }\n  $Create_1(\n    this$static._literalEncoder,\n    this$static._numLiteralPosStateBits,\n    this$static._numLiteralContextBits\n  )\n  if (\n    this$static._dictionarySize == this$static._dictionarySizePrev &&\n    this$static._numFastBytesPrev == this$static._numFastBytes\n  ) {\n    return\n  }\n  $Create_3(\n    this$static._matchFinder,\n    this$static._dictionarySize,\n    4096,\n    this$static._numFastBytes,\n    274\n  )\n  this$static._dictionarySizePrev = this$static._dictionarySize\n  this$static._numFastBytesPrev = this$static._numFastBytes\n}\n\nfunction $Encoder(this$static) {\n  var i\n  this$static._repDistances = initDim(4)\n  this$static._optimum = []\n  this$static._rangeEncoder = {}\n  this$static._isMatch = initDim(192)\n  this$static._isRep = initDim(12)\n  this$static._isRepG0 = initDim(12)\n  this$static._isRepG1 = initDim(12)\n  this$static._isRepG2 = initDim(12)\n  this$static._isRep0Long = initDim(192)\n  this$static._posSlotEncoder = []\n  this$static._posEncoders = initDim(114)\n  this$static._posAlignEncoder = $BitTreeEncoder({}, 4)\n  this$static._lenEncoder = $Encoder$LenPriceTableEncoder({})\n  this$static._repMatchLenEncoder = $Encoder$LenPriceTableEncoder({})\n  this$static._literalEncoder = {}\n  this$static._matchDistances = []\n  this$static._posSlotPrices = []\n  this$static._distancesPrices = []\n  this$static._alignPrices = initDim(16)\n  this$static.reps = initDim(4)\n  this$static.repLens = initDim(4)\n  this$static.processedInSize = [P0_longLit]\n  this$static.processedOutSize = [P0_longLit]\n  this$static.finished = [0]\n  this$static.properties = initDim(5)\n  this$static.tempPrices = initDim(128)\n  this$static._longestMatchLength = 0\n  this$static._matchFinderType = 1\n  this$static._numDistancePairs = 0\n  this$static._numFastBytesPrev = -1\n  this$static.backRes = 0\n  for (i = 0; i < 4096; ++i) {\n    this$static._optimum[i] = {}\n  }\n  for (i = 0; i < 4; ++i) {\n    this$static._posSlotEncoder[i] = $BitTreeEncoder({}, 6)\n  }\n  return this$static\n}\n\nfunction $FillAlignPrices(this$static) {\n  for (var i = 0; i < 16; ++i) {\n    this$static._alignPrices[i] = $ReverseGetPrice(\n      this$static._posAlignEncoder,\n      i\n    )\n  }\n  this$static._alignPriceCount = 0\n}\n\nfunction $FillDistancesPrices(this$static) {\n  var baseVal, encoder, footerBits, i, lenToPosState, posSlot, st, st2\n  for (i = 4; i < 128; ++i) {\n    posSlot = GetPosSlot(i)\n    footerBits = (posSlot >> 1) - 1\n    baseVal = (2 | (posSlot & 1)) << footerBits\n    this$static.tempPrices[i] = ReverseGetPrice(\n      this$static._posEncoders,\n      baseVal - posSlot - 1,\n      footerBits,\n      i - baseVal\n    )\n  }\n  for (lenToPosState = 0; lenToPosState < 4; ++lenToPosState) {\n    encoder = this$static._posSlotEncoder[lenToPosState]\n    st = lenToPosState << 6\n    for (posSlot = 0; posSlot < this$static._distTableSize; ++posSlot) {\n      this$static._posSlotPrices[st + posSlot] = $GetPrice_1(encoder, posSlot)\n    }\n    for (posSlot = 14; posSlot < this$static._distTableSize; ++posSlot) {\n      this$static._posSlotPrices[st + posSlot] += ((posSlot >> 1) - 1 - 4) << 6\n    }\n    st2 = lenToPosState * 128\n    for (i = 0; i < 4; ++i) {\n      this$static._distancesPrices[st2 + i] = this$static._posSlotPrices[st + i]\n    }\n    for (; i < 128; ++i) {\n      this$static._distancesPrices[st2 + i] =\n        this$static._posSlotPrices[st + GetPosSlot(i)] +\n        this$static.tempPrices[i]\n    }\n  }\n  this$static._matchPriceCount = 0\n}\n\nfunction $Flush(this$static, nowPos) {\n  $ReleaseMFStream(this$static)\n  $WriteEndMarker(this$static, nowPos & this$static._posStateMask)\n  for (var i = 0; i < 5; ++i) {\n    $ShiftLow(this$static._rangeEncoder)\n  }\n}\n\nfunction $GetOptimum(this$static, position) {\n  var cur,\n    curAnd1Price,\n    curAndLenCharPrice,\n    curAndLenPrice,\n    curBack,\n    curPrice,\n    currentByte,\n    distance,\n    i,\n    len,\n    lenEnd,\n    lenMain,\n    lenRes,\n    lenTest,\n    lenTest2,\n    lenTestTemp,\n    matchByte,\n    matchPrice,\n    newLen,\n    nextIsChar,\n    nextMatchPrice,\n    nextOptimum,\n    nextRepMatchPrice,\n    normalMatchPrice,\n    numAvailableBytes,\n    numAvailableBytesFull,\n    numDistancePairs,\n    offs,\n    offset,\n    opt,\n    optimum,\n    pos,\n    posPrev,\n    posState,\n    posStateNext,\n    price_4,\n    repIndex,\n    repLen,\n    repMatchPrice,\n    repMaxIndex,\n    shortRepPrice,\n    startLen,\n    state,\n    state2,\n    t,\n    price,\n    price_0,\n    price_1,\n    price_2,\n    price_3\n  if (this$static._optimumEndIndex != this$static._optimumCurrentIndex) {\n    lenRes =\n      this$static._optimum[this$static._optimumCurrentIndex].PosPrev -\n      this$static._optimumCurrentIndex\n    this$static.backRes =\n      this$static._optimum[this$static._optimumCurrentIndex].BackPrev\n    this$static._optimumCurrentIndex =\n      this$static._optimum[this$static._optimumCurrentIndex].PosPrev\n    return lenRes\n  }\n  this$static._optimumCurrentIndex = this$static._optimumEndIndex = 0\n  if (this$static._longestMatchWasFound) {\n    lenMain = this$static._longestMatchLength\n    this$static._longestMatchWasFound = 0\n  } else {\n    lenMain = $ReadMatchDistances(this$static)\n  }\n  numDistancePairs = this$static._numDistancePairs\n  numAvailableBytes = $GetNumAvailableBytes(this$static._matchFinder) + 1\n  if (numAvailableBytes < 2) {\n    this$static.backRes = -1\n    return 1\n  }\n  if (numAvailableBytes > 273) {\n    numAvailableBytes = 273\n  }\n  repMaxIndex = 0\n  for (i = 0; i < 4; ++i) {\n    this$static.reps[i] = this$static._repDistances[i]\n    this$static.repLens[i] = $GetMatchLen(\n      this$static._matchFinder,\n      -1,\n      this$static.reps[i],\n      273\n    )\n    if (this$static.repLens[i] > this$static.repLens[repMaxIndex]) {\n      repMaxIndex = i\n    }\n  }\n  if (this$static.repLens[repMaxIndex] >= this$static._numFastBytes) {\n    this$static.backRes = repMaxIndex\n    lenRes = this$static.repLens[repMaxIndex]\n    $MovePos(this$static, lenRes - 1)\n    return lenRes\n  }\n  if (lenMain >= this$static._numFastBytes) {\n    this$static.backRes = this$static._matchDistances[numDistancePairs - 1] + 4\n    $MovePos(this$static, lenMain - 1)\n    return lenMain\n  }\n  currentByte = $GetIndexByte(this$static._matchFinder, -1)\n  matchByte = $GetIndexByte(\n    this$static._matchFinder,\n    -this$static._repDistances[0] - 1 - 1\n  )\n  if (\n    lenMain < 2 &&\n    currentByte != matchByte &&\n    this$static.repLens[repMaxIndex] < 2\n  ) {\n    this$static.backRes = -1\n    return 1\n  }\n  this$static._optimum[0].State = this$static._state\n  posState = position & this$static._posStateMask\n  this$static._optimum[1].Price =\n    ProbPrices[\n      this$static._isMatch[(this$static._state << 4) + posState] >>> 2\n    ] +\n    $GetPrice_0(\n      $GetSubCoder(\n        this$static._literalEncoder,\n        position,\n        this$static._previousByte\n      ),\n      this$static._state >= 7,\n      matchByte,\n      currentByte\n    )\n  $MakeAsChar(this$static._optimum[1])\n  matchPrice =\n    ProbPrices[\n      (2048 - this$static._isMatch[(this$static._state << 4) + posState]) >>> 2\n    ]\n  repMatchPrice =\n    matchPrice +\n    ProbPrices[(2048 - this$static._isRep[this$static._state]) >>> 2]\n  if (matchByte == currentByte) {\n    shortRepPrice =\n      repMatchPrice +\n      $GetRepLen1Price(this$static, this$static._state, posState)\n    if (shortRepPrice < this$static._optimum[1].Price) {\n      this$static._optimum[1].Price = shortRepPrice\n      $MakeAsShortRep(this$static._optimum[1])\n    }\n  }\n  lenEnd =\n    lenMain >= this$static.repLens[repMaxIndex]\n      ? lenMain\n      : this$static.repLens[repMaxIndex]\n  if (lenEnd < 2) {\n    this$static.backRes = this$static._optimum[1].BackPrev\n    return 1\n  }\n  this$static._optimum[1].PosPrev = 0\n  this$static._optimum[0].Backs0 = this$static.reps[0]\n  this$static._optimum[0].Backs1 = this$static.reps[1]\n  this$static._optimum[0].Backs2 = this$static.reps[2]\n  this$static._optimum[0].Backs3 = this$static.reps[3]\n  len = lenEnd\n  do {\n    this$static._optimum[len--].Price = 268435455\n  } while (len >= 2)\n  for (i = 0; i < 4; ++i) {\n    repLen = this$static.repLens[i]\n    if (repLen < 2) {\n      continue\n    }\n    price_4 =\n      repMatchPrice +\n      $GetPureRepPrice(this$static, i, this$static._state, posState)\n    do {\n      curAndLenPrice =\n        price_4 +\n        $GetPrice(this$static._repMatchLenEncoder, repLen - 2, posState)\n      optimum = this$static._optimum[repLen]\n      if (curAndLenPrice < optimum.Price) {\n        optimum.Price = curAndLenPrice\n        optimum.PosPrev = 0\n        optimum.BackPrev = i\n        optimum.Prev1IsChar = 0\n      }\n    } while (--repLen >= 2)\n  }\n  normalMatchPrice =\n    matchPrice + ProbPrices[this$static._isRep[this$static._state] >>> 2]\n  len = this$static.repLens[0] >= 2 ? this$static.repLens[0] + 1 : 2\n  if (len <= lenMain) {\n    offs = 0\n    while (len > this$static._matchDistances[offs]) {\n      offs += 2\n    }\n    for (; ; ++len) {\n      distance = this$static._matchDistances[offs + 1]\n      curAndLenPrice =\n        normalMatchPrice + $GetPosLenPrice(this$static, distance, len, posState)\n      optimum = this$static._optimum[len]\n      if (curAndLenPrice < optimum.Price) {\n        optimum.Price = curAndLenPrice\n        optimum.PosPrev = 0\n        optimum.BackPrev = distance + 4\n        optimum.Prev1IsChar = 0\n      }\n      if (len == this$static._matchDistances[offs]) {\n        offs += 2\n        if (offs == numDistancePairs) {\n          break\n        }\n      }\n    }\n  }\n  cur = 0\n  while (1) {\n    ++cur\n    if (cur == lenEnd) {\n      return $Backward(this$static, cur)\n    }\n    newLen = $ReadMatchDistances(this$static)\n    numDistancePairs = this$static._numDistancePairs\n    if (newLen >= this$static._numFastBytes) {\n      this$static._longestMatchLength = newLen\n      this$static._longestMatchWasFound = 1\n      return $Backward(this$static, cur)\n    }\n    ++position\n    posPrev = this$static._optimum[cur].PosPrev\n    if (this$static._optimum[cur].Prev1IsChar) {\n      --posPrev\n      if (this$static._optimum[cur].Prev2) {\n        state = this$static._optimum[this$static._optimum[cur].PosPrev2].State\n        if (this$static._optimum[cur].BackPrev2 < 4) {\n          state = state < 7 ? 8 : 11\n        } else {\n          state = state < 7 ? 7 : 10\n        }\n      } else {\n        state = this$static._optimum[posPrev].State\n      }\n      state = StateUpdateChar(state)\n    } else {\n      state = this$static._optimum[posPrev].State\n    }\n    if (posPrev == cur - 1) {\n      if (!this$static._optimum[cur].BackPrev) {\n        state = state < 7 ? 9 : 11\n      } else {\n        state = StateUpdateChar(state)\n      }\n    } else {\n      if (\n        this$static._optimum[cur].Prev1IsChar &&\n        this$static._optimum[cur].Prev2\n      ) {\n        posPrev = this$static._optimum[cur].PosPrev2\n        pos = this$static._optimum[cur].BackPrev2\n        state = state < 7 ? 8 : 11\n      } else {\n        pos = this$static._optimum[cur].BackPrev\n        if (pos < 4) {\n          state = state < 7 ? 8 : 11\n        } else {\n          state = state < 7 ? 7 : 10\n        }\n      }\n      opt = this$static._optimum[posPrev]\n      if (pos < 4) {\n        if (!pos) {\n          this$static.reps[0] = opt.Backs0\n          this$static.reps[1] = opt.Backs1\n          this$static.reps[2] = opt.Backs2\n          this$static.reps[3] = opt.Backs3\n        } else if (pos == 1) {\n          this$static.reps[0] = opt.Backs1\n          this$static.reps[1] = opt.Backs0\n          this$static.reps[2] = opt.Backs2\n          this$static.reps[3] = opt.Backs3\n        } else if (pos == 2) {\n          this$static.reps[0] = opt.Backs2\n          this$static.reps[1] = opt.Backs0\n          this$static.reps[2] = opt.Backs1\n          this$static.reps[3] = opt.Backs3\n        } else {\n          this$static.reps[0] = opt.Backs3\n          this$static.reps[1] = opt.Backs0\n          this$static.reps[2] = opt.Backs1\n          this$static.reps[3] = opt.Backs2\n        }\n      } else {\n        this$static.reps[0] = pos - 4\n        this$static.reps[1] = opt.Backs0\n        this$static.reps[2] = opt.Backs1\n        this$static.reps[3] = opt.Backs2\n      }\n    }\n    this$static._optimum[cur].State = state\n    this$static._optimum[cur].Backs0 = this$static.reps[0]\n    this$static._optimum[cur].Backs1 = this$static.reps[1]\n    this$static._optimum[cur].Backs2 = this$static.reps[2]\n    this$static._optimum[cur].Backs3 = this$static.reps[3]\n    curPrice = this$static._optimum[cur].Price\n    currentByte = $GetIndexByte(this$static._matchFinder, -1)\n    matchByte = $GetIndexByte(\n      this$static._matchFinder,\n      -this$static.reps[0] - 1 - 1\n    )\n    posState = position & this$static._posStateMask\n    curAnd1Price =\n      curPrice +\n      ProbPrices[this$static._isMatch[(state << 4) + posState] >>> 2] +\n      $GetPrice_0(\n        $GetSubCoder(\n          this$static._literalEncoder,\n          position,\n          $GetIndexByte(this$static._matchFinder, -2)\n        ),\n        state >= 7,\n        matchByte,\n        currentByte\n      )\n    nextOptimum = this$static._optimum[cur + 1]\n    nextIsChar = 0\n    if (curAnd1Price < nextOptimum.Price) {\n      nextOptimum.Price = curAnd1Price\n      nextOptimum.PosPrev = cur\n      nextOptimum.BackPrev = -1\n      nextOptimum.Prev1IsChar = 0\n      nextIsChar = 1\n    }\n    matchPrice =\n      curPrice +\n      ProbPrices[(2048 - this$static._isMatch[(state << 4) + posState]) >>> 2]\n    repMatchPrice =\n      matchPrice + ProbPrices[(2048 - this$static._isRep[state]) >>> 2]\n    if (\n      matchByte == currentByte &&\n      !(nextOptimum.PosPrev < cur && !nextOptimum.BackPrev)\n    ) {\n      shortRepPrice =\n        repMatchPrice +\n        (ProbPrices[this$static._isRepG0[state] >>> 2] +\n          ProbPrices[this$static._isRep0Long[(state << 4) + posState] >>> 2])\n      if (shortRepPrice <= nextOptimum.Price) {\n        nextOptimum.Price = shortRepPrice\n        nextOptimum.PosPrev = cur\n        nextOptimum.BackPrev = 0\n        nextOptimum.Prev1IsChar = 0\n        nextIsChar = 1\n      }\n    }\n    numAvailableBytesFull = $GetNumAvailableBytes(this$static._matchFinder) + 1\n    numAvailableBytesFull =\n      4095 - cur < numAvailableBytesFull ? 4095 - cur : numAvailableBytesFull\n    numAvailableBytes = numAvailableBytesFull\n    if (numAvailableBytes < 2) {\n      continue\n    }\n    if (numAvailableBytes > this$static._numFastBytes) {\n      numAvailableBytes = this$static._numFastBytes\n    }\n    if (!nextIsChar && matchByte != currentByte) {\n      t = Math.min(numAvailableBytesFull - 1, this$static._numFastBytes)\n      lenTest2 = $GetMatchLen(\n        this$static._matchFinder,\n        0,\n        this$static.reps[0],\n        t\n      )\n      if (lenTest2 >= 2) {\n        state2 = StateUpdateChar(state)\n        posStateNext = (position + 1) & this$static._posStateMask\n        nextRepMatchPrice =\n          curAnd1Price +\n          ProbPrices[\n            (2048 - this$static._isMatch[(state2 << 4) + posStateNext]) >>> 2\n          ] +\n          ProbPrices[(2048 - this$static._isRep[state2]) >>> 2]\n        offset = cur + 1 + lenTest2\n        while (lenEnd < offset) {\n          this$static._optimum[++lenEnd].Price = 268435455\n        }\n        curAndLenPrice =\n          nextRepMatchPrice +\n          ((price = $GetPrice(\n            this$static._repMatchLenEncoder,\n            lenTest2 - 2,\n            posStateNext\n          )),\n          price + $GetPureRepPrice(this$static, 0, state2, posStateNext))\n        optimum = this$static._optimum[offset]\n        if (curAndLenPrice < optimum.Price) {\n          optimum.Price = curAndLenPrice\n          optimum.PosPrev = cur + 1\n          optimum.BackPrev = 0\n          optimum.Prev1IsChar = 1\n          optimum.Prev2 = 0\n        }\n      }\n    }\n    startLen = 2\n    for (repIndex = 0; repIndex < 4; ++repIndex) {\n      lenTest = $GetMatchLen(\n        this$static._matchFinder,\n        -1,\n        this$static.reps[repIndex],\n        numAvailableBytes\n      )\n      if (lenTest < 2) {\n        continue\n      }\n      lenTestTemp = lenTest\n      do {\n        while (lenEnd < cur + lenTest) {\n          this$static._optimum[++lenEnd].Price = 268435455\n        }\n        curAndLenPrice =\n          repMatchPrice +\n          ((price_0 = $GetPrice(\n            this$static._repMatchLenEncoder,\n            lenTest - 2,\n            posState\n          )),\n          price_0 + $GetPureRepPrice(this$static, repIndex, state, posState))\n        optimum = this$static._optimum[cur + lenTest]\n        if (curAndLenPrice < optimum.Price) {\n          optimum.Price = curAndLenPrice\n          optimum.PosPrev = cur\n          optimum.BackPrev = repIndex\n          optimum.Prev1IsChar = 0\n        }\n      } while (--lenTest >= 2)\n      lenTest = lenTestTemp\n      if (!repIndex) {\n        startLen = lenTest + 1\n      }\n      if (lenTest < numAvailableBytesFull) {\n        t = Math.min(\n          numAvailableBytesFull - 1 - lenTest,\n          this$static._numFastBytes\n        )\n        lenTest2 = $GetMatchLen(\n          this$static._matchFinder,\n          lenTest,\n          this$static.reps[repIndex],\n          t\n        )\n        if (lenTest2 >= 2) {\n          state2 = state < 7 ? 8 : 11\n          posStateNext = (position + lenTest) & this$static._posStateMask\n          curAndLenCharPrice =\n            repMatchPrice +\n            ((price_1 = $GetPrice(\n              this$static._repMatchLenEncoder,\n              lenTest - 2,\n              posState\n            )),\n            price_1 +\n              $GetPureRepPrice(this$static, repIndex, state, posState)) +\n            ProbPrices[\n              this$static._isMatch[(state2 << 4) + posStateNext] >>> 2\n            ] +\n            $GetPrice_0(\n              $GetSubCoder(\n                this$static._literalEncoder,\n                position + lenTest,\n                $GetIndexByte(this$static._matchFinder, lenTest - 1 - 1)\n              ),\n              1,\n              $GetIndexByte(\n                this$static._matchFinder,\n                lenTest - 1 - (this$static.reps[repIndex] + 1)\n              ),\n              $GetIndexByte(this$static._matchFinder, lenTest - 1)\n            )\n          state2 = StateUpdateChar(state2)\n          posStateNext = (position + lenTest + 1) & this$static._posStateMask\n          nextMatchPrice =\n            curAndLenCharPrice +\n            ProbPrices[\n              (2048 - this$static._isMatch[(state2 << 4) + posStateNext]) >>> 2\n            ]\n          nextRepMatchPrice =\n            nextMatchPrice +\n            ProbPrices[(2048 - this$static._isRep[state2]) >>> 2]\n          offset = lenTest + 1 + lenTest2\n          while (lenEnd < cur + offset) {\n            this$static._optimum[++lenEnd].Price = 268435455\n          }\n          curAndLenPrice =\n            nextRepMatchPrice +\n            ((price_2 = $GetPrice(\n              this$static._repMatchLenEncoder,\n              lenTest2 - 2,\n              posStateNext\n            )),\n            price_2 + $GetPureRepPrice(this$static, 0, state2, posStateNext))\n          optimum = this$static._optimum[cur + offset]\n          if (curAndLenPrice < optimum.Price) {\n            optimum.Price = curAndLenPrice\n            optimum.PosPrev = cur + lenTest + 1\n            optimum.BackPrev = 0\n            optimum.Prev1IsChar = 1\n            optimum.Prev2 = 1\n            optimum.PosPrev2 = cur\n            optimum.BackPrev2 = repIndex\n          }\n        }\n      }\n    }\n    if (newLen > numAvailableBytes) {\n      newLen = numAvailableBytes\n      for (\n        numDistancePairs = 0;\n        newLen > this$static._matchDistances[numDistancePairs];\n        numDistancePairs += 2\n      ) {}\n      this$static._matchDistances[numDistancePairs] = newLen\n      numDistancePairs += 2\n    }\n    if (newLen >= startLen) {\n      normalMatchPrice =\n        matchPrice + ProbPrices[this$static._isRep[state] >>> 2]\n      while (lenEnd < cur + newLen) {\n        this$static._optimum[++lenEnd].Price = 268435455\n      }\n      offs = 0\n      while (startLen > this$static._matchDistances[offs]) {\n        offs += 2\n      }\n      for (lenTest = startLen; ; ++lenTest) {\n        curBack = this$static._matchDistances[offs + 1]\n        curAndLenPrice =\n          normalMatchPrice +\n          $GetPosLenPrice(this$static, curBack, lenTest, posState)\n        optimum = this$static._optimum[cur + lenTest]\n        if (curAndLenPrice < optimum.Price) {\n          optimum.Price = curAndLenPrice\n          optimum.PosPrev = cur\n          optimum.BackPrev = curBack + 4\n          optimum.Prev1IsChar = 0\n        }\n        if (lenTest == this$static._matchDistances[offs]) {\n          if (lenTest < numAvailableBytesFull) {\n            t = Math.min(\n              numAvailableBytesFull - 1 - lenTest,\n              this$static._numFastBytes\n            )\n            lenTest2 = $GetMatchLen(\n              this$static._matchFinder,\n              lenTest,\n              curBack,\n              t\n            )\n            if (lenTest2 >= 2) {\n              state2 = state < 7 ? 7 : 10\n              posStateNext = (position + lenTest) & this$static._posStateMask\n              curAndLenCharPrice =\n                curAndLenPrice +\n                ProbPrices[\n                  this$static._isMatch[(state2 << 4) + posStateNext] >>> 2\n                ] +\n                $GetPrice_0(\n                  $GetSubCoder(\n                    this$static._literalEncoder,\n                    position + lenTest,\n                    $GetIndexByte(this$static._matchFinder, lenTest - 1 - 1)\n                  ),\n                  1,\n                  $GetIndexByte(\n                    this$static._matchFinder,\n                    lenTest - (curBack + 1) - 1\n                  ),\n                  $GetIndexByte(this$static._matchFinder, lenTest - 1)\n                )\n              state2 = StateUpdateChar(state2)\n              posStateNext =\n                (position + lenTest + 1) & this$static._posStateMask\n              nextMatchPrice =\n                curAndLenCharPrice +\n                ProbPrices[\n                  (2048 -\n                    this$static._isMatch[(state2 << 4) + posStateNext]) >>>\n                    2\n                ]\n              nextRepMatchPrice =\n                nextMatchPrice +\n                ProbPrices[(2048 - this$static._isRep[state2]) >>> 2]\n              offset = lenTest + 1 + lenTest2\n              while (lenEnd < cur + offset) {\n                this$static._optimum[++lenEnd].Price = 268435455\n              }\n              curAndLenPrice =\n                nextRepMatchPrice +\n                ((price_3 = $GetPrice(\n                  this$static._repMatchLenEncoder,\n                  lenTest2 - 2,\n                  posStateNext\n                )),\n                price_3 +\n                  $GetPureRepPrice(this$static, 0, state2, posStateNext))\n              optimum = this$static._optimum[cur + offset]\n              if (curAndLenPrice < optimum.Price) {\n                optimum.Price = curAndLenPrice\n                optimum.PosPrev = cur + lenTest + 1\n                optimum.BackPrev = 0\n                optimum.Prev1IsChar = 1\n                optimum.Prev2 = 1\n                optimum.PosPrev2 = cur\n                optimum.BackPrev2 = curBack + 4\n              }\n            }\n          }\n          offs += 2\n          if (offs == numDistancePairs) break\n        }\n      }\n    }\n  }\n}\n\nfunction $GetPosLenPrice(this$static, pos, len, posState) {\n  var price,\n    lenToPosState = GetLenToPosState(len)\n  if (pos < 128) {\n    price = this$static._distancesPrices[lenToPosState * 128 + pos]\n  } else {\n    price =\n      this$static._posSlotPrices[(lenToPosState << 6) + GetPosSlot2(pos)] +\n      this$static._alignPrices[pos & 15]\n  }\n  return price + $GetPrice(this$static._lenEncoder, len - 2, posState)\n}\n\nfunction $GetPureRepPrice(this$static, repIndex, state, posState) {\n  var price\n  if (!repIndex) {\n    price = ProbPrices[this$static._isRepG0[state] >>> 2]\n    price +=\n      ProbPrices[\n        (2048 - this$static._isRep0Long[(state << 4) + posState]) >>> 2\n      ]\n  } else {\n    price = ProbPrices[(2048 - this$static._isRepG0[state]) >>> 2]\n    if (repIndex == 1) {\n      price += ProbPrices[this$static._isRepG1[state] >>> 2]\n    } else {\n      price += ProbPrices[(2048 - this$static._isRepG1[state]) >>> 2]\n      price += GetPrice(this$static._isRepG2[state], repIndex - 2)\n    }\n  }\n  return price\n}\n\nfunction $GetRepLen1Price(this$static, state, posState) {\n  return (\n    ProbPrices[this$static._isRepG0[state] >>> 2] +\n    ProbPrices[this$static._isRep0Long[(state << 4) + posState] >>> 2]\n  )\n}\n\nfunction $Init_4(this$static) {\n  $BaseInit(this$static)\n  $Init_9(this$static._rangeEncoder)\n  InitBitModels(this$static._isMatch)\n  InitBitModels(this$static._isRep0Long)\n  InitBitModels(this$static._isRep)\n  InitBitModels(this$static._isRepG0)\n  InitBitModels(this$static._isRepG1)\n  InitBitModels(this$static._isRepG2)\n  InitBitModels(this$static._posEncoders)\n  $Init_3(this$static._literalEncoder)\n  for (var i = 0; i < 4; ++i) {\n    InitBitModels(this$static._posSlotEncoder[i].Models)\n  }\n  $Init_2(this$static._lenEncoder, 1 << this$static._posStateBits)\n  $Init_2(this$static._repMatchLenEncoder, 1 << this$static._posStateBits)\n  InitBitModels(this$static._posAlignEncoder.Models)\n  this$static._longestMatchWasFound = 0\n  this$static._optimumEndIndex = 0\n  this$static._optimumCurrentIndex = 0\n  this$static._additionalOffset = 0\n}\n\nfunction $MovePos(this$static, num) {\n  if (num > 0) {\n    $Skip(this$static._matchFinder, num)\n    this$static._additionalOffset += num\n  }\n}\n\nfunction $ReadMatchDistances(this$static) {\n  var lenRes = 0\n  this$static._numDistancePairs = $GetMatches(\n    this$static._matchFinder,\n    this$static._matchDistances\n  )\n  if (this$static._numDistancePairs > 0) {\n    lenRes = this$static._matchDistances[this$static._numDistancePairs - 2]\n    if (lenRes == this$static._numFastBytes)\n      lenRes += $GetMatchLen(\n        this$static._matchFinder,\n        lenRes - 1,\n        this$static._matchDistances[this$static._numDistancePairs - 1],\n        273 - lenRes\n      )\n  }\n  ++this$static._additionalOffset\n  return lenRes\n}\n\nfunction $ReleaseMFStream(this$static) {\n  if (this$static._matchFinder && this$static._needReleaseMFStream) {\n    this$static._matchFinder._stream = null\n    this$static._needReleaseMFStream = 0\n  }\n}\n\nfunction $ReleaseStreams(this$static) {\n  $ReleaseMFStream(this$static)\n  this$static._rangeEncoder.Stream = null\n}\n\nfunction $SetDictionarySize_0(this$static, dictionarySize) {\n  this$static._dictionarySize = dictionarySize\n  for (var dicLogSize = 0; dictionarySize > 1 << dicLogSize; ++dicLogSize) {}\n  this$static._distTableSize = dicLogSize * 2\n}\n\nfunction $SetMatchFinder(this$static, matchFinderIndex) {\n  var matchFinderIndexPrev = this$static._matchFinderType\n  this$static._matchFinderType = matchFinderIndex\n  if (\n    this$static._matchFinder &&\n    matchFinderIndexPrev != this$static._matchFinderType\n  ) {\n    this$static._dictionarySizePrev = -1\n    this$static._matchFinder = null\n  }\n}\n\nfunction $WriteCoderProperties(this$static, outStream) {\n  this$static.properties[0] =\n    (((this$static._posStateBits * 5 + this$static._numLiteralPosStateBits) *\n      9 +\n      this$static._numLiteralContextBits) <<\n      24) >>\n    24\n  for (var i = 0; i < 4; ++i) {\n    this$static.properties[1 + i] =\n      ((this$static._dictionarySize >> (8 * i)) << 24) >> 24\n  }\n  $write_0(outStream, this$static.properties, 0, 5)\n}\n\nfunction $WriteEndMarker(this$static, posState) {\n  if (!this$static._writeEndMark) {\n    return\n  }\n  $Encode_3(\n    this$static._rangeEncoder,\n    this$static._isMatch,\n    (this$static._state << 4) + posState,\n    1\n  )\n  $Encode_3(\n    this$static._rangeEncoder,\n    this$static._isRep,\n    this$static._state,\n    0\n  )\n  this$static._state = this$static._state < 7 ? 7 : 10\n  $Encode_0(this$static._lenEncoder, this$static._rangeEncoder, 0, posState)\n  var lenToPosState = GetLenToPosState(2)\n  $Encode_2(\n    this$static._posSlotEncoder[lenToPosState],\n    this$static._rangeEncoder,\n    63\n  )\n  $EncodeDirectBits(this$static._rangeEncoder, 67108863, 26)\n  $ReverseEncode(this$static._posAlignEncoder, this$static._rangeEncoder, 15)\n}\n\nfunction GetPosSlot(pos) {\n  if (pos < 2048) {\n    return g_FastPos[pos]\n  }\n  if (pos < 2097152) {\n    return g_FastPos[pos >> 10] + 20\n  }\n  return g_FastPos[pos >> 20] + 40\n}\n\nfunction GetPosSlot2(pos) {\n  if (pos < 131072) {\n    return g_FastPos[pos >> 6] + 12\n  }\n  if (pos < 134217728) {\n    return g_FastPos[pos >> 16] + 32\n  }\n  return g_FastPos[pos >> 26] + 52\n}\n\nfunction $Encode(this$static, rangeEncoder, symbol, posState) {\n  if (symbol < 8) {\n    $Encode_3(rangeEncoder, this$static._choice, 0, 0)\n    $Encode_2(this$static._lowCoder[posState], rangeEncoder, symbol)\n  } else {\n    symbol -= 8\n    $Encode_3(rangeEncoder, this$static._choice, 0, 1)\n    if (symbol < 8) {\n      $Encode_3(rangeEncoder, this$static._choice, 1, 0)\n      $Encode_2(this$static._midCoder[posState], rangeEncoder, symbol)\n    } else {\n      $Encode_3(rangeEncoder, this$static._choice, 1, 1)\n      $Encode_2(this$static._highCoder, rangeEncoder, symbol - 8)\n    }\n  }\n}\n\nfunction $Encoder$LenEncoder(this$static) {\n  this$static._choice = initDim(2)\n  this$static._lowCoder = initDim(16)\n  this$static._midCoder = initDim(16)\n  this$static._highCoder = $BitTreeEncoder({}, 8)\n  for (var posState = 0; posState < 16; ++posState) {\n    this$static._lowCoder[posState] = $BitTreeEncoder({}, 3)\n    this$static._midCoder[posState] = $BitTreeEncoder({}, 3)\n  }\n  return this$static\n}\n\nfunction $Init_2(this$static, numPosStates) {\n  InitBitModels(this$static._choice)\n  for (var posState = 0; posState < numPosStates; ++posState) {\n    InitBitModels(this$static._lowCoder[posState].Models)\n    InitBitModels(this$static._midCoder[posState].Models)\n  }\n  InitBitModels(this$static._highCoder.Models)\n}\n\nfunction $SetPrices(this$static, posState, numSymbols, prices, st) {\n  var a0, a1, b0, b1, i\n  a0 = ProbPrices[this$static._choice[0] >>> 2]\n  a1 = ProbPrices[(2048 - this$static._choice[0]) >>> 2]\n  b0 = a1 + ProbPrices[this$static._choice[1] >>> 2]\n  b1 = a1 + ProbPrices[(2048 - this$static._choice[1]) >>> 2]\n  i = 0\n  for (i = 0; i < 8; ++i) {\n    if (i >= numSymbols) return\n    prices[st + i] = a0 + $GetPrice_1(this$static._lowCoder[posState], i)\n  }\n  for (; i < 16; ++i) {\n    if (i >= numSymbols) return\n    prices[st + i] = b0 + $GetPrice_1(this$static._midCoder[posState], i - 8)\n  }\n  for (; i < numSymbols; ++i) {\n    prices[st + i] = b1 + $GetPrice_1(this$static._highCoder, i - 8 - 8)\n  }\n}\n\nfunction $Encode_0(this$static, rangeEncoder, symbol, posState) {\n  $Encode(this$static, rangeEncoder, symbol, posState)\n  if (--this$static._counters[posState] == 0) {\n    $SetPrices(\n      this$static,\n      posState,\n      this$static._tableSize,\n      this$static._prices,\n      posState * 272\n    )\n    this$static._counters[posState] = this$static._tableSize\n  }\n}\n\nfunction $Encoder$LenPriceTableEncoder(this$static) {\n  $Encoder$LenEncoder(this$static)\n  this$static._prices = []\n  this$static._counters = []\n  return this$static\n}\n\nfunction $GetPrice(this$static, symbol, posState) {\n  return this$static._prices[posState * 272 + symbol]\n}\n\nfunction $UpdateTables(this$static, numPosStates) {\n  for (var posState = 0; posState < numPosStates; ++posState) {\n    $SetPrices(\n      this$static,\n      posState,\n      this$static._tableSize,\n      this$static._prices,\n      posState * 272\n    )\n    this$static._counters[posState] = this$static._tableSize\n  }\n}\n\nfunction $Create_1(this$static, numPosBits, numPrevBits) {\n  var i, numStates\n  if (\n    this$static.m_Coders != null &&\n    this$static.m_NumPrevBits == numPrevBits &&\n    this$static.m_NumPosBits == numPosBits\n  ) {\n    return\n  }\n  this$static.m_NumPosBits = numPosBits\n  this$static.m_PosMask = (1 << numPosBits) - 1\n  this$static.m_NumPrevBits = numPrevBits\n  numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  this$static.m_Coders = initDim(numStates)\n  for (i = 0; i < numStates; ++i) {\n    this$static.m_Coders[i] = $Encoder$LiteralEncoder$Encoder2({})\n  }\n}\n\nfunction $GetSubCoder(this$static, pos, prevByte) {\n  return this$static.m_Coders[\n    ((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) +\n      ((prevByte & 255) >>> (8 - this$static.m_NumPrevBits))\n  ]\n}\n\nfunction $Init_3(this$static) {\n  var i,\n    numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  for (i = 0; i < numStates; ++i) {\n    InitBitModels(this$static.m_Coders[i].m_Encoders)\n  }\n}\n\nfunction $Encode_1(this$static, rangeEncoder, symbol) {\n  var bit,\n    i,\n    context = 1\n  for (i = 7; i >= 0; --i) {\n    bit = (symbol >> i) & 1\n    $Encode_3(rangeEncoder, this$static.m_Encoders, context, bit)\n    context = (context << 1) | bit\n  }\n}\n\nfunction $EncodeMatched(this$static, rangeEncoder, matchByte, symbol) {\n  var bit,\n    i,\n    matchBit,\n    state,\n    same = 1,\n    context = 1\n  for (i = 7; i >= 0; --i) {\n    bit = (symbol >> i) & 1\n    state = context\n    if (same) {\n      matchBit = (matchByte >> i) & 1\n      state += (1 + matchBit) << 8\n      same = matchBit == bit\n    }\n    $Encode_3(rangeEncoder, this$static.m_Encoders, state, bit)\n    context = (context << 1) | bit\n  }\n}\n\nfunction $Encoder$LiteralEncoder$Encoder2(this$static) {\n  this$static.m_Encoders = initDim(768)\n  return this$static\n}\n\nfunction $GetPrice_0(this$static, matchMode, matchByte, symbol) {\n  var bit,\n    context = 1,\n    i = 7,\n    matchBit,\n    price = 0\n  if (matchMode) {\n    for (; i >= 0; --i) {\n      matchBit = (matchByte >> i) & 1\n      bit = (symbol >> i) & 1\n      price += GetPrice(\n        this$static.m_Encoders[((1 + matchBit) << 8) + context],\n        bit\n      )\n      context = (context << 1) | bit\n      if (matchBit != bit) {\n        --i\n        break\n      }\n    }\n  }\n  for (; i >= 0; --i) {\n    bit = (symbol >> i) & 1\n    price += GetPrice(this$static.m_Encoders[context], bit)\n    context = (context << 1) | bit\n  }\n  return price\n}\n\nfunction $MakeAsChar(this$static) {\n  this$static.BackPrev = -1\n  this$static.Prev1IsChar = 0\n}\n\nfunction $MakeAsShortRep(this$static) {\n  this$static.BackPrev = 0\n  this$static.Prev1IsChar = 0\n}\nfunction $BitTreeDecoder(this$static, numBitLevels) {\n  this$static.NumBitLevels = numBitLevels\n  this$static.Models = initDim(1 << numBitLevels)\n  return this$static\n}\n\nfunction $Decode_0(this$static, rangeDecoder) {\n  var bitIndex,\n    m = 1\n  for (bitIndex = this$static.NumBitLevels; bitIndex != 0; --bitIndex) {\n    m = (m << 1) + $DecodeBit(rangeDecoder, this$static.Models, m)\n  }\n  return m - (1 << this$static.NumBitLevels)\n}\n\nfunction $ReverseDecode(this$static, rangeDecoder) {\n  var bit,\n    bitIndex,\n    m = 1,\n    symbol = 0\n  for (bitIndex = 0; bitIndex < this$static.NumBitLevels; ++bitIndex) {\n    bit = $DecodeBit(rangeDecoder, this$static.Models, m)\n    m <<= 1\n    m += bit\n    symbol |= bit << bitIndex\n  }\n  return symbol\n}\n\nfunction ReverseDecode(Models, startIndex, rangeDecoder, NumBitLevels) {\n  var bit,\n    bitIndex,\n    m = 1,\n    symbol = 0\n  for (bitIndex = 0; bitIndex < NumBitLevels; ++bitIndex) {\n    bit = $DecodeBit(rangeDecoder, Models, startIndex + m)\n    m <<= 1\n    m += bit\n    symbol |= bit << bitIndex\n  }\n  return symbol\n}\nfunction $BitTreeEncoder(this$static, numBitLevels) {\n  this$static.NumBitLevels = numBitLevels\n  this$static.Models = initDim(1 << numBitLevels)\n  return this$static\n}\n\nfunction $Encode_2(this$static, rangeEncoder, symbol) {\n  var bit,\n    bitIndex,\n    m = 1\n  for (bitIndex = this$static.NumBitLevels; bitIndex != 0; ) {\n    --bitIndex\n    bit = (symbol >>> bitIndex) & 1\n    $Encode_3(rangeEncoder, this$static.Models, m, bit)\n    m = (m << 1) | bit\n  }\n}\n\nfunction $GetPrice_1(this$static, symbol) {\n  var bit,\n    bitIndex,\n    m = 1,\n    price = 0\n  for (bitIndex = this$static.NumBitLevels; bitIndex != 0; ) {\n    --bitIndex\n    bit = (symbol >>> bitIndex) & 1\n    price += GetPrice(this$static.Models[m], bit)\n    m = (m << 1) + bit\n  }\n  return price\n}\n\nfunction $ReverseEncode(this$static, rangeEncoder, symbol) {\n  var bit,\n    i,\n    m = 1\n  for (i = 0; i < this$static.NumBitLevels; ++i) {\n    bit = symbol & 1\n    $Encode_3(rangeEncoder, this$static.Models, m, bit)\n    m = (m << 1) | bit\n    symbol >>= 1\n  }\n}\n\nfunction $ReverseGetPrice(this$static, symbol) {\n  var bit,\n    i,\n    m = 1,\n    price = 0\n  for (i = this$static.NumBitLevels; i != 0; --i) {\n    bit = symbol & 1\n    symbol >>>= 1\n    price += GetPrice(this$static.Models[m], bit)\n    m = (m << 1) | bit\n  }\n  return price\n}\n\nfunction ReverseEncode(Models, startIndex, rangeEncoder, NumBitLevels, symbol) {\n  var bit,\n    i,\n    m = 1\n  for (i = 0; i < NumBitLevels; ++i) {\n    bit = symbol & 1\n    $Encode_3(rangeEncoder, Models, startIndex + m, bit)\n    m = (m << 1) | bit\n    symbol >>= 1\n  }\n}\n\nfunction ReverseGetPrice(Models, startIndex, NumBitLevels, symbol) {\n  var bit,\n    i,\n    m = 1,\n    price = 0\n  for (i = NumBitLevels; i != 0; --i) {\n    bit = symbol & 1\n    symbol >>>= 1\n    price += ProbPrices[(((Models[startIndex + m] - bit) ^ -bit) & 2047) >>> 2]\n    m = (m << 1) | bit\n  }\n  return price\n}\nfunction $DecodeBit(this$static, probs, index) {\n  var newBound,\n    prob = probs[index]\n  newBound = (this$static.Range >>> 11) * prob\n  if ((this$static.Code ^ -2147483648) < (newBound ^ -2147483648)) {\n    this$static.Range = newBound\n    probs[index] = ((prob + ((2048 - prob) >>> 5)) << 16) >> 16\n    if (!(this$static.Range & -16777216)) {\n      this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n      this$static.Range <<= 8\n    }\n    return 0\n  } else {\n    this$static.Range -= newBound\n    this$static.Code -= newBound\n    probs[index] = ((prob - (prob >>> 5)) << 16) >> 16\n    if (!(this$static.Range & -16777216)) {\n      this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n      this$static.Range <<= 8\n    }\n    return 1\n  }\n}\n\nfunction $DecodeDirectBits(this$static, numTotalBits) {\n  var i,\n    t,\n    result = 0\n  for (i = numTotalBits; i != 0; --i) {\n    this$static.Range >>>= 1\n    t = (this$static.Code - this$static.Range) >>> 31\n    this$static.Code -= this$static.Range & (t - 1)\n    result = (result << 1) | (1 - t)\n    if (!(this$static.Range & -16777216)) {\n      this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n      this$static.Range <<= 8\n    }\n  }\n  return result\n}\n\nfunction $Init_8(this$static) {\n  this$static.Code = 0\n  this$static.Range = -1\n  for (var i = 0; i < 5; ++i) {\n    this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n  }\n}\nfunction InitBitModels(probs) {\n  for (var i = probs.length - 1; i >= 0; --i) {\n    probs[i] = 1024\n  }\n}\nvar ProbPrices = (function() {\n  var end,\n    i,\n    j,\n    start,\n    ProbPrices = []\n  for (i = 8; i >= 0; --i) {\n    start = 1 << (9 - i - 1)\n    end = 1 << (9 - i)\n    for (j = start; j < end; ++j) {\n      ProbPrices[j] = (i << 6) + (((end - j) << 6) >>> (9 - i - 1))\n    }\n  }\n  return ProbPrices\n})()\n\nfunction $Encode_3(this$static, probs, index, symbol) {\n  var newBound,\n    prob = probs[index]\n  newBound = (this$static.Range >>> 11) * prob\n  if (!symbol) {\n    this$static.Range = newBound\n    probs[index] = ((prob + ((2048 - prob) >>> 5)) << 16) >> 16\n  } else {\n    this$static.Low = add(\n      this$static.Low,\n      and(fromInt(newBound), [4294967295, 0])\n    )\n    this$static.Range -= newBound\n    probs[index] = ((prob - (prob >>> 5)) << 16) >> 16\n  }\n  if (!(this$static.Range & -16777216)) {\n    this$static.Range <<= 8\n    $ShiftLow(this$static)\n  }\n}\n\nfunction $EncodeDirectBits(this$static, v, numTotalBits) {\n  for (var i = numTotalBits - 1; i >= 0; --i) {\n    this$static.Range >>>= 1\n    if (((v >>> i) & 1) == 1) {\n      this$static.Low = add(this$static.Low, fromInt(this$static.Range))\n    }\n    if (!(this$static.Range & -16777216)) {\n      this$static.Range <<= 8\n      $ShiftLow(this$static)\n    }\n  }\n}\n\nfunction $GetProcessedSizeAdd(this$static) {\n  return add(add(fromInt(this$static._cacheSize), this$static._position), [\n    4,\n    0\n  ])\n}\n\nfunction $Init_9(this$static) {\n  this$static._position = P0_longLit\n  this$static.Low = P0_longLit\n  this$static.Range = -1\n  this$static._cacheSize = 1\n  this$static._cache = 0\n}\n\nfunction $ShiftLow(this$static) {\n  var temp,\n    LowHi = lowBits_0(shru(this$static.Low, 32))\n  if (LowHi != 0 || compare(this$static.Low, [4278190080, 0]) < 0) {\n    this$static._position = add(\n      this$static._position,\n      fromInt(this$static._cacheSize)\n    )\n    temp = this$static._cache\n    do {\n      $write(this$static.Stream, temp + LowHi)\n      temp = 255\n    } while (--this$static._cacheSize != 0)\n    this$static._cache = lowBits_0(this$static.Low) >>> 24\n  }\n  ++this$static._cacheSize\n  this$static.Low = shl(and(this$static.Low, [16777215, 0]), 8)\n}\n\nfunction GetPrice(Prob, symbol) {\n  return ProbPrices[(((Prob - symbol) ^ -symbol) & 2047) >>> 2]\n}\nfunction decode(utf) {\n  var i = 0,\n    j = 0,\n    x,\n    y,\n    z,\n    l = utf.length,\n    buf = [],\n    charCodes = []\n  for (; i < l; ++i, ++j) {\n    x = utf[i] & 255\n    if (!(x & 128)) {\n      if (!x) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      charCodes[j] = x\n    } else if ((x & 224) == 192) {\n      if (i + 1 >= l) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      y = utf[++i] & 255\n      if ((y & 192) != 128) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      charCodes[j] = ((x & 31) << 6) | (y & 63)\n    } else if ((x & 240) == 224) {\n      if (i + 2 >= l) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      y = utf[++i] & 255\n      if ((y & 192) != 128) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      z = utf[++i] & 255\n      if ((z & 192) != 128) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      charCodes[j] = ((x & 15) << 12) | ((y & 63) << 6) | (z & 63)\n    } else {\n      // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n      return utf\n    }\n    if (j == 16383) {\n      buf.push(String.fromCharCode.apply(String, charCodes))\n      j = -1\n    }\n  }\n  if (j > 0) {\n    charCodes.length = j\n    buf.push(String.fromCharCode.apply(String, charCodes))\n  }\n  return buf.join('')\n}\nfunction encode(s) {\n  var ch,\n    chars = [],\n    data,\n    elen = 0,\n    i,\n    l = s.length\n  // Be able to handle binary arrays and buffers.\n  if (typeof s == 'object') {\n    return s\n  } else {\n    $getChars(s, 0, l, chars, 0)\n  }\n  // Add extra spaces in the array to break up the unicode symbols.\n  for (i = 0; i < l; ++i) {\n    ch = chars[i]\n    if (ch >= 1 && ch <= 127) {\n      ++elen\n    } else if (!ch || (ch >= 128 && ch <= 2047)) {\n      elen += 2\n    } else {\n      elen += 3\n    }\n  }\n  data = []\n  elen = 0\n  for (i = 0; i < l; ++i) {\n    ch = chars[i]\n    if (ch >= 1 && ch <= 127) {\n      data[elen++] = (ch << 24) >> 24\n    } else if (!ch || (ch >= 128 && ch <= 2047)) {\n      data[elen++] = ((192 | ((ch >> 6) & 31)) << 24) >> 24\n      data[elen++] = ((128 | (ch & 63)) << 24) >> 24\n    } else {\n      data[elen++] = ((224 | ((ch >> 12) & 15)) << 24) >> 24\n      data[elen++] = ((128 | ((ch >> 6) & 63)) << 24) >> 24\n      data[elen++] = ((128 | (ch & 63)) << 24) >> 24\n    }\n  }\n  return data\n}\n// s is dictionarySize\n// f is fb\n// m is matchFinder\n// NOTE: Because some values are always the same, they have been removed.\n// lc is always 3\n// lp is always 0\n// pb is always 2\nconst modes = [\n  { s: 16, f: 64, m: 0 },\n  { s: 20, f: 64, m: 0 },\n  { s: 19, f: 64, m: 1 },\n  { s: 20, f: 64, m: 1 },\n  { s: 21, f: 128, m: 1 },\n  { s: 22, f: 128, m: 1 },\n  { s: 23, f: 128, m: 1 },\n  { s: 24, f: 255, m: 1 },\n  { s: 25, f: 255, m: 1 }\n]\n\nfunction get_mode_obj(mode) {\n  return modes[mode - 1] || modes[6]\n}\n\n/**\n * Compress a string with the LZMA algorithm\n *\n * @param {string}            value                 The string to be compressed\n * @param {object}            options\n * @param {1|2|3|4|5|6|7|8|9} options.mode          Which mode to use (1 through 9, defaults to 7)\n * @param {boolean}           options.enableEndMark Whether to write an end mark\n * @returns {string}\n */\nexport function compress(value, { mode = 7, enableEndMark = true } = {}) {\n  var this$static = {}\n\n  this$static.c = $LZMAByteArrayCompressor(\n    {},\n    encode(value),\n    get_mode_obj(mode),\n    enableEndMark\n  )\n  while ($processChunk(this$static.c.chunker));\n  return $toByteArray(this$static.c.output)\n}\n\n/**\n * Compress a string with the LZMA algorithm to URL-safe characters\n *\n * @param {string}            value                 The string to be compressed\n * @param {object}            options\n * @param {1|2|3|4|5|6|7|8|9} options.mode          Which mode to use (1 through 9, defaults to 7)\n * @param {boolean}           options.enableEndMark Whether to write an end mark\n * @returns {string}\n */\nexport function compressUrlSafe(\n  string,\n  { mode = 7, enableEndMark = true } = {}\n) {\n  const compressedString = compress(string, { mode, enableEndMark })\n  const compressedBytes = new Uint8Array(compressedString)\n\n  return base64.encodeFromArrayUrlSafe(compressedBytes)\n}\n\n/**\n * Decompress a string compressed with the LZMA algorithm\n *\n * @param {number[]|Int8Array} bytes The int8 array created by the compress() function\n * @returns {string}\n */\nexport function decompress(bytes) {\n  var this$static = {}\n\n  this$static.d = $LZMAByteArrayDecompressor({}, bytes)\n  while ($processChunk(this$static.d.chunker));\n  return decode($toByteArray(this$static.d.output))\n}\n\n/**\n * Decompress a string compressed with the URL-safe compress function\n *\n * @param {string} string The URL-safe string generated by the compressUrlSafe() function\n * @returns {string}\n */\nexport function decompressUrlSafe(string) {\n  return decompress(new Int8Array(base64.decodeToArrayUrlSafe(string)))\n}","import React, { useMemo } from 'react'\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport Cytoscape from 'cytoscape';\nimport COSEBilkent from 'cytoscape-cose-bilkent';\nimport dagre from 'cytoscape-dagre';\n\nCytoscape.use(dagre);\nCytoscape.use(COSEBilkent);\n\n/** For the summary visualizer. Union the migration graphs.\n * \n * Summary graphs are edge-weighted by the number of solutions that edge appears in.\n * Therefore the max weight is the number of solutions there are\n * \n * @param {*} props \n * - title:     Name of the dataset\n * - data:      Full data including all solutions\n * - coloring:  Coloring scheme for the nodes\n * - evtbus\n * @returns \n */\nfunction SummaryGraph({data, coloringDict, evtbus, title, onDeleteSummaryEdge, onRequireSummaryEdge, roots, requiredEdges, setLoadingAction}) {\n\n    document.addEventListener('keydown', function(event) {\n      if (event.key === 'Shift') {\n        document.body.classList.add('shift-click');\n      }\n    });\n    \n    document.addEventListener('keyup', function(event) {\n      if (event.key === 'Shift') {\n        document.body.classList.remove('shift-click');\n      }\n    });\n\n    // TODO: Perhaps change this since we are redoing filtration\n    var filterOut = [];\n    var filterJson = JSON.parse(sessionStorage.getItem(\"selected\"))\n    if (title === filterJson['title']) {\n      for (let key in filterJson) {\n        if (key !== 'title' && !filterJson[key]) {\n          filterOut.push(key.split(''));\n        }\n      }\n    }\n\n    // var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n    // const colorPalette = [\n    //   \"#a6cee3\",\n    //   \"#1f78b4\",\n    //   \"#b2df8a\",\n    //   \"#33a02c\",\n    //   \"#fb9a99\",\n    //   \"#e31a1c\",\n    //   \"#fdbf6f\",\n    //   \"#ff7f00\",\n    //   \"#cab2d6\",\n    //   \"#6a3d9a\",\n    //   \"#ffff99\",\n    //   \"#b15928\"\n    // ]\n    // const ncolors = colorPalette.length;\n\n    function onlyUnique(array) {\n      return [...new Set(array)];\n    }\n\n    // const [width, setWidth] = useState(\"100%\");\n    // const [height, setHeight] = useState(\"100%\");\n    const width = \"100%\";\n    const height = \"100%\";\n\n    let nodeSet = onlyUnique(data.map((value, index) => [value[0], value[1]]).flat())\n\n    let nodes = nodeSet.map((value, index) => {\n        return { data: { id:  value, label: value, type: \"ip\"} };\n    });\n\n    let edges = data.filter(e => {\n      for (let f of filterOut) {\n        if (f[0] === e[0] && f[1] === e[1]) {\n          return false;\n        }\n      }\n      return true;\n    }).map((value, index) => {\n      return { data: { source: value[0], target: value[1], label: value[2], id: `${value[0]}->${value[1]}`, clsource: value[0], cltarget: value[1] } }\n    })\n\n    // Insert a dummy node in the graph if there exist multiple clonal roots\n    // This node will connect to all edges in the graph\n    // Edges to those roots will be weighted by the number of solutions those roots appear in\n    if (Object.keys(roots).length > 1) {\n      nodes.push({ data: { id: \"roots\", label: \"roots\", type: \"ip\", root: \"true\"}});\n\n      for (let root in roots) {\n        edges.push({\n          data: {\n            source: \"roots\",\n            target: root,\n            label: roots[root],\n            id: `roots->${root}`,\n            clsource: \"roots\",\n            cltarget: root, \n            rootedge: \"true\"\n          }\n        })\n      }\n    }\n\n    // Dont label edge weights of 1\n    // BTW Edges are weighted by the number of solutions they appear in\n    for (const [i, edge] of edges.entries()) {\n      // eslint-disable-next-line eqeqeq\n      if (edge.data.label == 1) {\n        edges[i].data.label = \"\";\n      }\n    }\n\n    // const [graphData, setGraphData] = useState({\n    //     nodes: nodes,\n    //     edges: edges\n    // });\n\n    let graphData = {\n      nodes: nodes,\n      edges: edges\n    };\n\n    // console.log(graphData)\n\n    let styleSheet = [\n        {\n          selector: \"node\",\n          style: {\n            backgroundColor: \"#fff\",\n            'border-width': 10,\n            shape: \"rectangle\",\n            width: 100,\n            height: 50,\n            label: \"data(label)\",\n            \"overlay-padding\": \"6px\",\n            \"z-index\": \"10\",\n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15,\n            'text-valign': 'center',\n            'text-halign': 'center'\n          }\n        },\n        {\n          selector: \"node:selected\",\n          style: {\n            \"border-width\": \"6px\",\n            \"border-color\": \"#AAD8FF\",\n            \"border-opacity\": \"0.5\",\n            \"background-color\": \"#77828C\",\n            width: 50,\n            height: 50,\n            \"text-outline-color\": \"#77828C\",\n            \"text-outline-width\": 8\n          }\n        },\n        {\n          selector: \"node[type='device']\",\n          style: {\n            shape: \"rectangle\"\n          }\n        },\n        {\n          selector: \"edge\",\n          style: {\n            width: 3,\n            label: \"data(label)\",\n            \"target-arrow-color\": \"#6774cb\",\n            \"target-arrow-shape\": \"triangle\",\n            'arrow-scale': 1,\n            \"curve-style\": \"bezier\",\n            \"edge-distances\": \"node-position\",       \n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15\n          }\n        },\n        {\n          selector: \"node[root='true']\",\n          style: {\n            'border-color': '#bbb'\n          }\n        },\n        {\n          selector: \"edge[rootedge='true']\",\n          style: {\n            'line-style': 'dashed'\n          }\n        }\n    ];\n\n    for (let key in coloringDict) {\n      let value = coloringDict[key];\n      styleSheet.push({\n        selector: `node[label='${key}']`,\n        style: {\n          // 'border-color': hexColorRegex.test(value) ? value : colorPalette[parseInt(value) % ncolors]\n          'border-color': value\n        }\n      });\n    }\n\n    edges.map((value, _) => {\n        let source = value.data.source;\n        let target = value.data.target;\n\n        styleSheet.push({\n          selector: `edge[id='${source}->${target}']`,\n          style: {\n            'line-fill': 'linear-gradient',\n            'line-gradient-stop-colors': `${getColor(source)} ${getColor(target)}`,\n            'line-gradient-stop-positions': '33% 66%',\n            \"target-arrow-color\": `${getColor(target)}`,\n          }\n        })\n\n        return 0;\n    })\n\n    let myCyRef;\n\n    // TODO: Probably remove since theres no rotation button for summary\n    const queryParameters = new URLSearchParams(window.location.search);\n    let rotated = queryParameters.get(\"rotatedsum\") === \"true\";\n    if (rotated === null) {\n        rotated = false;\n    }\n\n    const layout = {\n        name: \"circle\",\n        fit: true,\n        circle: true,\n        directed: true,\n        padding: 10,\n        // spacingFactor: 1.5,\n        animate: true,\n        animationDuration: 1000,\n        avoidOverlap: true,\n        nodeDimensionsIncludeLabels: false,\n        ready: function() {\n          const listener = (eventName, eventData) => {\n            // Respond to event from other graph here\n            // For example:\n            if (eventName === 'selectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 10\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'deselectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 3\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'unrequireEdge') {\n              //console.log(eventData.object);\n              let edge = myCyRef.$(`edge[id='${eventData.object}']`)\n              edge.css({\n                'font-weight': 'normal',\n                width: 3,\n                arrowScale: 1\n              })\n              edge.data('selected', 'false')\n            }\n            if (eventName === 'requireEdge') {\n              let edge = myCyRef.$(`edge[id='${eventData.object}']`)\n              edge.css({\n                'font-weight': 'normal',\n                width: 10,\n                arrowScale: 1\n              })\n              edge.data('selected', 'true')\n            }\n            if (eventName === 'resetStack') {\n              let edges = myCyRef.$(`edge`)\n              edges.css({\n                'font-weight': 'normal',\n                width: 3,\n                arrowScale: 1\n              })\n              edges.data('selected', 'false')\n            }\n          };\n          evtbus.addListener(listener);\n        }\n    };\n\n    // Compute mu and gamma for the summary\n    let mu = 0;\n    let gamma = edges.length;\n    edges.map((edge) => {\n      if (edge.data.source !== 'roots') {\n        // eslint-disable-next-line eqeqeq\n        if (edge.data.label == '') {\n          mu += 1;\n        } else {\n          mu += parseInt(edge.data.label);\n          //gamma += parseInt(edge.data.label) - 1;\n        }\n      }\n\n      return 0;\n    })\n\n    sessionStorage.setItem(\"musum\", mu);\n    sessionStorage.setItem(\"gammasum\", gamma);\n\n    function getColor(label) {\n      if (label === \"roots\") {\n        return '#bbb'\n      }\n      let color = coloringDict[label];\n      // return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors];\n      return color;\n    }\n\n    function onEdgeTapped(edge, action) {\n      if (action === 'require') {\n        return onRequireSummaryEdge(edge.id());\n      } else {\n        return onDeleteSummaryEdge(edge.id());\n      }\n    }\n\n    const memoizedGraphComponent = useMemo(() => ( <CytoscapeComponent\n        elements={CytoscapeComponent.normalizeElements(graphData)}\n        // pan={{ x: 200, y: 200 }}\n        style={{ width: width, height: height }}\n        zoomingEnabled={true}\n        maxZoom={3}\n        minZoom={0.1}\n        autounselectify={true}\n        boxSelectionEnabled={true}\n        layout={layout}\n        stylesheet={styleSheet}\n        cy={cy => {\n          myCyRef = cy;\n\n          cy.ready(function() {\n            requiredEdges.forEach(edgeId => {\n              let selectedEdge = cy.getElementById(edgeId);\n              selectedEdge.css({\n                'font-weight': 'bold',\n                width: 10,\n                arrowScale: 1\n              })\n              selectedEdge.data('selected', 'true')\n            });\n          })\n          \n          cy.off(\"cxttap\", \"edge\");\n          cy.on(\"cxttap\", \"edge\", evt => {\n            // console.log(\"right clicked\")\n          });\n\n          cy.off(\"tap\", \"edge\");\n          cy.on(\"tap\", \"edge\", evt => {\n            let action = \"require\"\n            if (evt.originalEvent.shiftKey) {\n              action = \"delete\"\n            }\n\n            var edge = evt.target;\n\n            let edgeTappedReturn = onEdgeTapped(edge, action);\n\n            if (edgeTappedReturn === -1) {\n              return;\n            } else {\n              if (action === 'require') {\n                // console.log(edge.id())\n                if (!requiredEdges.includes(edge.id())) {\n                  // console.log('there')\n                  edge.css({\n                    'font-weight': 'bold',\n                    width: 10,\n                    arrowScale: 1\n                  })\n                  edge.data('selected', 'true')\n                } else {\n                  // console.log('here')\n                  edge.css({\n                    'font-weight': 'normal',\n                    width: 3,\n                    arrowScale: 1\n                  })\n                  edge.data('selected', 'false')\n                }\n              }\n            }\n          });\n          \n          cy.off(\"mouseover\", \"edge\");\n          cy.on('mouseover', 'edge', function(event) {\n            const { target } = event;\n            if (target.data().selected !== 'true') {\n              target.css({\n                width: 6,\n                arrowScale: 0.5,\n                // 'font-weight': 'bold',\n              })\n            } else {\n              target.css({\n                width: 13,\n                arrowScale: 0.769,\n              })\n            }\n            const nodeId = event.target.id();\n            evtbus.fireEvent('selectNodeSum', { nodeId, target});\n            evtbus.fireEvent('selectNodeCl', { nodeId, target});\n\n            // change cursor type on shift click:\n            // if (shiftPressed) {\n            //   document.body.classList.add('shift-click');\n            // }\n          });\n\n          cy.off(\"mouseover\", \"node\");\n          cy.on('mouseover', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 20,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('hoverNodeSum', { nodeId });\n            evtbus.fireEvent('hoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 1;\n              labeltag.style.zIndex = 100;\n              labeltag.style.fontWeight = 'bold';\n            }\n          })\n\n          cy.off(\"mouseout\", \"node\");\n          cy.on('mouseout', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 10,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('dehoverNodeSum', { nodeId });\n            evtbus.fireEvent('dehoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 0.7;\n              labeltag.style.zIndex = 1;\n              labeltag.style.fontWeight = 'normal';\n            }\n          })\n\n          cy.off(\"mouseout\", \"edge\");\n          cy.on('mouseout', 'edge', function(event) {\n            const { target } = event;\n            if (target.data().selected !== 'true') {\n              target.css({\n                width: 3,\n                // 'font-weight': 'normal',\n                arrowScale: 1,\n              })\n            } else {\n              target.css({\n                width: 10,\n                arrowScale: 1,\n              })\n            }\n            const nodeId = event.target.id();\n            evtbus.fireEvent('deselectNodeSum', { nodeId, target});\n            evtbus.fireEvent('deselectNodeCl', { nodeId, target});\n\n            // Change cursor back to normal cursor\n            // document.body.classList.remove('shift-click');\n          });\n        }}\n      />), [data] )\n      return memoizedGraphComponent;\n}\n\nexport default SummaryGraph;","import React, { useState } from \"react\"\nimport SummaryGraph from \"./SummaryGraph.js\";\n\nfunction SummaryPanel({ \n    type, \n    setType, \n    insertParam, \n    usedData, \n    coloring, \n    muSum, \n    evtBus, \n    onDeleteSummaryEdge, \n    onRequireSummaryEdge, \n    clearData, \n    roots, \n    deletedEdges,\n    requiredEdges,\n    deletedRoots,\n    requiredRoots,\n    setDeletedEdges,\n    setRequiredEdges,\n    setDeletedRoots,\n    setRequiredRoots,\n    filterStack,\n    setFilterStack,\n    setLoadingAction\n}) {\n    const [tooltip, setTooltip] = useState(false);\n\n    let closeSummary = (event) => {\n        clearData()\n        if (type === 'sumviz') {\n            setType('viz')\n            insertParam('type', 'viz')\n        } else {\n            setType('dualviz')\n            insertParam('type', 'dualviz')\n        }\n    }\n\n    function findColor(dict, key) {\n        var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n        const colorPalette = [\n            \"#a6cee3\",\n            \"#1f78b4\",\n            \"#b2df8a\",\n            \"#33a02c\",\n            \"#fb9a99\",\n            \"#e31a1c\",\n            \"#fdbf6f\",\n            \"#ff7f00\",\n            \"#cab2d6\",\n            \"#6a3d9a\",\n            \"#ffff99\",\n            \"#b15928\"\n        ]\n        const ncolors = colorPalette.length;\n\n        let value = dict[key];\n\n        return hexColorRegex.test(value) ? value : colorPalette[parseInt(value) % ncolors];\n    }\n\n    function generateTag(stack, dict) {\n        if (stack.length <= 0) {\n            return <></>\n        }\n\n        const recentAction = stack[stack.length - 1];\n        let split = recentAction.split(' ')\n        let edge = split[split.length - 1]\n        let [source, target] = edge.split('->')\n        let sourceColor = findColor(dict, source);\n        let targetColor = findColor(dict, target);\n\n        // Edge case: deleting a required edge\n        if (split[0] === 'deletedrequired') {\n            split[0] = 'deleted';\n        } \n\n        //console.log(findColor(dict, source));\n\n        const sourceStyle = {\n            display: 'inline-block',\n            backgroundColor: sourceColor,\n            padding: '5px',\n            borderRadius: '5px',\n            color: 'white',\n        };\n\n        const targetStyle = {\n            display: 'inline-block',\n            backgroundColor: targetColor,\n            padding: '5px',\n            borderRadius: '5px',\n            color: 'white',\n        };\n\n        return (\n            <div className=\"panel actionwrapper\">\n                <p><b>Undo Most Recent Action: </b></p>\n                <p className=\"recentAction\">{split[0]} {split[1]}</p>\n                <p className=\"recentAction\"><span style={sourceStyle}>{source}</span> <span style={targetStyle}>{target}</span></p>\n            </div>\n        )\n    }\n\n    function undoFunction() {\n        setTooltip(false)\n        let recent = filterStack.pop()\n        let [action, item, object] = recent.split(' ')\n\n        if (action === 'required') {\n            if (item === 'root') {\n                setRequiredRoots(requiredRoots.filter(elem => elem !== object))\n            }\n\n            if (item === 'edge') {\n                setRequiredEdges(requiredEdges.filter(elem => elem !== object))\n                evtBus.fireEvent('unrequireEdge', { object })\n            }\n        }\n\n        if (action === 'deleted') {\n            if (item === 'root') {\n                setDeletedRoots(deletedRoots.filter(elem => elem !== object))\n            }\n\n            if (item === 'edge') {\n                setDeletedEdges(deletedEdges.filter(elem => elem !== object))\n            }\n        }\n\n        if (action === 'deletedrequired') {\n            setDeletedEdges(deletedEdges.filter(elem => elem !== object))\n            setRequiredEdges([...requiredEdges, object])\n            evtBus.fireEvent('requireEdge', { object })\n        }\n\n        if (action === 'relaxed') {\n            setRequiredEdges([...requiredEdges, object])\n            evtBus.fireEvent('requireEdge', { object })\n        }\n\n        //console.log(action)\n        //console.log(item)\n        //console.log(object)\n    }\n\n    function resetFn() {\n        setFilterStack([])\n        setDeletedEdges([])\n        setRequiredEdges([])\n        setDeletedRoots([])\n        setRequiredRoots([])\n        evtBus.fireEvent('resetStack')\n    }\n\n    var summaryGraph = usedData[\"summary\"][\"migration\"];\n\n    if (summaryGraph === undefined) {\n        summaryGraph = usedData[\"summary\"]\n    }\n\n    let coloringDict = {};\n    for (var i = 0; i < coloring.length; i++) {\n        coloringDict[coloring[i][0]] = coloring[i][1];\n    }\n\n    return (\n        <div className={`panel info ${type === 'sumviz' ? 'one' : 'tri'}`}>\n            <div className=\"titlewrapper\">\n                <h3 className=\"sumviztitle\"><b>Summary</b></h3>\n                <p className=\"titleelem end\"><b>Press [/] for help</b></p>\n                <span onClick={closeSummary} style={{ textDecoration: 'none', color: 'black' }}><p className='panelclosebutton'><b>[X]</b></p></span>\n            </div>\n            <div className=\"panel migration top left sum\">\n                <p className=\"paneltitle\"><b>Migration Graph</b></p>\n                <p className=\"paneltitle mu\">{`solutions: ${usedData['solutions'].length}`}</p>\n                {filterStack.length > 0 ? <p \n                    className=\"rightAlign\"\n                    onClick={undoFunction}\n                    onMouseEnter={() => setTooltip(true)}\n                    onMouseLeave={() => setTooltip(false)}\n                ></p> : <></>}\n                {tooltip ? generateTag(filterStack, coloringDict) : <></>}\n                <button type=\"button\" className=\"paneltitle button summary\" onClick={resetFn}>Reset</button>\n                <SummaryGraph\n                    data={summaryGraph}\n                    coloringDict={coloringDict}\n                    evtbus={evtBus}\n                    title={usedData['name']}\n                    onDeleteSummaryEdge={onDeleteSummaryEdge}\n                    onRequireSummaryEdge={onRequireSummaryEdge}\n                    roots={roots}\n                    requiredEdges={requiredEdges}\n                    setLoadingAction={setLoadingAction}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default SummaryPanel;","import React from 'react';\nimport Popup from 'reactjs-popup';\n\nexport default function HelpPopup( {isPopupOpen, togglePopup} ) {\n    return(\n        <Popup open={isPopupOpen} togglePopup={togglePopup} overlayStyle={{ background: 'rgba(0, 0, 0, 0.6)', zIndex: 9999 }} animationType=\"fade\" modal>\n            {close => (\n                <div className=\"popup-container\">\n                    {/* <button className=\"close-x\" onClick={close}>\n                        &times;\n                    </button> */}\n                    <div className=\"header\">\n                        Help\n                    </div>\n                    <p className=\"popup-container-text\">Click and drag around the migration graph and clonal tree. Hover over nodes in the clonal tree to find the corresponding anatomical location for the node.</p>\n                    <p className=\"popup-container-text\">Select different solutions from the dropdown on the top left of the panel.</p>\n                    <p className=\"popup-container-text\">To compare with another solution, click the [+] on the right. To view the solution space summary, click the [+] on the left.</p>\n                    <p className=\"popup-container-text\">To filter out any solutions with a particular edge, shift+click on that edge in the summary graph. To require all solutions to have some edge, click the edge on the summary graph.</p>\n                    <p className=\"popup-container-text\">For more help, please select the \"Instructions\" button in the home page. You can return to the home page by pressing \"[X]\" on all the currently opened panels.</p>\n                    <button\n                        className='close-button'\n                        onClick={() => {\n                        //console.log('modal closed ');\n                        togglePopup();\n                        }}\n                    >\n                        Close\n                    </button>\n                </div>\n            )}\n\n        </Popup>\n    );\n}\n","import React from 'react';\nimport Popup from 'reactjs-popup';\n\nexport default function NoSolutionsPopup({isPopupOpen, togglePopup}) {\n    return(\n        <Popup open={isPopupOpen} onClose={togglePopup} overlayStyle={{ background: 'rgba(0, 0, 0, 0.6)', zIndex: 9999 }} animationType=\"fade\" modal>\n            {close => (\n                <div className=\"no-sol-popup-container\">\n                    {/* <button className=\"close-x\" onClick={close}>\n                        &times;\n                    </button> */}\n                    <div className=\"header\">\n                        ERROR\n                    </div>\n                    <p className=\"popup-container-text\">There are no solutions available for your input!</p>\n\n                    <button\n                        className='close-button'\n                        onClick={close}\n                    >\n                        Close\n                    </button>\n                </div>\n            )}\n\n        </Popup>\n    );\n}","import React, { useState, useEffect } from \"react\"\nimport ClonalTree from \"./ClonalTree.js\";\nimport Migration from \"./Migration.js\";\n// import {\n//   Link\n// } from \"react-router-dom\";\n\nimport DefaultDict from \"../utils/DefaultDict.js\";\nimport { decompressUrlSafe } from '../utils/lzma-url.js';\n\n// Panels\nimport SummaryPanel from \"./SummaryPanel.js\";\n\n// Popup\nimport HelpPopup from \"./HelpPopup.js\";\nimport NoSolutionsPopup from \"./NoSolutionsPopup.js\";\n\n/**\n * Finds the root of a tree represented by an edge list.\n * @param {Array<Array<number>>} edgeList - The edge list representing the tree.\n * Each inner array should contain three elements: [u, v, weight].\n * @returns The root node of the tree, or null if the tree is empty or has disconnected components.\n */\nfunction findRoot(edgeList) {\n  // Create a map to store the indegree of each node\n  const indegreeMap = new Map();\n\n  // Traverse the edge list and populate the indegree map\n  for (const [src, dest] of edgeList) {\n    if (!indegreeMap.has(src)) {\n      indegreeMap.set(src, 0);\n    }\n    if (!indegreeMap.has(dest)) {\n      indegreeMap.set(dest, 0);\n    }\n    indegreeMap.set(dest, indegreeMap.get(dest) + 1);\n  }\n\n  // Find the root (node with indegree 0)\n  let root;\n  indegreeMap.forEach((indegree, node) => {\n    if (indegree === 0) {\n      if (root) {\n        // If there is more than one node with indegree 0, then the tree is invalid.\n        throw new Error('Invalid tree: multiple roots');\n      }\n      root = node;\n    }\n  });\n\n  if (root === undefined) {\n    // If there is no node with indegree 0, then the tree is invalid.\n    throw new Error('Invalid tree: no root found');\n  }\n\n  return root;\n}\n\n/**\n * Constructs a frequency dictionary from an array, where keys are elements in the array, \n * and values represent the number of occurrences of each element.\n *\n * @param {Array} arr - The input array from which to construct the frequency dictionary.\n * @returns {Object} An object representing the frequency dictionary, \n *                   where keys are elements and values are their occurrences.\n */\nfunction constructFrequencyDictionary(arr) {\n  const frequencyDict = {};\n  \n  for (const item of arr) {\n    if (frequencyDict[item]) {\n      frequencyDict[item]++;\n    } else {\n      frequencyDict[item] = 1;\n    }\n  }\n  \n  return frequencyDict;\n}\n\n/** Return location of clonal tree root\n * \n * @param {Array} tree tree represented as an edgelist\n * @param {Array} labeling anatomic labeling of clones\n *  - Each entry is an array of two containing [clone, location]\n */\nfunction fetchRootLocation(tree, labeling) {\n  var root = findRoot(tree);\n\n  for (const entry of labeling) {\n    if (entry[0] === root) {\n      return entry[1]\n    }\n  }\n\n  return null\n}\n\n/** Fetch tree roots across the data\n * \n * @param {Object} data filtered MACH2 output data\n */\nfunction fetchRoots(data) {\n  // Fetch each tree in the solution\n  var solutions = data['solutions'];\n  var trees = solutions.map((soln) => soln['tree']);\n\n  // Get the anatomic locations of the roots of each of the trees\n  var roots = trees.map((tree) => findRoot(tree));\n  var rootLocations = roots.map((root, index) => {\n    for (const entry of solutions[index]['labeling']) {\n      if (entry[0] === root) {\n        return entry[1]\n      }\n    }\n    // never reaches this\n    return 0;\n  })\n\n  // Construct a frequency mapping\n  return constructFrequencyDictionary(rootLocations);\n}\n\n/** Insert a URL parameter */\nfunction insertParam(key, value) {\n  // Change a url parameter using URLSearchParams\n  let urlParams = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n  urlParams.set(key, value);\n\n  // Replace the URL\n  window.location.href = '#/viz?' + urlParams.toString();\n}\n\nfunction Viz(props) {\n  const [mu, setMu] = useState(0);\n  const [gamma, setGamma] = useState(0);\n  const [mu2, setMu2] = useState(0);\n  const [gamma2, setGamma2] = useState(0);\n  const [muSum, setMuSum] = useState(0);\n  const [gammaSum, setGammaSum] = useState(0);\n  const jsonContents = decompressUrlSafe(sessionStorage.getItem(\"json_data\"));\n\n  const jsonDict = JSON.parse(jsonContents);\n\n  // for filtering when selecting/unselecting edges on summary graph\n  const [deletedEdges, setDeletedEdges] = useState([]);\n  const [requiredEdges, setRequiredEdges] = useState([]);\n\n  // for refreshing when adding/removing panels\n  const [refreshCounter, setRefreshCounter] = useState(0);\n\n  // for switching between original and new clonal trees\n  // these exist per panel (left = L, right = R)\n  const [clonalL, setClonalL] = useState(false);\n  const [clonalR, setClonalR] = useState(false);\n\n  // Roots data\n  const [roots, setRoots] = useState([]);\n  const [requiredRoots, setRequiredRoots] = useState([]);\n  const [deletedRoots, setDeletedRoots] = useState([]);\n\n  // Summary filter operations stack\n  const [filterStack, setFilterStack] = useState([]);\n\n  // Use the clonalL field to set fontweight to bold according to the state\n  // Styles ending in L are for the left panel\n  // The leftText is for the original clonal tree\n  /*\n  const leftTextStyleL = {\n    fontWeight: !clonalL ? 'bold' : 'normal',\n  }\n  const rightTextStyleL = {\n    fontWeight: clonalL ? 'bold' : 'normal',\n  }*/\n\n  useEffect(() => {\n    updateUsedData();\n  }, [deletedEdges, requiredEdges, deletedRoots, requiredRoots]);\n\n  function onDeleteSummaryEdge(edge_id) {\n    let [source, target] = edge_id.split('->');\n    if (source !== 'roots') {\n      //console.log(\"delete\");\n      // if the edge is currently required, unrequire it and then delete\n      if (requiredEdges.includes(edge_id)) {\n        const updatedEdges = requiredEdges.filter((edge) => edge !== edge_id);\n        setRequiredEdges(updatedEdges);\n        setFilterStack([...filterStack, `deletedrequired edge ${edge_id}`]);\n      } else {\n        setFilterStack([...filterStack, `deleted edge ${edge_id}`]);\n      }\n\n      setDeletedEdges([...deletedEdges, edge_id]);\n    } else {\n      //console.log(\"delete root\");\n      //console.log(deletedRoots)\n      setFilterStack([...filterStack, `deleted root ${target}`]);\n      setDeletedRoots([...deletedRoots, target]);\n    }\n  }\n\n  function onRequireSummaryEdge(edge_id) {\n    let [source, target] = edge_id.split('->')\n    if (source !== 'roots') {\n      if (requiredEdges.includes(edge_id)) {\n        //console.log(\"relax\");\n        // If edge_id exists, remove all instances of edge_id from requiredEdges\n        const updatedEdges = requiredEdges.filter((edge) => edge !== edge_id);\n        setRequiredEdges(updatedEdges);\n        setFilterStack([...filterStack, `relaxed edge ${edge_id}`]);\n      } else {\n        //console.log(\"require\");\n        setFilterStack([...filterStack, `required edge ${edge_id}`]);\n        setRequiredEdges([...requiredEdges, edge_id]);\n      }\n    } else {\n      //console.log(\"require root\");\n      setFilterStack([...filterStack, `required root ${target}`]);\n      setRequiredRoots([...requiredRoots, target]);\n    }\n  }\n\n  function clearData() {\n    setDeletedEdges([])\n    setRequiredEdges([])\n    setDeletedRoots([])\n    setRequiredRoots([])\n    setFilterStack([])\n  }\n\n  function onToggleInputClonalL() {\n    if (!clonalL) setClonalL(!clonalL)\n  }\n\n  function onToggleOutputClonalL() {\n    if (clonalL) setClonalL(!clonalL)\n  }\n\n  function onToggleInputClonalR() {\n    if (!clonalR) setClonalR(!clonalR)\n  }\n\n  function onToggleOutputClonalR() {\n    if (clonalR) setClonalR(!clonalR)\n  }\n\n  const [usedData, setUsedData] = useState(jsonDict);\n\n  function updateUsedData() {\n    const wholeData = jsonDict;\n\n    let tempUsedData = {\n      \"name\": wholeData[\"name\"],\n      \"original\": wholeData[\"original\"],\n      \"solutions\": [],\n      \"summary\": {\n        \"migration\": [],\n      },\n    };\n\n    for (let i = 0; i < wholeData[\"solutions\"].length; i++) {\n      let treeEntry = wholeData[\"solutions\"][i][\"tree\"]\n      let labelingEntry = wholeData[\"solutions\"][i][\"labeling\"]\n      let migrationEntry = wholeData[\"solutions\"][i][\"migration\"]\n\n      let rootLocation = fetchRootLocation(treeEntry, labelingEntry);\n\n      let foundDeletedEdge = false;\n\n      // We'll accept a root if we aren't requiring an edge or it is within our required list\n      let foundRequiredRoot = requiredRoots.length === 0 || requiredRoots.includes(rootLocation);\n\n      // We'll blacklist a root if there even is a blacklist and it contains the root\n      let foundDeletedRoot  = deletedRoots.length !== 0 && deletedRoots.includes(rootLocation);\n\n      // let foundRequiredEdge = false;\n      let requiredEdgeCounter = 0;\n      \n      for (let j = 0; j < migrationEntry.length; j++) {\n        // check deleteEdges:\n        let migrationEdgeString = migrationEntry[j][0] \n          + \"->\" \n          + wholeData[\"solutions\"][i][\"migration\"][j][1];\n        for (let k = 0; k < deletedEdges.length; k++) {\n          // create string from wholeData:\n          if (migrationEdgeString === deletedEdges[k]) {\n            foundDeletedEdge = true;\n          }\n        }\n\n        for (let k = 0; k < requiredEdges.length; k++) {\n          if (migrationEdgeString === requiredEdges[k]) {\n            requiredEdgeCounter++;\n          }\n        }\n      }\n\n      if (!foundDeletedRoot && foundRequiredRoot && !foundDeletedEdge && (requiredEdgeCounter === requiredEdges.length)) {\n        const tempSolution = JSON.parse(JSON.stringify(wholeData[\"solutions\"][i]))\n        tempUsedData[\"solutions\"].push(tempSolution);\n      }\n    }\n\n    // check how to add summary in:\n    for (let i = 0; i < tempUsedData[\"solutions\"].length; i++) {\n      for (let j = 0; j < tempUsedData[\"solutions\"][i][\"migration\"].length; j++) {\n        let edgeInSummary = false;\n        // add edge to summary:\n        for (let k = 0; k < tempUsedData[\"summary\"][\"migration\"].length; k++) {\n          // check if edge matches any of the summary edges:\n          if (tempUsedData[\"summary\"][\"migration\"][k][0] === tempUsedData[\"solutions\"][i][\"migration\"][j][0]\n            && tempUsedData[\"summary\"][\"migration\"][k][1] === tempUsedData[\"solutions\"][i][\"migration\"][j][1]) {\n            edgeInSummary = true;\n            tempUsedData[\"summary\"][\"migration\"][k][2] += 1;\n          }\n        }\n        if (!edgeInSummary) {\n          let tempSummaryElement = [...tempUsedData[\"solutions\"][i][\"migration\"][j].slice(0, -1), 1];\n          tempUsedData[\"summary\"][\"migration\"].push(tempSummaryElement);\n        }\n      }\n    }\n\n    if (tempUsedData[\"summary\"][\"migration\"].length === 0){\n      // TODO: Ensure that the filter stack is updated before we reach this point in the code\n      // check the filter stack to revert everything back to normal:\n      const last_edit = filterStack[filterStack.length - 1];\n      setFilterStack(filterStack.slice(0, -1));\n      if (last_edit.slice(0, 12) === 'deleted edge') {\n        //console.log(\"the last command was a delete edge command\");\n        setDeletedEdges(deletedEdges.slice(0, -1));\n      } else if (last_edit.slice(0, 12) === 'deleted root') {\n        //console.log(\"the last command was a delete root command\");\n        setDeletedEdges(deletedRoots.slice(0, -1));\n      } else if (last_edit.slice(0, 13)  === 'required root') {\n        //console.log(\"the last command was a require root command\");\n        setDeletedEdges(requiredRoots.slice(0, -1));\n      } else {\n        //console.log(\"the last command was a require edge command\");\n        setRequiredEdges(requiredEdges.slice(0, -1));\n      }\n\n      toggleNoSolutionsPopup();\n      return -1;\n    }\n\n    if(wholeData[\"coloring\"]) {\n      tempUsedData[\"coloring\"] = JSON.parse(JSON.stringify(wholeData[\"coloring\"]));\n    }\n\n    setUsedData(tempUsedData);\n    setRoots(fetchRoots(tempUsedData));\n\n    let tempNames = tempUsedData[\"solutions\"].map((value, index) => { return value[\"name\"] })\n\n    if (multiSoln) {\n      let tempNames1 = tempNames.filter((value, index) => { return inputData['solution_names'].includes(value) });\n      let tempNames2 = tempNames.filter((value, index) => { return inputData2['solution_names'].includes(value) });\n\n      if (!tempNames1.includes(data[\"name\"])) {\n        setData(tempUsedData['solutions'].filter((item) => { return item['name'] === tempNames1[0] })[0])\n      }\n  \n      if (multiSoln && data2 !== undefined && !tempNames2.includes(data2['name'])) {\n        setData2(tempUsedData['solutions'].filter((item) => { return item['name'] === tempNames2[0]})[0])\n      }\n    } else {\n      if (!tempNames.includes(data[\"name\"])) {\n        setData(tempUsedData[\"solutions\"].filter((item) => { return item[\"name\"] === tempNames[0] })[0])\n      }\n\n      if (data2 !== undefined && !tempNames.includes(data2[\"name\"])) {\n        setData2(tempUsedData[\"solutions\"].filter((item) => { return item[\"name\"] === tempNames[0] })[0])\n      }\n    }\n    return 0;\n  }\n\n  const multiSoln = Array.isArray(usedData['original'])\n\n  const [labelNames, setLabelNames] = useState(usedData[\"solutions\"].map((value, index) => { return value[\"name\"] }));\n  const [inputNames, setInputNames] = useState(multiSoln ? usedData[\"original\"].map((value, index) => { return value[\"name\"] }) : []);\n\n  const queryParameters = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n\n  let labelName = queryParameters.get(\"labeling\");\n  let labelName2 = queryParameters.get(\"labeling2\");\n\n  const [labeling, setLabeling] = useState(labelName)\n  const [labeling2, setLabeling2] = useState(labelName2)\n\n  const [rotate, setRotate] = useState(queryParameters.get(\"rotated\") === \"true\");\n  const [rotate2, setRotate2] = useState(queryParameters.get(\"rotated2\") === \"true\");\n\n  const [type, setType] = useState(queryParameters.get(\"type\"))\n\n  if (labelName === \"undefined\") {\n    insertParam(\"labeling\", usedData[\"solutions\"][0][\"name\"]);\n    setLabeling(usedData[\"solutions\"][0][\"name\"])\n  }\n  if (labelName2 === \"undefined\") {\n    insertParam(\"labeling2\", usedData[\"solutions\"][0][\"name\"]);\n    setLabeling2(usedData[\"solutions\"][0][\"name\"])\n  }\n\n  sessionStorage.setItem(\"selected\", JSON.stringify(new DefaultDict(0)));\n  sessionStorage.setItem(\"violations\", JSON.stringify(new DefaultDict(0)));\n\n  const [data, setData] = useState(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === labeling })[0]);\n  const [data2, setData2] = useState(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === labeling2 })[0]);\n  const [tree, setTree] = useState(data[\"tree\"])\n  const [tree_labeling, setTreeLabeling] = useState(data[\"labeling\"])\n  const [migration, setMigration] = useState(data[\"migration\"])\n  const [tree2, setTree2] = useState([])\n  const [tree_labeling2, setTreeLabeling2] = useState([])\n  const [migration2, setMigration2] = useState([])\n  const [clonalMap, setClonalMap] = useState([])\n  const [clonalMap2, setClonalMap2] = useState([])\n  const [inputTree, setInputTree] = useState(multiSoln ? jsonDict[\"original\"][0][\"name\"] : \"\")\n  const [inputTree2, setInputTree2] = useState(multiSoln ? jsonDict[\"original\"][0][\"name\"] : \"\")\n  const [inputData, setInputData] = useState(multiSoln ? jsonDict[\"original\"][0] : \"\")\n  const [inputData2, setInputData2] = useState(multiSoln ? jsonDict[\"original\"][0] : \"\")\n\n  // Flag if the original tree exists in the data, \n  // and fetch the data if it exists\n  var origExists = true;\n  var originalTree;\n  var originalLabeling\n  try {\n    originalTree = usedData['original']['tree'];\n    originalLabeling = usedData['original']['labeling'];\n  } catch {\n    origExists = false;\n  }\n\n  // let coloring = usedData[\"coloring\"];\n  const [coloring, setColoring] = useState(usedData[\"coloring\"]);\n\n  const colorPalette = [\n    \"#a6cee3\",\n    \"#1f78b4\",\n    \"#b2df8a\",\n    \"#33a02c\",\n    \"#fb9a99\",\n    \"#e31a1c\",\n    \"#fdbf6f\",\n    \"#ff7f00\",\n    \"#cab2d6\",\n    \"#6a3d9a\",\n    \"#ffff99\",\n    \"#b15928\"\n  ]\n\n  if (coloring === undefined || coloring.length === 0) {\n\n    // Extract labels from the data\n    const labels = data[\"labeling\"].map((item) => item[1]);\n\n    // Get unique labels\n    const uniqueLabels = labels.filter((value, index, self) => {\n      return self.indexOf(value) === index;\n    });\n\n    // Map each unique label to a new format: [label, indexAsString]\n    const formattedLabels = uniqueLabels.map((label, index) => [label, `${colorPalette[index % colorPalette.length]}`]);\n\n    //console.log(formattedLabels);\n\n    // Result\n    setColoring(formattedLabels);\n    // coloring = formattedLabels;\n  }\n\n  let coloringDict = {};\n\n  useEffect(() => {\n    for (var i = 0; i < coloring.length; i++) {\n      coloringDict[coloring[i][0]] = coloring[i][1];\n    }\n  }, [coloring])\n\n  useEffect(() => {\n    updateUsedData();\n    setTree(data[\"tree\"]);\n    setTreeLabeling(data[\"labeling\"]);\n    setMigration(data[\"migration\"]);\n    setMu(sessionStorage.getItem(\"mu\"));\n    setGamma(sessionStorage.getItem(\"gamma\"));\n\n    if (data[\"origin_node\"] !== undefined) {\n      setClonalMap(data[\"origin_node\"])\n    }\n  }, [labeling])\n\n  useEffect(() => {\n    setLabelNames(usedData[\"solutions\"].map((value, index) => { return value[\"name\"] }))\n\n    if (multiSoln) {\n      let solutionNames = usedData[\"solutions\"].map((value, index) => { return value[\"name\"] });\n\n      let temps = usedData[\"original\"].filter((value, index) => {\n        return value['solution_names'].some(item => solutionNames.includes(item))\n      }).map((value, index) => { return value[\"name\"] })\n\n      setInputNames(temps);\n    }\n  }, [usedData])\n\n  useEffect(() => {\n    if (!labelNames.includes(labeling)) {\n      insertParam(\"labeling\", labelNames[0])\n      setLabeling(labelNames[0])\n    }\n\n    if (!labelNames.includes(labeling2)) {\n      insertParam(\"labeling2\", labelNames[0])\n      setLabeling2(labelNames[0])\n    }\n  }, [labelNames])\n\n  let coord_map = usedData[\"map\"];\n\n  let handleLabelChange = (event) => {\n    insertParam(\"labeling\", event.target.value);\n    setLabeling(event.target.value)\n    setData(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === event.target.value })[0]);\n  }\n\n  let handleLabelChange2 = (event) => {\n    insertParam(\"labeling2\", event.target.value);\n    setLabeling2(event.target.value)\n    setData2(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === event.target.value })[0]);\n  }\n\n  let handleInputChange = (event) => {\n    insertParam(\"input\", event.target.value);\n    setInputTree(event.target.value);\n\n    usedData['original'].forEach((elem) => {\n      if (elem['name'] === event.target.value) {\n        let targetLabel = elem['solution_names'].filter((e) => labelNames.includes(e))[0]\n\n        setInputData(elem);\n        setLabeling(targetLabel);\n        setData(usedData['solutions'].filter((item) => {return item[\"name\"] === targetLabel})[0]);\n      }\n    })\n  }\n\n  let handleInputChange2 = (event) => {\n    insertParam(\"input2\", event.target.value);\n    setInputTree2(event.target.value);\n\n    usedData['original'].forEach((elem) => {\n      if (elem['name'] === event.target.value) {\n        let targetLabel = elem['solution_names'].filter((e) => labelNames.includes(e))[0]\n\n        setInputData2(elem);\n        setLabeling2(targetLabel);\n        setData2(usedData['solutions'].filter((item) => {return item[\"name\"] === targetLabel})[0]);\n      }\n    })\n  }\n\n  let addTab = (event) => {\n    if (type === 'sumviz') {\n      insertParam(\"type\", \"triviz\")\n      setType('triviz')\n    } else {\n      insertParam(\"type\", \"dualviz\")\n      setType('dualviz')\n    }\n    insertParam(\"labeling2\", labeling)\n    setLabeling2(labeling)\n    setData2(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === labeling })[0]);\n    setMu2(sessionStorage.getItem(\"mu2\"));\n    setGamma2(sessionStorage.getItem(\"gamma2\"));\n  }\n\n  let closeTab = (tabIndex) => {\n    if (type === 'dualviz' || type === 'triviz') {\n      setType(type === 'dualviz' ? 'viz' : 'sumviz')\n      if (tabIndex === 1) {\n        setData(data2)\n        setLabeling(labeling2)\n        setRotate(rotate2)\n        setTree(data2[\"tree\"])\n        setTreeLabeling(data2[\"labeling\"])\n        setMigration(data2[\"migration\"])\n        setInputData(inputData2)\n        setInputTree(inputTree2)\n\n        if (data2[\"origin_node\"] !== undefined) {\n          setClonalMap(data[\"origin_node\"])\n        }\n      }\n      insertParam('type', 'viz')\n    } else {\n      window.location = `${window.location.protocol}//${window.location.host}/mach2-viz/#/`\n    }\n  }\n\n  useEffect(() => {\n    if (data2) {\n      setTree2(data2[\"tree\"])\n      setTreeLabeling2(data2[\"labeling\"])\n      setMigration2(data2[\"migration\"])\n\n      if (data2[\"origin_node\"] !== undefined) {\n        setClonalMap2(data[\"origin_node\"])\n      }\n    }\n  }, [data2])\n\n  useEffect(() => {\n    setMu2(sessionStorage.getItem(\"mu2\"));\n    setGamma2(sessionStorage.getItem(\"gamma2\"));\n  }, [tree2])\n\n  // refresh when type is changed\n  useEffect(() => {\n    setRefreshCounter(prevCounter => prevCounter + 1);\n  }, [type]);\n\n  let gotoSummary = (event) => {\n    if (type === 'dualviz') {\n      setType('triviz');\n      insertParam('type', 'triviz')\n    } else {\n      setType('sumviz');\n      insertParam('type', 'sumviz')\n    }\n  }\n\n  let rotateFn = (event) => {\n    let rotated = queryParameters.get(\"rotated\") === \"true\";\n    insertParam(\"rotated\", !rotated);\n    setRotate(!rotated)\n  }\n\n  let rotateFn2 = (event) => {\n    let rotated2 = queryParameters.get(\"rotated2\") === \"true\";\n    insertParam(\"rotated2\", !rotated2);\n    setRotate2(!rotated2)\n  }\n\n  let resetFn = (index) => {\n    evtBus.fireEvent('resetMigration', { index })\n  }\n\n  let resetClonal = (index) => {\n    evtBus.fireEvent('resetClonal', {index})\n  }\n\n  useEffect(() => {\n    setMu(sessionStorage.getItem(\"mu\"));\n    setGamma(sessionStorage.getItem(\"gamma\"));\n    setMu2(sessionStorage.getItem(\"mu2\"));\n    setGamma2(sessionStorage.getItem(\"gamma2\"));\n    setMuSum(sessionStorage.getItem(\"musum\"));\n    setGammaSum(sessionStorage.getItem(\"gammasum\"));\n    updateUsedData()\n\n    document.addEventListener(\"keydown\", handleKeyPress);\n\n    let loadingOverlay = document.getElementById('overlay');\n\n    if (loadingOverlay) {\n      loadingOverlay.parentElement.removeChild(loadingOverlay);\n    }\n  }, []);\n\n  // NOTE: This is a state because undos need to thicken and unthicken the edge\n  // Setting a state will allow the object to change on runtime (adding listeners and firing events)\n  // eslint-disable-next-line no-unused-vars\n  const [evtBus, _] = useState({\n    listeners: [],\n    addListener(callback) {\n      this.listeners.push(callback);\n    },\n    removeListener(callback) {\n      this.listeners = this.listeners.filter(listener => listener !== callback);\n    },\n    fireEvent(eventName, eventData) {\n      this.listeners.forEach((listener) => {\n        listener(eventName, eventData);\n      });\n    },\n  });\n\n  // Popups\n  const [isHelpPopupOpen, setIsHelpPopupOpen] = useState(false);\n  const [isNoSolutionsPopupOpen, setIsNoSolutionsPopupOpen] = useState(false);\n\n  function toggleNoSolutionsPopup() {\n    setIsNoSolutionsPopupOpen(!isNoSolutionsPopupOpen);\n  }\n\n  function toggleHelpPopup() {\n    setIsHelpPopupOpen(!isHelpPopupOpen);\n  }\n\n  /** TODO: Replace this with an actual window rather than just an alert message\n   * \n   * @param {*} event Event metadata\n   */\n  function handleKeyPress(event) {\n    if (event.key === '/') {\n      // alert('Instructions:\\n\\nToggle and move around the migration graph and clonal tree. Hover over nodes in the clonal tree to find the corresponding anatomical location for the node.\\n\\nSelect different solutions from the dropdown on the top left of the panel.\\n\\nTo compare with another solution, click the [+] on the right. To view the solution space summary, click the [+] on the left.\\n\\nYou can return home by clicking the [X].');\n      //console.log(\"/ key pressed!\")\n      toggleHelpPopup();\n    }\n  }\n\n  // console.log(filterStack)\n  // keeping track of edges that are not used\n  // update unusedEdges whenever\n\n  return (\n    <div className=\"viz\">\n      <HelpPopup isPopupOpen={isHelpPopupOpen} togglePopup={toggleHelpPopup}></HelpPopup>\n      <NoSolutionsPopup isPopupOpen={isNoSolutionsPopupOpen} togglePopup={toggleNoSolutionsPopup}></NoSolutionsPopup>\n      {type !== 'sumviz' && type !== 'triviz' ?\n        <div className=\"panel tab_add2\" onClick={gotoSummary}><p className='addpanelp'><b>+</b></p></div>\n        : <></>}\n      {(type === 'sumviz' || type === 'triviz') ?\n        <SummaryPanel\n          key={refreshCounter}\n          type={type}\n          setType={setType}\n          insertParam={insertParam}\n          usedData={usedData}\n          coloring={coloring}\n          muSum={muSum}\n          gammaSum={gammaSum}\n          evtBus={evtBus}\n          onDeleteSummaryEdge={onDeleteSummaryEdge}\n          onRequireSummaryEdge={onRequireSummaryEdge}\n          clearData={clearData}\n          roots={roots}\n          deletedEdges={deletedEdges}\n          requiredEdges={requiredEdges}\n          deletedRoots={deletedRoots}\n          requiredRoots={requiredRoots}\n          setDeletedEdges={setDeletedEdges}\n          setRequiredEdges={setRequiredEdges}\n          setDeletedRoots={setDeletedRoots}\n          setRequiredRoots={setRequiredRoots}\n          filterStack={filterStack}\n          setFilterStack={setFilterStack}\n        /> : <></>}\n      <div className={`panel info ${type === 'dualviz' ? 'one' :\n        type === 'sumviz' ? 'one two' :\n          type === 'triviz' ? 'tri two' :\n            ''\n        }`}>\n        <div className=\"titlewrapper\">\n          { multiSoln ?\n            <label className=\"titleelem left\" htmlFor=\"inputs\">\n              <p><b>{multiSoln && type === 'triviz' ? '' : 'Input Tree: '}\n                <select\n                  name=\"inputs\"\n                  id=\"inputs\"\n                  onChange={handleInputChange}\n                  value={inputTree}\n                >\n                  {inputNames.map(l => <option key={l} value={l}>{l}</option>)}\n                </select>\n              </b></p>\n            </label> : <></>\n          }\n          <label className=\"titleelem end\" htmlFor=\"labelings\">\n            <p><b>{multiSoln && type === 'triviz' ? '' : 'Full Labeling: '}\n              <select \n                name=\"labelings\" \n                id=\"labelings\" \n                onChange={handleLabelChange} \n                value={labeling}  // Set the value prop here\n              >\n                {labelNames.filter(l => multiSoln ? inputData['solution_names'].includes(l) : true).map(l => <option key={l} value={l}>{l}</option>)}\n              </select>\n            </b></p>\n          </label>\n          {/* <h3 className=\"viztitle\"><b>{data[\"name\"]}</b></h3> */}\n          {(type !== 'dualviz' && type !== 'triviz' && type !== 'sumviz') ?\n            <p className=\"titleelem end\"><b>Press [/] for help &nbsp;&nbsp;</b></p> :\n            <></>}\n          {type !== 'sumviz' ?\n            <span onClick={closeTab.bind(null, 1)} style={{ textDecoration: 'none', color: 'black'}}><p className='panelclosebutton'><b>[X]</b></p></span>\n            : <></>}\n        </div>\n        <div className={coord_map === undefined ? \"leftcolumn nolegend\" : \"leftcolumn\"}>\n          <div className={`panel migration top ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n            <p className=\"paneltitle\"><b>Migration Graph</b></p>\n            <p className=\"paneltitle mu\">{`\\u03BC: ${mu}`}</p>\n            <p className=\"paneltitle gamma\">{`\\u03B3: ${gamma}`}</p>\n            <button type=\"button\" className=\"paneltitle button\" onClick={rotateFn}>Rotate</button>\n            <button type=\"button\" className=\"paneltitle button under\" onClick={() => resetFn(1)}>Reset</button>\n            <Migration \n              key={refreshCounter} \n              tree={tree} \n              labeling={tree_labeling} \n              coloring={coloring} \n              migration={migration} \n              evtbus={evtBus} \n              rotated={rotate}/>\n          </div>\n          <div className={`panel migration ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n          <p className=\"paneltitle\">\n              {origExists ? (\n                // If origExists is true, render both Clonal Tree and View Input Tree links\n                <>\n                  <button\n                    style={{ fontWeight: !clonalL ? 'bold' : 'normal' }}\n                    onClick={onToggleOutputClonalL}\n                  >\n                    Clonal Tree\n                  </button>{\" \"}\n                  |{\" \"}\n                  <button\n                    style={{ fontWeight: clonalL ? 'bold' : 'normal' }}\n                    onClick={onToggleInputClonalL}\n                  >\n                    Input Tree\n                  </button>\n                </>\n              ) : (\n                // If origExists is false, render only Clonal Tree (fallback to <b> element)\n                <b>Clonal Tree</b>\n              )}\n            </p>\n            <button type=\"button\" className=\"paneltitle button clonal\" onClick={() => resetClonal(1)}>Reset</button>\n            <ClonalTree \n              key={refreshCounter} \n              tree={!clonalL ? tree : multiSoln ? inputData['tree'] : originalTree} \n              labeling={!clonalL ? tree_labeling : multiSoln ? inputData['labeling'] : originalLabeling} \n              coloring={coloring} \n              evtbus={evtBus} \n              rightcol={type === 'sumviz' || type === 'triviz'} \n              index={1}\n              clonalMap={clonalMap}\n              clonal={clonalL}/>\n          </div>\n        </div>\n      </div>\n      {(type === 'dualviz' || type === 'triviz') ?\n        <div className={`panel info ${type === 'dualviz' ? 'one two' : 'tri three'}`}>\n          <div className=\"titlewrapper\">\n            { multiSoln ?\n              <label className=\"titleelem left\" htmlFor=\"inputs\">\n                <p><b>{multiSoln && type === 'triviz' ? '' : 'Input Tree: '}\n                  <select\n                    name=\"inputs\"\n                    id=\"inputs\"\n                    onChange={handleInputChange2}\n                    value={inputTree2}\n                  >\n                    {inputNames.map(l => <option key={l} value={l}>{l}</option>)}\n                  </select>\n                </b></p>\n              </label> : <></>\n            }\n            <label className=\"titleelem left\" htmlFor=\"labelings\">\n              <p><b>{multiSoln && type === 'triviz' ? '' : 'Full Labeling: '}\n                <select \n                  name=\"labelings\" \n                  id=\"labelings\" \n                  onChange={handleLabelChange2}\n                  value={labeling2}  // Set the value prop here\n                >\n                  {labelNames.filter(l => multiSoln ? inputData2['solution_names'].includes(l) : true).map(l => <option key={l} value={l}>{l}</option>)}\n                </select>\n              </b></p>\n            </label>\n            {/* <h3 className=\"viztitle\"><b>{data2[\"name\"]}</b></h3> */}\n            <span onClick={closeTab.bind(null, 2)} style={{ textDecoration: 'none', color: 'black' }}><p className='panelclosebutton'><b>[X]</b></p></span>\n          </div>\n          <div className={coord_map === undefined ? \"leftcolumn nolegend\" : \"leftcolumn\"}>\n            <div className={`panel migration top ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n              <p className=\"paneltitle\"><b>Migration Graph</b></p>\n              <p className=\"paneltitle mu\">{`\\u03BC: ${mu2}`}</p>\n              <p className=\"paneltitle gamma\">{`\\u03B3: ${gamma2}`}</p>\n              <button type=\"button\" className=\"paneltitle button\" onClick={rotateFn2}>Rotate</button>\n              <button type=\"button\" className=\"paneltitle button under\" onClick={() => resetFn(2)}>Reset</button>\n              <Migration \n                key={refreshCounter} \n                tree={tree2} \n                labeling={tree_labeling2} \n                coloring={coloring} \n                migration={migration2} \n                evtbus={evtBus} \n                rightcol={true} \n                rotated={rotate2}/>\n            </div>\n            <div className={`panel migration ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n              <p className=\"paneltitle\">{origExists ? (\n                // If origExists is true, render both Clonal Tree and View Input Tree links\n                <>\n                  <button\n                    style={{ fontWeight: !clonalR ? 'bold' : 'normal' }}\n                    onClick={onToggleOutputClonalR}\n                  >\n                    Clonal Tree\n                  </button>{\" \"}\n                  |{\" \"}\n                  <button\n                    style={{ fontWeight: clonalR ? 'bold' : 'normal' }}\n                    onClick={onToggleInputClonalR}\n                  >\n                    Input Tree\n                  </button>\n                </>\n              ) : (\n                // If origExists is false, render only Clonal Tree (fallback to <b> element)\n                <b>Clonal Tree</b>\n              )}</p>\n              <button type=\"button\" className=\"paneltitle button clonal\" onClick={() => resetClonal(2)}>Reset</button>\n              <ClonalTree \n                key={refreshCounter} \n                tree={!clonalR ? tree2 : multiSoln ? inputData2['tree'] : originalTree} \n                labeling={!clonalR ? tree_labeling2 : multiSoln ? inputData2['labeling'] : originalLabeling} \n                coloring={coloring} \n                evtbus={evtBus} \n                rightcol={true} \n                index={2}\n                clonalMap={clonalMap2}\n                clonal={clonalR}/>\n            </div>\n          </div>\n        </div> :\n        <></>}\n      {type !== 'dualviz' && type !== 'triviz' ?\n        <div className=\"panel tab_add\" onClick={addTab}><p className='addpanelp'><b>+</b></p></div>\n        : <></>\n      }\n    </div>\n  )\n}\n\nexport default Viz;","import React from 'react';\nimport {\n    Link\n  } from \"react-router-dom\";\n\nimport URLs from \"../utils/default_url.json\";\nimport download from \"../assets/download.png\";\n\nimport axios from 'axios'\nimport fileDownload from 'js-file-download'\n\nimport DefaultDict from \"../utils/DefaultDict.js\";\n\nimport { compressUrlSafe } from '../utils/lzma-url.js';\n\n// Import the patient sample datasets\nimport A1 from \"../samples/A1/A1.json\";\nimport A7 from \"../samples/A7/A7.json\";\nimport A10 from \"../samples/A10/A10.json\";\nimport A22 from \"../samples/A22/A22.json\";\nimport A29 from \"../samples/A29/A29.json\";\nimport A31 from \"../samples/A31/A31.json\";\nimport A32 from \"../samples/A32/A32.json\";\nimport patient1_LOv from \"../samples/patient1_LOv/patient1_LOv.json\";\nimport patient1_ROv from \"../samples/patient1_ROv/patient1_ROv.json\";\nimport patient2 from \"../samples/patient2/patient2.json\";\nimport patient3_LOv from \"../samples/patient3_LOv/patient3_LOv.json\";\nimport patient3_ROv from \"../samples/patient3_ROv/patient3_ROv.json\";\nimport patient4_LOv from \"../samples/patient4_LOv/patient4_LOv.json\";\nimport patient4_ROv from \"../samples/patient4_ROv/patient4_ROv.json\";\nimport patient7_LOv from \"../samples/patient7_LOv/patient7_LOv.json\";\nimport patient7_ROv from \"../samples/patient7_ROv/patient7_ROv.json\";\nimport patient9_LOv from \"../samples/patient9_LOv/patient9_LOv.json\";\nimport patient9_ROv from \"../samples/patient9_ROv/patient9_ROv.json\";\nimport patient10 from \"../samples/patient10/patient10.json\";\nimport tracerx from \"../samples/tracerx/tracerx.json\";\n\n/** The home page for the visualizer\n * \n * @returns JSX/HTML\n */\nfunction Home() {\n    /** Download the json dataset when the icon is clicked\n     * \n     * @param {*} url (string) The url to download from \n     * @param {*} filename (string) The filename to alias as\n     */\n    let handleDownload = (url, filename) => {\n      axios.get(url, {\n        responseType: 'blob',\n      })\n      .then((res) => {\n        fileDownload(res.data, filename)\n      })\n    }\n\n    // Dictionary mapping dataset name to json object\n    var json_dict = {\n      \"A1\": A1,\n      \"A7\": A7,\n      \"A10\": A10,\n      \"A22\": A22,\n      \"A29\": A29,\n      \"A31\": A31,\n      \"A32\": A32,\n      \"patient1_LOv\": patient1_LOv,\n      \"patient1_ROv\": patient1_ROv,\n      \"patient2\": patient2,\n      \"patient3_LOv\": patient3_LOv,\n      \"patient3_ROv\": patient3_ROv,\n      \"patient4_LOv\": patient4_LOv,\n      \"patient4_ROv\": patient4_ROv,\n      \"patient7_LOv\": patient7_LOv,\n      \"patient7_ROv\": patient7_ROv,\n      \"patient9_LOv\": patient9_LOv,\n      \"patient9_ROv\": patient9_ROv,\n      \"patient10\": patient10,\n      \"tracerx\": tracerx,\n    }\n\n    // Table values\n    var default_patients = [\"A1\", \"A7\", \"A10\", \"A22\", \"A29\", \"A31\", \"A32\", \"patient1_LOv\", \"patient1_ROv\", \"patient2\", \"patient3_LOv\", \"patient3_ROv\", \"patient4_LOv\", \"patient4_ROv\", \"patient7_LOv\", \"patient7_ROv\", \"patient9_LOv\", \"patient9_ROv\", \"patient10\", \"tracerx\"]\n    var default_dirs = [\"hoadley_2016\", \"hoadley_2016\", \"gundem_2015\", \"gundem_2015\", \"gundem_2015\", \"gundem_2015\", \"gundem_2015\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"tracerx\"]\n    var div_elements = []\n    var which_color = true;\n    const color1 = \"#EBEBEB\";\n    const color2 = \"#A3A3A3\";\n\n    // TODO: Perhaps remove this since we're using a different filtration scheme\n    sessionStorage.setItem(\"selected\", JSON.stringify(new DefaultDict(0)));\n    sessionStorage.setItem(\"violations\", JSON.stringify(new DefaultDict(0)));\n    \n    // Construct div elements representing the table entries\n    for (let i = 0; i < default_patients.length; i++) {\n        var current_patient = default_patients[i];\n        var current_directory = default_dirs[i];\n        var current_color = (which_color ? color1 : color2)\n\n        var link = URLs[current_patient];\n\n        div_elements.push(\n          // eslint-disable-next-line no-loop-func\n          <Link className=\"patient-link\" onClick={() => {\n            // Create overlay div\n            const overlay = document.createElement('div');\n            overlay.id = 'overlay';\n\n            // Create loading container div\n            const loadingContainer = document.createElement('div');\n            loadingContainer.id = 'loading-container';\n\n            // Create h1 element\n            const loadingHeader = document.createElement('h1');\n            loadingHeader.textContent = 'Loading...';\n\n            // Append elements\n            loadingContainer.appendChild(loadingHeader);\n            overlay.appendChild(loadingContainer);\n            document.body.appendChild(overlay);\n\n            // Add a small delay (e.g., 100ms) before the sessionStorage operation\n            setTimeout(() => {\n              sessionStorage.setItem(\"json_data\", compressUrlSafe(JSON.stringify(json_dict[default_patients[i]])));\n              window.location.href = `#/${link}`\n            }, 100);\n          }}>\n            <div className=\"patient-container\">\n              <div className=\"patientitem\" style={{ backgroundColor: current_color }}>\n                  <p><b>{current_directory}</b></p>\n              </div>\n              <div className=\"patientitem2\" style={{ backgroundColor: current_color}}>\n                  <p className='leftli'><b>{current_patient}</b></p>\n                <img \n                  className='rightli' \n                  src={download}\n                  alt=\"download\"\n                  onClick={() => handleDownload(`https://raw.githubusercontent.com/vikramr2/machina-viz/main/src/samples/${default_patients[i]}/${default_patients[i]}.json`, `${default_patients[i]}.json`)}\n                >\n                </img>\n              </div>\n            </div>\n          </Link>\n\n        )\n        which_color = !which_color;\n    }\n\n    /** TODO: Maybe change the name of this funciton?\n     * But this handles the file upload\n     * \n     * @param {*} e (obj) Event metadata\n     */\n    let handleChange = (e) => {\n      // Create overlay div\n      const overlay = document.createElement('div');\n      overlay.id = 'overlay';\n\n      // Create loading container div\n      const loadingContainer = document.createElement('div');\n      loadingContainer.id = 'loading-container';\n\n      // Create h1 element\n      const loadingHeader = document.createElement('h1');\n      loadingHeader.textContent = 'Loading...';\n\n      // Append elements\n      loadingContainer.appendChild(loadingHeader);\n      overlay.appendChild(loadingContainer);\n      document.body.appendChild(overlay);\n\n      setTimeout(() => {\n        // Get the filename from the metadata\n        const reader = new FileReader();\n        const file = e.target.files[0];\n        let json_contents;\n    \n        reader.onload = function(readerEvt) {\n          // Load the json data from the file\n          let jsonString = readerEvt.target.result;\n          json_contents = jsonString;\n          const data = JSON.parse(json_contents);\n\n          // Fetch the first label to default to on viz\n          let labelnames = data[\"solutions\"].map((value, index) => {return value[\"name\"]});\n\n          // Store the data in session storage so that the viz route can pull the data\n          sessionStorage.setItem(\"json_data\", compressUrlSafe(json_contents));\n    \n          // Update the window location to the viz route\n          window.location = window.location + `viz?labeling=${labelnames[0]}`;\n        }\n        // Read the file as a text\n        reader.readAsText(file);\n      }, 100)\n      \n    }\n\n    return (\n        <div className='home'>\n            <div className='panel home-panel'>\n                <div className='home-column-1'>\n                  <h1><b>Welcome to MACH2!</b></h1>\n                  {/* <div className=\"aboutdir\"><Link to=\"about\" style={{ textDecoration: 'none', color: 'black'}}><h4 className='abouttext'>About</h4></Link></div> */}\n                  <div className=\"about-text\">\n                    <p><b>A lightweight visualizer for MACH2, <a href=\"https://www.nature.com/articles/s41588-018-0106-z\">MACHINA's</a> sequel.</b> Use this visualizer to examine a solution space for the parsimonious migration history problem and its respective summary for a given patient. Examples are provided below. You can also upload a JSON file to view a custom input. See the Instructions page for how to use this website:</p> \n                  </div>\n                  \n                    <Link to=\"about\" style={{ textDecoration: 'none', color: 'black'}}>\n                      <button className=\"about-button\">Instructions</button>\n                    </Link>\n\n                </div>\n\n                {/* <div className=\"line\"></div> */}\n\n                <div className=\"home-column-2\">\n                  <div className='patient-list-title-container'>\n                    <h3>Examples</h3>\n                    <div className=\"patient-container\">\n                        <div className=\"patientitem\" style={{ backgroundColor: \"#717171\" }}>\n                            <p className='datasettitle' style={{color: \"black\"}}><b>Dataset</b></p>\n                        </div>\n                        <div className=\"patientitem\" style={{ backgroundColor: \"#717171\" }}>\n                          <Link to={link} style={{ textDecoration: 'none', color: 'black'}}>\n                            <p className='datasettitle' style={{color: \"black\"}}><b>Patient</b></p>\n                          </Link>\n                        </div>\n                      </div>\n                  </div>\n                  <div className=\"patient-list-container\">\n\n                    {/* { \n                      div_elements.map(elem => (\n                        elem\n                      ))\n                    } */}\n\n                    { \n                      div_elements.map((elem, index) => (\n                        <React.Fragment key={index}>\n                          {elem}\n                        </React.Fragment>\n                      ))\n                    }\n                  </div>\n                </div>\n\n            </div>\n            <div>\n              <input \n                type=\"file\"\n                id=\"json_upload\" \n                name=\"json_upload\"\n                accept=\"application/JSON\"\n                onChange={handleChange}/>\n              <label htmlFor=\"json_upload\">\n                <div id=\"addnew\" className=\"dot\">\n                  <h1 className=\"plus\">+</h1>\n                  <span className=\"tooltiptext\"><b>Upload Patient JSON</b></span>\n                </div>\n                {/* <div id=\"addnew\">\n                  <img  src={upload_icon}></img>\n                  <span class=\"tooltiptext\"><b>Upload Patient JSON</b></span>\n                </div> */}\n              </label>\n            </div>\n        </div>\n    );\n}\n\nexport default Home;","import React from \"react\"\nimport './App.css';\n\nimport About from './components/About.js'\nimport Viz from './components/Viz.js'\nimport Home from './components/Home.js'\n\nimport {\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport { createBrowserHistory } from 'history';\n\n\nfunction App() {\n  createBrowserHistory({\n    basename: '/mach2-viz/#' // Replace with your repository name\n  });\n\n  return (\n    <div className=\"App\">\n        <Switch>\n          <Route path=\"/about\">\n            <About/>\n          </Route>\n          <Route path=\"/viz\">\n            <Viz/>\n          </Route>\n          <Route path=\"/mach2-viz/about\">\n            <About/>\n          </Route>\n          <Route path=\"/mach2-viz/viz\">\n            <Viz/>\n          </Route>\n          <Route path=\"/mach2-viz\">\n            <Home/>\n          </Route>\n          <Route exact path=\"/\">\n            <Home/>\n          </Route>\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { HashRouter as Router } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Router basename=\"/mach2-viz\">\n      <App />\n    </Router>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}