{"version":3,"sources":["assets/sample_page.png","assets/download.png","components/About.js","components/ClonalTree.js","components/Migration.js","utils/DefaultDict.js","utils/base64.js","utils/lzma-url.js","components/SummaryGraph.js","components/SummaryPanel.js","components/HelpPopup.js","components/NoSolutionsPopup.js","components/Viz.js","components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","About","React","createElement","className","Link","to","style","textDecoration","color","href","id","columns","src","sample_page","alt","findCorresponding","clonalMap","currNode","clonal","corrNodes","forEach","row","push","getSubtree","tree","nodes","edges","edge","includes","Cytoscape","use","dagre","ClonalTree","props","hexColorRegex","colorPalette","ncolors","length","getColor","label","colorValue","coloring","find","value","undefined","test","parseInt","onlyUnique","index","array","indexOf","findLabel","node","labelPair","labeling","map","filter","_","flat","data","type","source","target","concat","migration","_useState","useState","_useState2","_slicedToArray","graphData","setGraphData","useEffect","myCyRef","styleSheet","selector","backgroundColor","width","height","overlay-padding","z-index","text-outline-width","fontSize","border-width","border-color","border-opacity","background-color","text-outline-color","line-color","target-arrow-color","target-arrow-shape","curve-style","line-fill","line-gradient-stop-colors","line-gradient-stop-positions","layout","name","fit","directed","padding","animate","animationDuration","avoidOverlap","nodeDimensionsIncludeLabels","ready","evtbus","addListener","eventName","eventData","getElementById","nodeId","$","css","trigger","eventParams","corr","ids","_toConsumableArray","Set","apply","getNodesInTree","fetched","_unused","useMemo","CytoscapeComponent","elements","normalizeElements","zoomingEnabled","maxZoom","minZoom","autounselectify","boxSelectionEnabled","stylesheet","cy","on","event","div","document","setAttribute","innerHTML","nodePos","position","container","zoomLevel","zoom","containerRect","getBoundingClientRect","absoluteX","left","x","pan","absoluteY","top","y","body","appendChild","labeltag","querySelector","opacity","zIndex","fontWeight","fireEvent","contains","removeChild","sink","findCorrespondingAll","COSEBilkent","Migration","_ref","rightcol","rotated","setLoadingAction","found","_step","clsource","cltarget","_iterator","_createForOfIteratorHelper","entries","s","n","done","_ref2","_ref3","i","err","e","f","_step2","_iterator2","_ref4","_ref5","shape","text-valign","text-halign","queryParameters","URLSearchParams","window","location","hash","split","is_rotated","get","circle","transform","mu","gamma","sessionStorage","setItem","DefaultDict","defaultVal","_classCallCheck","this","Proxy","uint6ToB64","nUint6","encodeFromArrayUrlSafe","bytes","encodeURIComponent","nMod3","eqLen","sB64Enc","nLen","nUint24","nIdx","String","fromCharCode","substring","encodeFromArray","replace","__4294967296","N1_longLit","MIN_VALUE","P0_longLit","P1_longLit","add","a","b","create","initDim","len","and","highBits","lowBits","low","makeFromBits","Math","max","min","lowBits_0","compare","nega","negb","sub","valueLow","valueHigh","diffHigh","diffLow","floor","eq","fromInt","pwrAsDouble","shl","diff","newHigh","newLow","twoToN","Error","shr","shiftFact","$ByteArrayInputStream","this$static","buf","pos","count","$read","$read_0","off","arraycopy","$ByteArrayOutputStream","$toByteArray","$write","$write_0","srcOfs","dest","destOfs","$init","input","output","length_0","mode","enableEndMark","encoder","dictionarySize","_dictionarySize","dicLogSize","_distTableSize","$SetDictionarySize_0","_numFastBytes","matchFinderIndex","matchFinderIndexPrev","_matchFinderType","_matchFinder","_dictionarySizePrev","$SetMatchFinder","m","_numLiteralPosStateBits","_numLiteralContextBits","_posStateBits","_posStateMask","$configure","_repDistances","_optimum","_rangeEncoder","_isMatch","_isRep","_isRepG0","_isRepG1","_isRepG2","_isRep0Long","_posSlotEncoder","_posEncoders","_posAlignEncoder","$BitTreeEncoder","_lenEncoder","$Encoder$LenPriceTableEncoder","_repMatchLenEncoder","_literalEncoder","_matchDistances","_posSlotPrices","_distancesPrices","_alignPrices","reps","repLens","processedInSize","processedOutSize","finished","properties","tempPrices","_longestMatchLength","_numDistancePairs","_numFastBytesPrev","backRes","$Encoder","_writeEndMark","outStream","$WriteCoderProperties","chunker","_needReleaseMFStream","_inStream","_finished","bt","numHashBytes","HASH_ARRAY","kNumHashDirectBytes","kMinMatchCheck","kFixHashSize","$SetType","numPosBits","numPrevBits","numStates","m_Coders","m_NumPrevBits","m_NumPosBits","m_PosMask","$Encoder$LiteralEncoder$Encoder2","$Create_1","historySize","keepAddBufferBefore","matchMaxLen","keepAddBufferAfter","cyclicBufferSize","hs","_cutValue","keepSizeBefore","keepSizeAfter","keepSizeReserv","blockSize","_keepSizeBefore","_keepSizeAfter","_bufferBase","_blockSize","_pointerToLastSafePosition","$Create_4","_matchMaxLen","_cyclicBufferSize","_son","_hashMask","_hashSizeSum","_hash","$Create_3","$Create_2","Stream","_state","_previousByte","$BaseInit","_position","Low","Range","_cacheSize","_cache","$Init_9","InitBitModels","m_Encoders","$Init_3","Models","$Init_2","_longestMatchWasFound","_optimumEndIndex","_optimumCurrentIndex","_additionalOffset","$Init_4","$FillDistancesPrices","$FillAlignPrices","_tableSize","$UpdateTables","nowPos64","decoder","alive","$Chunker_0","$GetIndexByte","_bufferOffset","_pos","$GetMatchLen","distance","limit","pby","_streamEndWasReached","_streamPos","$GetNumAvailableBytes","$ReadBlock","numReadBytes","size","_stream","_posLimit","$ReduceOffsets","subValue","CrcTable","j","r","$MovePos_0","_cyclicBufferPos","numBytes","offset","$MoveBlock","$MovePos_1","$NormalizeLinks","items","numItems","$Flush_0","_buffer","_windowSize","$GetByte","$ReleaseStream","GetLenToPosState","StateUpdateChar","$processChunk","inSize","outSize","baseVal","complexState","curByte","footerBits","lenToPosState","matchByte","posReduced","posSlot","posState","progressPosValuePrev","subCoder","$Init_5","$Flush","$ReadMatchDistances","$Encode_3","$Encode_1","$GetSubCoder","$GetOptimum","$EncodeMatched","$Encode_0","GetPosSlot","$Encode_2","ReverseEncode","$EncodeDirectBits","$ReverseEncode","_alignPriceCount","_matchPriceCount","$GetProcessedSizeAdd","$CodeOneBlock","inBytesProcessed","$ReleaseMFStream","$ReleaseStreams","$processEncoderChunk","result","decoder2","numDirectBits","m_PosStateMask","$DecodeBit","m_RangeDecoder","m_IsMatchDecoders","state","m_IsRepDecoders","m_IsRepG0Decoders","m_IsRepG1Decoders","m_IsRepG2Decoders","rep3","rep2","rep1","rep0","m_IsRep0LongDecoders","$Decode","m_RepLenDecoder","m_LenDecoder","$Decode_0","m_PosSlotDecoder","startIndex","rangeDecoder","NumBitLevels","bit","bitIndex","symbol","ReverseDecode","m_PosDecoders","numTotalBits","t","Code","$DecodeDirectBits","$ReverseDecode","m_PosAlignDecoder","m_DictionarySizeCheck","$CopyBlock","m_OutWindow","prevByte","$GetDecoder","m_LiteralDecoder","m_Decoders","$DecodeNormal","matchBit","$DecodeWithMatchByte","$PutByte","$CodeOneChunk","outBytesProcessed","$processDecoderChunk","m_Choice","m_LowCoder","m_HighCoder","m_MidCoder","g_FastPos","k","slotFast","c","$Backward","cur","backCur","backMem","posMem","posPrev","PosPrev","BackPrev","Prev1IsChar","$MakeAsChar","Prev2","PosPrev2","BackPrev2","$ReverseGetPrice","st","st2","ReverseGetPrice","$GetPrice_1","nowPos","$WriteEndMarker","$ShiftLow","curAnd1Price","curAndLenCharPrice","curAndLenPrice","curBack","curPrice","currentByte","lenEnd","lenMain","lenRes","lenTest","lenTest2","lenTestTemp","matchPrice","newLen","nextIsChar","nextOptimum","nextRepMatchPrice","normalMatchPrice","numAvailableBytes","numAvailableBytesFull","numDistancePairs","offs","opt","optimum","posStateNext","price_4","repIndex","repLen","repMatchPrice","repMaxIndex","shortRepPrice","startLen","state2","$MovePos","State","Price","ProbPrices","$GetPrice_0","$GetRepLen1Price","$MakeAsShortRep","Backs0","Backs1","Backs2","Backs3","$GetPureRepPrice","$GetPrice","$GetPosLenPrice","GetPosSlot2","price","GetPrice","num","curMatch","cyclicPos","delta","hash2Value","hash3Value","hashValue","len0","len1","lenLimit","matchMinPos","pby1","ptr0","ptr1","temp","$Skip","distances","curMatch2","curMatch3","maxLen","$GetMatches","numPosStates","_choice","_lowCoder","_midCoder","_highCoder","$SetPrices","numSymbols","prices","a0","a1","b0","b1","rangeEncoder","$Encode","_counters","_prices","$Encoder$LenEncoder","context","same","matchMode","numBitLevels","probs","newBound","prob","end","v","LowHi","sr","shru","Prob","modes","compress","arguments","_ref$mode","_ref$enableEndMark","$LZMAByteArrayCompressor","ch","chars","elen","l","srcBegin","srcEnd","dst","dstBegin","srcIdx","charCodeAt","$getChars","encode","get_mode_obj","compressUrlSafe","string","_ref2$mode","_ref2$enableEndMark","compressedString","base64","Uint8Array","SummaryGraph","coloringDict","title","onDeleteSummaryEdge","onRequireSummaryEdge","roots","requiredEdges","addEventListener","key","classList","remove","filterOut","filterJson","JSON","parse","getItem","_i","_filterOut","Object","keys","root","rootedge","arrow-scale","edge-distances","line-style","search","object","font-weight","arrowScale","edgeId","selectedEdge","evt","action","originalEvent","shiftKey","onEdgeTapped","selected","SummaryPanel","setType","insertParam","usedData","evtBus","muSum","clearData","deletedEdges","deletedRoots","requiredRoots","setDeletedEdges","setRequiredEdges","setDeletedRoots","setRequiredRoots","filterStack","setFilterStack","tooltip","setTooltip","findColor","dict","summaryGraph","onClick","_recent$split","pop","_recent$split2","item","elem","onMouseEnter","onMouseLeave","Fragment","stack","_edge$split","_edge$split2","sourceColor","targetColor","sourceStyle","display","borderRadius","targetStyle","generateTag","HelpPopup","isPopupOpen","togglePopup","Popup","open","overlayStyle","background","animationType","modal","close","NoSolutionsPopup","onClose","findRoot","edgeList","indegreeMap","Map","has","set","indegree","fetchRootLocation","_step3","_iterator3","entry","fetchRoots","solutions","arr","frequencyDict","constructFrequencyDictionary","soln","_step4","_iterator4","urlParams","toString","Viz","setMu","_useState3","_useState4","setGamma","_useState5","_useState6","mu2","setMu2","_useState7","_useState8","gamma2","setGamma2","_useState9","_useState10","setMuSum","_useState11","_useState12","gammaSum","setGammaSum","_useState13","_useState14","jsonDict","setJsonDict","_useState15","_useState16","setUsedData","_useState17","_useState18","_useState19","_useState20","_useState21","_useState22","refreshCounter","setRefreshCounter","_useState23","_useState24","clonalL","setClonalL","_useState25","_useState26","clonalR","setClonalR","_useState27","_useState28","setRoots","_useState29","_useState30","_useState31","_useState32","_useState33","_useState34","_useState35","_useState36","multiSoln","setMultiSoln","_useState37","_useState38","labelNames","setLabelNames","_useState39","_useState40","inputNames","setInputNames","labelName","labelName2","_useState41","_useState42","setLabeling","_useState43","_useState44","labeling2","setLabeling2","_useState45","_useState46","rotate","setRotate","_useState47","_useState48","rotate2","setRotate2","_useState49","_useState50","_useState51","_useState52","setData","_useState53","_useState54","data2","setData2","_useState55","_useState56","setTree","_useState57","_useState58","tree_labeling","setTreeLabeling","_useState59","_useState60","setMigration","_useState61","_useState62","tree2","setTree2","_useState63","_useState64","tree_labeling2","setTreeLabeling2","_useState65","_useState66","migration2","setMigration2","_useState67","_useState68","setClonalMap","_useState69","_useState70","clonalMap2","setClonalMap2","_useState71","_useState72","inputTree","setInputTree","_useState73","_useState74","inputTree2","setInputTree2","_useState75","_useState76","inputData","setInputData","_useState77","_useState78","inputData2","setInputData2","_useState79","_useState80","setColoring","coord_map","updateUsedData","wholeData","tempUsedData","original","summary","treeEntry","labelingEntry","migrationEntry","rootLocation","foundDeletedEdge","foundRequiredRoot","foundDeletedRoot","requiredEdgeCounter","migrationEdgeString","tempSolution","stringify","edgeInSummary","tempSummaryElement","slice","last_edit","toggleNoSolutionsPopup","tempNames","tempNames1","tempNames2","fetch","then","response","json","outdata","fetchedData","Array","isArray","catch","error","console","tmpMultiSoln","log","originalTree","originalLabeling","origExists","solutionNames","temps","some","closeTab","tabIndex","prevCounter","resetFn","resetClonal","handleKeyPress","loadingOverlay","parentElement","_useState81","listeners","callback","removeListener","listener","_useState82","_useState83","_useState84","isHelpPopupOpen","setIsHelpPopupOpen","_useState85","_useState86","isNoSolutionsPopupOpen","setIsNoSolutionsPopupOpen","toggleHelpPopup","formattedLabels","self","edge_id","_edge_id$split","_edge_id$split2","updatedEdges","_edge_id$split3","_edge_id$split4","htmlFor","onChange","targetLabel","bind","rotated2","Home","json_dict","A1","A7","A10","A22","A29","A31","A32","patient1_LOv","patient1_ROv","patient2","patient3_LOv","patient3_ROv","patient4_LOv","patient4_ROv","patient7_LOv","patient7_ROv","patient9_LOv","patient9_ROv","patient10","tracerx","default_patients","default_dirs","div_elements","which_color","_loop","current_directory","current_color","link","URLs","current_patient","overlay","loadingContainer","loadingHeader","textContent","setTimeout","download","url","filename","axios","responseType","res","fileDownload","accept","json_contents","reader","FileReader","file","files","onload","readerEvt","jsonString","labelnames","readAsText","App","createBrowserHistory","basename","Switch","Route","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","StrictMode","Router"],"mappings":"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","file":"static/js/main.5a8e2600.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sample_page.17167d94.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVR4nO2USwrEIBAF6xJp5kg5dyQM+aySRfa5iMNAC0ISBE0v8nnQKCpVoI3wtLSAsxQ4oLEUXD8d8LUUeK1XcKMraoARkB2B6F5RV/UKnBUYBKJrXs9kRyJQGON5EBelAqYIHmoBPqXwI0kWPPUNCDBoSeLHdZYt6I845oJ15yF9Zv1Zm9QnSVZl3SQ/PmdfIXJmioIAAAAASUVORK5CYII=\"","import React from 'react';\nimport {\n    Link\n  } from \"react-router-dom\";\n\n// Figures\nimport sample_page from \"../assets/sample_page.png\";\n\n\n/**\n * This page is simply a description of the application with a contact list\n */\nfunction About() {\n    return (\n        <div className='about'>\n            <div className='panel about'>\n                <div className='aboutcontainer'>\n                    <p className='backarrow'><b><Link to=\"\" style={{ textDecoration: 'none', color: 'black'}}>&#8592; home</Link></b></p>\n                    <h1 className='abouttitle'>Instructions</h1>\n                </div>\n                <p><b>NOTE: If you want to see more detailed documentation, refer to the following <a href='https://github.com/elkebir-group/mach2-viz/blob/main/docs/documentation.md'>link</a></b></p>\n                <p id='mach2'><b>MACH2</b> is a personalized tool to visualize cancer metastasis. It is a sequel to MACHINA, an algorithm designed to solve the Parsimonious Migration History Problem (PMH problem).</p>\n                <p id='ii'><b>The Parsimonious Migration History Problem:</b> Given current oncological mutations at their respective anatomical sites, how can we infer their mutation tree as well as a network of anatomical sites inferring metastases?</p>\n                <p id='iii'><b>Visualization Format:</b></p>\n                <p>Upon selecting one of the examples on the home page, you will be redirected to the visualization page. The page showcases multiple panels. The descriptions along with an image of the panels are shown below:</p>\n                <ul style={{columns: 1}}>\n                    <li><p><b>MACH2 Solutions (middle and right):</b>The solutions computed by MACH2 are displayed here. Change between possible solutions by selecting the drop down menu at the top of the panel. Each graph in this panel is described below:</p></li>\n                    <ul style={{columns: 1}}>\n                        <li><p><b>Clonal Tree (bottom right and bottom middle):</b> This is a tree of oncological mutations. Each node in this tree is a variant allele in the cancer patient. Each edge is a mutation from one variant to another.\n                        In the case of multiple clonal tree solutions, you can click the drop-down on the main panel (labeled \"jsons/hoadley16_A7-1\" below) to select between them.\n                        Additionally, you can see that there are buttons that say \"Clonal Tree\" and \"Input Tree\". The clonal tree displays the tree of mutations after polytomy refinement done by MACH2. The input tree is simply the original tree before these refinements are applied.\n                        </p></li>\n                        <li><p><b>Migration Graph (top right and top middle):</b> Each node in the clonal tree has a tag with an anatomical location inferred using <a href='https://en.wikipedia.org/wiki/Maximum_parsimony_(phylogenetics)'>Maximum Parsimony</a>. The clonal tree is compressed into a migration graph where each node represents an anatomical location, and each edge is a metastasis (e.g. a migration) between two anatomical locations.</p></li>   \n                    </ul>\n                    <li><p><b>Summary (left):</b> You can also view a summary migration graph that is computed by unioning edges across migration graphs in each solution. Edges are weighted by the number of solutions they appear in.</p></li>\n                </ul>\n                <p>You can click on the long gray bars on the sides of the visualization page to add extra panels. You can also click the \"[X]\" buttons on the top right corners of panels to delete them.</p>\n                <div className=\"image-container\">\n                    <img className='aboutimg' src={sample_page} alt=\"Sample Page\"></img>\n                </div>\n                <p id='iv'><b>Filtering Solutions:</b></p>\n                <p>The user has an option to delete or require edges displayed on the Summary Panel. Their functions are described below:</p>\n                <ul style={{columns: 1}}>\n                    <li><p><b>Delete edges: </b>Shift+Click on an edge in the summary panel to delete it. By deleting it, the MACH2 solution panels will only show solutions that do not have the edge in their solution.</p></li>\n                    <li><p><b>Require edges: </b>Click on an edge in the summary panel to require it. By requiring it, the MACH2 solution panels will only show solutions that have that edge in their solution.</p></li>\n                </ul>\n                <p>To undo actions, you can click the undo arrow that will appear on the top right corner of the summary panel after editing the summary panel edges.</p>\n                <p id='v'><b>Generating inputs:</b></p>\n                <p>MACH2 should already output a JSON format that is fully compatible with MACH2-Viz. However, if you are interested in using MACHINA, we have provided a <a href=\"https://github.com/vikramr2/json_compression\">json compression</a> program that takes an output directory from MACHINA that contains <b>.tree</b> files and their corresponding <b>.labeling</b> files, and returns a <b>.json</b> file that can be used as input for this visualizer. Click the \"+\" icon in the home page to use this feature. For more information, see this <a href='https://github.com/vikramr2/json_compression/blob/main/README.md'>README</a>. Output from any algorithm that solves the PMH problem will be accepted provided that it is in a JSON format as shown in the README.</p>\n                <p id='vi'><b>Questions? Contact</b></p>\n                <ul id=\"singlecol\">\n                    <li><p>Vikram Ramavarapu (<a href=\"mailto:vikramr2@illinois.edu\">vikramr2@illinois.edu</a>)</p></li>\n                    <li><p>Roman Mineyev (<a href=\"mailto:mineyev2@illinois.edu\">mineyev2@illinois.edu</a>)</p></li>\n                    <li><p>Akul Joshi (<a href=\"mailto:akulj2@illinois.edu\">akulj2@illinois.edu</a>)</p></li>\n                    <li><p>Mrinmoy Roddur (<a href=\"mailto:mroddur2@illinois.edu\">mroddur2@illinois.edu</a>)</p></li>\n                    <li><p>Mohammed El-Kebir (<a href=\"mailto:melkebir@illinois.edu\">melkebir@illinois.edu</a>)</p></li>\n                </ul>\n            </div>\n        </div>\n    );\n}\n\nexport default About;","import React, { useEffect, useMemo } from 'react'\nimport { useState } from \"react\";\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport Cytoscape from 'cytoscape';\nimport COSEBilkent from 'cytoscape-cose-bilkent';\nimport dagre from 'cytoscape-dagre';\n\n// Load Cytoscape submodules\nCytoscape.use(dagre);\n\nfunction findCorresponding(clonalMap, currNode, clonal) {\n  if (clonal) {\n    let corrNodes = [];\n    clonalMap.forEach((row) => {\n      if (row[1] === currNode) {\n        corrNodes.push(row[0]);\n      }\n    })\n    return corrNodes;\n  } else {\n    clonalMap.forEach((row) => {\n      if (row[0] === currNode) {\n        return [row[1]];\n      }\n    })\n  }\n}\n\nfunction findCorrespondingAll(clonalMap, currNode) {\n  let corrNodes = [];\n\n  clonalMap.forEach((row) => {\n    if (row[0] === currNode) {\n      corrNodes.push(row[1])\n      corrNodes.push(row[0])\n    }\n    if (row[1] === currNode) {\n      corrNodes.push(row[0])\n      corrNodes.push(row[1])\n    }\n  })\n\n  if (corrNodes.length === 0) {\n    corrNodes.push(currNode)\n  }\n\n  return corrNodes;\n}\n\nfunction getNodesFromIds(nodes, ids) {\n  let ret = []\n\n  nodes.forEach((node) => {\n    if (ids.includes(node.id())) {\n      ret.push(node.id())\n    }\n  })\n\n  return ret;\n}\n\nfunction getSubtree(tree, nodes) {\n  let edges = [];\n\n  tree.forEach((edge) => {\n    if (nodes.includes(edge[0]) && nodes.includes(edge[1])) {\n      edges.push(edge)\n    }\n  })\n\n  return edges;\n}\n\nfunction getNodesInTree(tree, ids) {\n  let nodes = [...new Set([].concat.apply([], tree))];\n  return ids.filter((id) => nodes.includes(id));\n}\n\n/** This component contains the clonal tree showing the tumor phylogeny\n * \n * @param {*} props The JSX props used on this tag\n *  - coloring: (array) The coloring scheme of the tree\n *  - labeling: (array) The anatomical labels of each clone\n *  - tree:     (array) The tree topology as an edgelist\n *  - evtbus:   (obj) The event handler that is shared between graph structures\n *  - rightcol: (boolean) is this tree in the right column (for dual visualizations)\n * @returns The JSX/HTML structure of the component\n */\nfunction ClonalTree(props) {\n  //console.log(props.clonalMap)\n  const width = \"100%\";\n  const height = \"100%\";\n\n  // Regex to check whether a string is a hex value representing a color\n  var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n  /* Default color palette\n  \n  Colorings can be specified as either:\n  - [node, index (int)]       : The second element is an index (mod length) chosen from the default color palette\n  - [node, hex color (string)]: The second element is a custom hex color */\n  const colorPalette = [\n    \"#a6cee3\",\n    \"#1f78b4\",\n    \"#b2df8a\",\n    \"#33a02c\",\n    \"#fb9a99\",\n    \"#e31a1c\",\n    \"#fdbf6f\",\n    \"#ff7f00\",\n    \"#cab2d6\",\n    \"#6a3d9a\",\n    \"#ffff99\",\n    \"#b15928\"\n  ]\n  const ncolors = colorPalette.length;\n\n  // DEFINE FUNCTIONS HERE\n\n  /** Given a clonal label, find its corresponding color in the graph\n   * \n   * @param {*} label (string) the clonal label\n   * @returns the hex value string of the color corresponding to the label\n   */\n  function getColor(label) {\n    // if (!label) return '#000';\n    // let color = props.coloring.map((value, index) => {\n    //   if (value[0] === label) return value[1]}).filter((item) => {return item != undefined})[0];\n    // return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors]\n\n    if (!label) return '#000';\n  \n    let colorValue = props.coloring.find(value => value[0] === label);\n    \n    let color = colorValue ? colorValue[1] : undefined;\n  \n    return hexColorRegex.test(color) \n      ? color \n      : colorPalette[parseInt(color) % ncolors];\n  }\n\n  /** Filter an array into only unique elements*/\n  function onlyUnique(value, index, array) {\n    return array.indexOf(value) === index;\n  }\n\n  /** Find corresponding anatomical label of clone\n   * \n   * @param {*} node clone ID\n   * @returns anatomical location of clone\n   */\n  function findLabel(node) {\n    // return props.labeling.map((value, index) => {\n    //   if (value[0] === node) return value[1]}).filter((item) => {return item != undefined})[0];\n\n    let labelPair = props.labeling.find(value => value[0] === node);\n  \n    return labelPair ? labelPair[1] : undefined;\n  }\n\n  // Define the nodes and edges of the graph\n  let nodes = props.tree.map(array => {\n    // Entry structure in tree [u, v, time] s.t. time is the temporal value of the clonal mutation \n    // Create a new array excluding the third element since \n    return array.filter((_, index) => index !== 2);\n  }).flat().filter(onlyUnique).map((value, index) => {\n    return { data: { id: value, label: findLabel(value), type: \"ip\"} };\n  });\n  let edges = props.tree.map((value, index) => {\n    return { data: { source: value[0], target: value[1], label: `${value[0]}->${value[1]}`, migration: `${findLabel(value[0])}->${findLabel(value[1])}`} }\n  })\n\n  // Set the graph as a React state\n  const [graphData, setGraphData] = useState({\n    nodes: nodes,\n    edges: edges\n  });\n\n  // Handle graph changes (this is for when we switch the solution)\n  useEffect(() => {\n    // Reset nodes and labeling\n    nodes = props.tree.map(array => {\n      return array.filter((_, index) => index !== 2);\n    }).flat().filter(onlyUnique).map((value, index) => {\n      return { data: { id: value, label: findLabel(value), type: \"ip\"} }\n    });\n\n    edges = props.tree.map((value, index) => {\n      return { data: { source: value[0], target: value[1], label: `${value[0]}->${value[1]}`, migration: `${findLabel(value[0])}->${findLabel(value[1])}`} }\n    })\n\n    // Set the graph state\n    setGraphData({\n      nodes: nodes,\n      edges: edges\n    })\n  \n  // Set this change dependent on the tree or labeling change\n  }, [props.tree, props.labeling])\n\n  // This is like CSS for the Cytoscape graph\n  let styleSheet = [\n    {\n      selector: \"node\",\n      style: {\n        backgroundColor: \"#4a56a6\",\n        width: 15,\n        height: 15,\n        label: \"data(id)\",\n        \"overlay-padding\": \"6px\",\n        \"z-index\": \"10\",\n        \"text-outline-width\": \"2px\",\n        color: \"white\",\n        fontSize: 15\n      }\n    },\n    {\n      selector: \"node:selected\",\n      style: {\n        \"border-width\": \"6px\",\n        \"border-color\": \"#AAD8FF\",\n        \"border-opacity\": \"0.5\",\n        \"background-color\": \"#77828C\",\n        width: 50,\n        height: 50,\n\n        //text props\n        \"text-outline-color\": \"#77828C\",\n        \"text-outline-width\": 8\n      }\n    },\n    {\n      selector: \"edge\",\n      style: {\n        width: 3,\n        \"line-color\": \"#AAD8FF\",\n        \"target-arrow-color\": \"#6774cb\",\n        \"target-arrow-shape\": \"triangle\",\n        \"curve-style\": \"bezier\"\n      }\n    }\n  ];\n\n  // Set the coloring dynamically in the stylesheet using the coloring props\n  props.coloring.forEach((value, index) => {\n    styleSheet.push({\n      selector: `node[label='${value[0]}']`,\n      style: {\n        backgroundColor: hexColorRegex.test(value[1]) ? value[1] : colorPalette[parseInt(value[1]) % ncolors]\n      }\n    })\n  })\n\n  // Style the edges dynamically via gradients based on the node colors\n  edges.forEach((value, index) => {\n    let source = value.data.source;\n    let target = value.data.target;\n    styleSheet.push({\n      selector: `edge[label='${source}->${target}']`,\n      style: {\n        'line-fill': 'linear-gradient',\n        'line-gradient-stop-colors': `${getColor(findLabel(source))} ${getColor(findLabel(target))}`,\n        'line-gradient-stop-positions': '33% 66%',\n        \"target-arrow-color\": `${getColor(findLabel(target))}`\n      }\n    })\n  })\n\n  // The layout encompasses node positions on load, animations, and events\n  let myCyRef;\n  const layout = {\n    name: \"dagre\",  // Dagre: Layout graph like a DAG (this is good for trees!)\n    fit: true,\n    // circle: true,\n    directed: true,\n    padding: 10,\n    // spacingFactor: 1.5,\n    animate: true,\n    animationDuration: 1000,\n    avoidOverlap: true,\n    nodeDimensionsIncludeLabels: false,\n    ready: function() {\n      // Event listener\n      const listener = (eventName, eventData) => {\n        // Respond to event from other graph here\n        // When a node ge\n        if (eventName === 'selectNodeCl') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          myCyRef.$(`edge[migration='${eventData.nodeId}']`).css({\n            width: 10\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'deselectNodeCl') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          myCyRef.$(`edge[migration='${eventData.nodeId}']`).css({\n            width: 3\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'hoverNodeCl') {\n          myCyRef.$(`edge[migration='${eventData.nodeId}->${eventData.nodeId}']`).css({\n            width: 10\n          })\n        }\n        if (eventName === 'dehoverNodeCl') {\n          myCyRef.$(`edge[migration='${eventData.nodeId}->${eventData.nodeId}']`).css({\n            width: 3\n          })\n        }\n        if (eventName === 'selectNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let label = eventData.label;\n\n          myCyRef.$(`edge[label='${label}']`).css({\n            width: 10\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'deselectNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let label = eventData.label;\n\n          myCyRef.$(`edge[label='${label}']`).css({\n            width: 3\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'hoverNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let source = eventData.nodeId;\n\n          myCyRef.$(`node[id='${source}']`).css({\n            width: 25,\n            height: 25\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'dehoverNodeSC') {\n          const node = myCyRef.getElementById(eventData.nodeId);\n          let source = eventData.nodeId;\n\n          myCyRef.$(`node[id='${source}']`).css({\n            width: 15,\n            height: 15\n          })\n          node.trigger('select');\n        }\n        if (eventName === 'resetClonal') {\n          let index = eventData.index\n          if (index === props.index) {\n            setGraphData({\n              nodes: nodes,\n              edges: edges\n            })\n          }\n        }\n        if (eventName === 'clonalHover') {\n          let corrNodes = eventData.eventParams\n          //console.log(props.index)\n\n          if (corrNodes !== undefined) {\n            corrNodes.forEach((source) => {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${source}']`).css({\n                width: 25,\n                height: 25\n              })\n              node.trigger('select');\n            })\n\n            let subtree = getSubtree(props.tree, corrNodes);\n            subtree.forEach((edge) => {\n              myCyRef.$(`edge[label='${edge[0]}->${edge[1]}']`).css({\n                width: 10\n              })\n            })\n          }\n        }\n\n        if (eventName === 'clonalDehover') {\n          let corrNodes = eventData.eventParams\n          //console.log(props.index)\n\n          if (corrNodes !== undefined) {\n            corrNodes.forEach((source) => {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${source}']`).css({\n                width: 15,\n                height: 15\n              })\n              node.trigger('select');\n            })\n\n            let subtree = getSubtree(props.tree, corrNodes);\n            subtree.forEach((edge) => {\n              myCyRef.$(`edge[label='${edge[0]}->${edge[1]}']`).css({\n                width: 3\n              })\n            })\n          }\n        }\n\n        if (eventName === 'zoomClonal') {\n          let node = eventData.node\n          let corr = getNodesInTree(props.tree, eventData.corr)[0];\n          let fetched = myCyRef.$(`node[id='${corr}']`);\n\n          try {\n            myCyRef.fit(fetched)\n          } catch {\n            myCyRef.fit(node)\n          }\n        }\n      };\n      props.evtbus.addListener(listener);\n    }\n  };\n\n  // Memoization: Log the graph layout so that when states change, we dont have to recompute everything\n  const memoizedGraphComponent = useMemo(() => ( <CytoscapeComponent\n    elements={CytoscapeComponent.normalizeElements(graphData)}\n    style={{ width: width, height: height }}\n    zoomingEnabled={true}\n    maxZoom={3}\n    minZoom={0.1}\n    autounselectify={true}\n    boxSelectionEnabled={true}\n    layout={layout}\n    stylesheet={styleSheet}\n    cy={cy => {\n      myCyRef = cy;\n\n      // Here we handle events on the graph\n      cy.on('mouseover', 'node', function(event) {\n        // Get the node information\n        var node = event.target;\n        var label = node.data('label');\n        \n        if (label !== undefined) {\n          // Create the div element\n          var div = document.createElement(\"div\");\n          div.setAttribute(\"class\", \"panel popup\");\n\n          div.innerHTML = `<p>${label}&nbsp;</p>`;\n        \n          // Position the div element near the node\n          const nodePos = node.position();\n          \n          // Get the container element\n          const container = cy.container();\n          const zoomLevel = cy.zoom();\n\n\n          // Get the container's absolute position on the webpage\n          const containerRect = container.getBoundingClientRect();\n\n\n          div.style.position = \"absolute\";\n          const absoluteX = containerRect.left + nodePos.x * zoomLevel + cy.pan().x + 15;\n          const absoluteY = containerRect.top + nodePos.y * zoomLevel + cy.pan().y - 15;\n\n          div.style.top = absoluteY + 'px';\n          div.style.left = absoluteX + 'px';\n        \n          // Add the div element to the page\n          document.body.appendChild(div);\n\n          // Style the anatomical location tag on hover\n          var labeltag = document.querySelector(`#${label}`);\n          if (labeltag !== null) {\n            labeltag.style.opacity = 1;\n            labeltag.style.zIndex = 100;\n            labeltag.style.fontWeight = 'bold';\n          }\n        }\n\n        const nodeId = event.target.id();\n\n        // Enlarge the node on hover\n        props.evtbus.fireEvent('hoverNodeSC', { nodeId });\n\n        if (props.clonalMap.length > 0) {\n          let eventParams = findCorresponding(props.clonalMap, nodeId, props.clonal);\n          props.evtbus.fireEvent('clonalHover', { eventParams })\n        }\n      });\n\n      cy.on('mouseout', 'node', function(event){\n        // Remove the div element on mouseout\n        var div = document.querySelector('.panel.popup');\n        if (document.body.contains(div)) {\n          document.body.removeChild(div);\n        }\n\n        const nodeId = event.target.id();\n\n        var node = event.target;\n        var label = node.data('label');\n\n        var labeltag = document.querySelector(`#${label}`);\n        if (labeltag !== null) {\n          labeltag.style.opacity = 0.7;\n          labeltag.style.zIndex = 1;\n          labeltag.style.fontWeight = 'normal';\n        }\n\n        // Shrink the node back to size\n        props.evtbus.fireEvent('dehoverNodeSC', { nodeId });\n\n        if (props.clonalMap.length > 0) {\n          let eventParams = findCorresponding(props.clonalMap, nodeId, props.clonal);\n          props.evtbus.fireEvent('clonalDehover', { eventParams })\n        }\n      });\n\n      cy.on('mouseover', 'edge', function(event) {\n        const { target } = event;\n\n        // Enlarge the edge\n        target.css({\n          width: 10\n        })\n        const nodeId = event.target.id();\n        let source = findLabel(target.data().source);\n        let sink = findLabel(target.data().target);\n        let label = target.data().label;\n\n        // Widen the edge in the migration graph as well\n        props.evtbus.fireEvent('selectNode', { nodeId, source, sink, target});\n        props.evtbus.fireEvent('selectNodeSC', { nodeId, source, sink, target, label});\n      });\n\n      cy.on('mouseout', 'edge', function(event) {\n        const { target } = event;\n\n        // Shrink edge back\n        target.css({\n          width: 3\n        })\n        const nodeId = event.target.id();\n        let source = findLabel(target.data().source);\n        let sink = findLabel(target.data().target);\n        let label = target.data().label;\n\n        // Shrink migration edge back\n        props.evtbus.fireEvent('deselectNode', { nodeId, source, sink, target});\n        props.evtbus.fireEvent('deselectNodeSC', { nodeId, source, sink, target, label});\n      });\n\n      cy.on('tap', 'node', (event) => {\n        const node = event.target;\n        let corr = [...new Set(findCorrespondingAll(props.clonalMap, node.id()))]\n\n        props.evtbus.fireEvent('zoomClonal', { node, corr })\n\n        cy.fit(node)\n      });\n    }}\n    />), [graphData] )\n    return memoizedGraphComponent;\n}\n\nexport default ClonalTree;","import React, { useEffect, useMemo } from 'react'\nimport { useState } from \"react\";\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport Cytoscape from 'cytoscape';\nimport COSEBilkent from 'cytoscape-cose-bilkent';\nimport dagre from 'cytoscape-dagre';\n\nCytoscape.use(dagre);\nCytoscape.use(COSEBilkent);\n\n/** Migration graph showing the anatomical cancer metastases\n * \n * @param {*} props \n * - labeling:  anatomic labeling for the nodes\n * - coloring:  coloring scheme\n * - tree:      clonal tree edgelist\n * - migration: precomputed migration graph\n * - rightcol:  Is this a dualviz right column migration graph?\n * - rotated:   Is the graph rotated?\n * @returns JSX/HTML\n */\nfunction Migration({ tree, labeling, coloring, migration, evtbus, rightcol, rotated, setLoadingAction }) {\n      var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n      const colorPalette = [\n        \"#a6cee3\",\n        \"#1f78b4\",\n        \"#b2df8a\",\n        \"#33a02c\",\n        \"#fb9a99\",\n        \"#e31a1c\",\n        \"#fdbf6f\",\n        \"#ff7f00\",\n        \"#cab2d6\",\n        \"#6a3d9a\",\n        \"#ffff99\",\n        \"#b15928\"\n      ]\n      const ncolors = colorPalette.length;\n    \n      const width = \"100%\";\n      const height = \"100%\";\n    \n      function onlyUnique(value, index, array) {\n        return array.indexOf(value) === index;\n      }\n    \n      function findLabel(node) {\n        const found = labeling.find(value => value[0] === node);\n        return found ? found[1] : undefined;\n        // return labeling.map((value, index) => {\n          // if (value[0] === node) return value[1]}).filter((item) => {return item !== undefined})[0];\n      }\n\n      function getColor(label) {\n        // let color = coloring.map((value, index) => {\n        //   if (value[0] === label) return value[1]}).filter((item) => {return item !== undefined})[0];\n        // return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors]\n\n        let color = coloring.find(value => value[0] === label);\n        \n        if (color) {\n          color = color[1];\n        }\n\n        return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors];\n      }\n    \n      // The difference between this and the Clonal Tree is that the nodes are anatomical locations instead of clones\n      let nodes = tree.map(array => {\n        // Create a new array excluding the third element\n        return array.filter((_, index) => index !== 2);\n      }).flat().filter(onlyUnique).map((value, index) => {\n        return { data: { id:  findLabel(value), label: findLabel(value), type: \"ip\"} };\n      });\n      let edges = migration.map((value, index) => {\n        return { data: { source: value[0], target: value[1], label: value[2], id: `${value[0]}->${value[1]}`, clsource: value[0], cltarget: value[1] } }\n      })\n      for (const [i, edge] of edges.entries()) {\n        // eslint-disable-next-line eqeqeq\n        if (edge.data.label == 1) {\n          edges[i].data.label = \"\";\n        }\n      }\n    \n      const [graphData, setGraphData] = useState({\n        nodes: nodes,\n        edges: edges\n      });\n\n      let myCyRef;\n\n      // Likewise switch the graph data when any of the props values change\n      useEffect(() => {\n        let nodes = tree.map(array => {\n          // Create a new array excluding the third element\n          return array.filter((_, index) => index !== 2);\n        }).flat().filter(onlyUnique).map((value, index) => {\n          return { data: { id:  findLabel(value), label: findLabel(value), type: \"ip\"} };\n        });\n        let edges = migration.map((value, index) => {\n          return { data: { source: value[0], target: value[1], label: value[2], id: `${value[0]}->${value[1]}`, clsource: value[0], cltarget: value[1] } }\n        })\n        for (const [i, edge] of edges.entries()) {\n          // eslint-disable-next-line eqeqeq\n          if (edge.data.label == 1) {\n            edges[i].data.label = \"\";\n          }\n        }\n        setGraphData({\n          nodes: nodes,\n          edges: edges\n        })\n      }, [tree, labeling, migration, rotated])\n\n      let styleSheet = [\n        {\n          selector: \"node\",\n          style: {\n            backgroundColor: \"#fff\",\n            'border-width': 10,\n            shape: \"rectangle\",\n            width: 100,\n            height: 50,\n            label: \"data(label)\",\n    \n            // \"width\": \"mapData(score, 0, 0.006769776522008331, 20, 60)\",\n            // \"height\": \"mapData(score, 0, 0.006769776522008331, 20, 60)\",\n            // \"text-valign\": \"center\",\n            // \"text-halign\": \"center\",\n            \"overlay-padding\": \"6px\",\n            \"z-index\": \"10\",\n            //text props\n            //\"text-outline-color\": \"#4a56a6\",\n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15,\n            'text-valign': 'center',\n            'text-halign': 'center'\n          }\n        },\n        {\n          selector: \"node:selected\",\n          style: {\n            \"border-width\": \"6px\",\n            \"border-color\": \"#AAD8FF\",\n            \"border-opacity\": \"0.5\",\n            \"background-color\": \"#77828C\",\n            width: 50,\n            height: 50,\n            //text props\n            \"text-outline-color\": \"#77828C\",\n            \"text-outline-width\": 8\n          }\n        },\n        {\n          selector: \"node[type='device']\",\n          style: {\n            shape: \"rectangle\"\n          }\n        },\n        {\n          selector: \"edge\",\n          style: {\n            width: 3,\n            // \"line-color\": \"#6774cb\",\n            label: \"data(label)\",\n            \"target-arrow-color\": \"#6774cb\",\n            \"target-arrow-shape\": \"triangle\",\n            \"curve-style\": \"bezier\",\n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15\n          }\n        }\n      ];\n      \n      coloring.forEach((value, index) => {\n        styleSheet.push({\n          selector: `node[label='${value[0]}']`,\n          style: {\n            'border-color': hexColorRegex.test(value[1]) ? value[1] : colorPalette[parseInt(value[1]) % ncolors]\n          }\n        });\n      });\n\n      edges.forEach((value, index) => {\n        let source = value.data.source;\n        let target = value.data.target;\n        styleSheet.push({\n          selector: `edge[id='${source}->${target}']`,\n          style: {\n            'line-fill': 'linear-gradient',\n            'line-gradient-stop-colors': `${getColor(source)} ${getColor(target)}`,\n            'line-gradient-stop-positions': '33% 66%',\n            \"target-arrow-color\": `${getColor(target)}`\n          }\n        })\n      })\n\n      // Is the migration graph rotated?\n      const queryParameters = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n      let is_rotated = rightcol ? queryParameters.get(\"rotated2\") === \"true\" : queryParameters.get(\"rotated\") === \"true\";\n      if (is_rotated === null) {\n        is_rotated = false;\n      }\n\n      const layout = {\n        name: \"dagre\",\n        fit: true,\n        circle: true,\n        directed: true,\n        padding: 10,\n        // spacingFactor: 1.5,\n        animate: true,\n        animationDuration: 1000,\n        avoidOverlap: true,\n        nodeDimensionsIncludeLabels: false,\n\n        // Position the nodes based on the rotated parameter\n        transform: (node, position) => {\n          return {\n            x: rotated ? -2*position.y : position.x,\n            y: rotated ? position.x : position.y\n          }\n        },\n\n        ready: function() {\n          const listener = (eventName, eventData) => {\n            // Respond to event from other graph here\n            // For example:\n            if (eventName === 'selectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 10\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'deselectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 3\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'selectNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`edge[id='${eventData.nodeId}']`).css({\n                width: 10\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'deselectNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`edge[id='${eventData.nodeId}']`).css({\n                width: 3\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'hoverNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${eventData.nodeId}']`).css({\n                'border-width': 20,\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'dehoverNodeSum') {\n              const edge = myCyRef.getElementById(eventData.nodeId);\n              myCyRef.$(`node[id='${eventData.nodeId}']`).css({\n                'border-width': 10,\n              })\n              edge.trigger('select');\n            }\n            if (eventName === 'resetMigration') {\n              if ((eventData.index === 1 && !rightcol) || (eventData.index === 2 && rightcol)) {\n                setGraphData({\n                  nodes: nodes,\n                  edges: edges\n                })\n              }\n            }\n          };\n          evtbus.addListener(listener);\n        }\n      };\n\n      /** Parameter definitions\n       * \n       * Migration Number (Mu):       Sum of the edge weights\n       * Comigration Number (Gamma):  Number of unique migrations\n       */\n      let mu = 0;\n      let gamma = edges.length;\n      edges.forEach((edge) => {\n        // eslint-disable-next-line eqeqeq\n        if (edge.data.label == '') {\n          mu += 1;\n        } else {\n          mu += parseInt(edge.data.label);\n        }\n      })\n\n      // Which mu and gamma are we setting (this is for dualviz)\n      if (!rightcol) {\n        sessionStorage.setItem(\"mu\", mu);\n        sessionStorage.setItem(\"gamma\", gamma);\n      } else {\n        sessionStorage.setItem(\"mu2\", mu);\n        sessionStorage.setItem(\"gamma2\", gamma);\n      }\n    \n      const memoizedGraphComponent = useMemo(() => ( <CytoscapeComponent\n        elements={CytoscapeComponent.normalizeElements(graphData)}\n        // pan={{ x: 200, y: 200 }}\n        style={{ width: width, height: height }}\n        zoomingEnabled={true}\n        maxZoom={3}\n        minZoom={0.1}\n        autounselectify={true}\n        boxSelectionEnabled={true}\n        layout={layout}\n        stylesheet={styleSheet}\n        cy={cy => {\n          myCyRef = cy;\n\n          cy.on('mouseover', 'edge', function(event) {\n            const { target } = event;\n            target.css({\n              width: 10\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('selectNodeSum', { nodeId, target});\n            evtbus.fireEvent('selectNodeCl', { nodeId, target});\n          });\n\n          cy.on('mouseover', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 20,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('hoverNodeSum', { nodeId });\n            evtbus.fireEvent('hoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 1;\n              labeltag.style.zIndex = 100;\n              labeltag.style.fontWeight = 'bold';\n            }\n          })\n\n          cy.on('mouseout', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 10,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('dehoverNodeSum', { nodeId });\n            evtbus.fireEvent('dehoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 0.7;\n              labeltag.style.zIndex = 1;\n              labeltag.style.fontWeight = 'normal';\n            }\n          })\n    \n          cy.on('mouseout', 'edge', function(event) {\n            const { target } = event;\n            target.css({\n              width: 3\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('deselectNodeSum', { nodeId, target});\n            evtbus.fireEvent('deselectNodeCl', { nodeId, target});\n          });\n        }}\n        />), [graphData] )\n        return memoizedGraphComponent;\n}\n\nexport default Migration;","class DefaultDict {\n    constructor(defaultVal) {\n        return new Proxy({}, {\n        get: (target, name) => name in target ? target[name] : defaultVal\n        })\n    }\n}\n\nexport default DefaultDict;","/* eslint-disable */\n\n\n/**\n * Convert between Uint8Array and Base64 strings\n * Allows for any encoded JS string to be converted (as opposed to atob()/btoa() which only supports latin1)\n *\n * Original implementation by madmurphy on MDN\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#Solution_1_–_JavaScript%27s_UTF-16_%3E_base64\n */\n\nfunction b64ToUint6(nChr) {\n    return nChr > 64 && nChr < 91\n      ? nChr - 65\n      : nChr > 96 && nChr < 123\n      ? nChr - 71\n      : nChr > 47 && nChr < 58\n      ? nChr + 4\n      : nChr === 43\n      ? 62\n      : nChr === 47\n      ? 63\n      : 0\n  }\n  \n  export function decodeToArray(base64string, blockSize) {\n    var sB64Enc = base64string.replace(/[^A-Za-z0-9\\+\\/]/g, ''),\n      nInLen = sB64Enc.length,\n      nOutLen = blockSize\n        ? Math.ceil(((nInLen * 3 + 1) >>> 2) / blockSize) * blockSize\n        : (nInLen * 3 + 1) >>> 2,\n      aBytes = new Uint8Array(nOutLen)\n  \n    for (\n      var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0;\n      nInIdx < nInLen;\n      nInIdx++\n    ) {\n      nMod4 = nInIdx & 3\n      nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << (18 - 6 * nMod4)\n      if (nMod4 === 3 || nInLen - nInIdx === 1) {\n        for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {\n          aBytes[nOutIdx] = (nUint24 >>> ((16 >>> nMod3) & 24)) & 255\n        }\n        nUint24 = 0\n      }\n    }\n  \n    return aBytes\n  }\n  \n  function uint6ToB64(nUint6) {\n    return nUint6 < 26\n      ? nUint6 + 65\n      : nUint6 < 52\n      ? nUint6 + 71\n      : nUint6 < 62\n      ? nUint6 - 4\n      : nUint6 === 62\n      ? 43\n      : nUint6 === 63\n      ? 47\n      : 65\n  }\n  \n  export function encodeFromArray(bytes) {\n    var eqLen = (3 - (bytes.length % 3)) % 3,\n      sB64Enc = ''\n  \n    for (\n      var nMod3, nLen = bytes.length, nUint24 = 0, nIdx = 0;\n      nIdx < nLen;\n      nIdx++\n    ) {\n      nMod3 = nIdx % 3\n      /* Uncomment the following line in order to split the output in lines 76-character long: */\n      /*\n      if (nIdx > 0 && (nIdx * 4 / 3) % 76 === 0) { sB64Enc += \"\\r\\n\"; }\n      */\n      nUint24 |= bytes[nIdx] << ((16 >>> nMod3) & 24)\n      if (nMod3 === 2 || bytes.length - nIdx === 1) {\n        sB64Enc += String.fromCharCode(\n          uint6ToB64((nUint24 >>> 18) & 63),\n          uint6ToB64((nUint24 >>> 12) & 63),\n          uint6ToB64((nUint24 >>> 6) & 63),\n          uint6ToB64(nUint24 & 63)\n        )\n        nUint24 = 0\n      }\n    }\n  \n    return eqLen === 0\n      ? sB64Enc\n      : sB64Enc.substring(0, sB64Enc.length - eqLen) + (eqLen === 1 ? '=' : '==')\n  }\n  \n  /**\n   * URL-safe variants of Base64 conversion functions (aka base64url)\n   * @see https://tools.ietf.org/html/rfc4648#section-5\n   */\n  \n  export function encodeFromArrayUrlSafe(bytes) {\n    return encodeURIComponent(\n      encodeFromArray(bytes)\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n    )\n  }\n  \n  export function decodeToArrayUrlSafe(base64string) {\n    return decodeToArray(\n      decodeURIComponent(base64string)\n        .replace(/-/g, '+')\n        .replace(/_/g, '/')\n    )\n  }\n  ","/* eslint-disable */\n\n/*\nThe LZMA impementation is taken from https://npm.is/lzma-js, converted to an ES module and with some features stripped off (e.g. async mode, worker support)\n\nHere's the according MIT license:\n\n© 2016 Nathan Rugg <nmrugg@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport * as base64 from './base64.js'\n\nconst __4294967296 = 4294967296,\n  N1_longLit = [4294967295, -__4294967296],\n  MIN_VALUE = [0, -9223372036854775808],\n  P0_longLit = [0, 0],\n  P1_longLit = [1, 0]\n\nfunction add(a, b) {\n  return create(a[0] + b[0], a[1] + b[1])\n}\n\nfunction initDim(len) {\n  // NOTE: This is MUCH faster than \"initDim(len)\" in newer versions of v8 (starting with Node.js 0.11.15, which uses v8 3.28.73).\n  var a = []\n  a[len - 1] = undefined\n  return a\n}\nfunction and(a, b) {\n  return makeFromBits(\n    ~~Math.max(Math.min(a[1] / __4294967296, 2147483647), -2147483648) &\n      ~~Math.max(Math.min(b[1] / __4294967296, 2147483647), -2147483648),\n    lowBits_0(a) & lowBits_0(b)\n  )\n}\nfunction compare(a, b) {\n  var nega, negb\n  if (a[0] == b[0] && a[1] == b[1]) {\n    return 0\n  }\n  nega = a[1] < 0\n  negb = b[1] < 0\n  if (nega && !negb) {\n    return -1\n  }\n  if (!nega && negb) {\n    return 1\n  }\n  if (sub(a, b)[1] < 0) {\n    return -1\n  }\n  return 1\n}\n\nfunction create(valueLow, valueHigh) {\n  var diffHigh, diffLow\n  valueHigh %= 1.8446744073709552e19\n  valueLow %= 1.8446744073709552e19\n  diffHigh = valueHigh % __4294967296\n  diffLow = Math.floor(valueLow / __4294967296) * __4294967296\n  valueHigh = valueHigh - diffHigh + diffLow\n  valueLow = valueLow - diffLow + diffHigh\n  while (valueLow < 0) {\n    valueLow += __4294967296\n    valueHigh -= __4294967296\n  }\n  while (valueLow > 4294967295) {\n    valueLow -= __4294967296\n    valueHigh += __4294967296\n  }\n  valueHigh = valueHigh % 1.8446744073709552e19\n  while (valueHigh > 9223372032559808512) {\n    valueHigh -= 1.8446744073709552e19\n  }\n  while (valueHigh < -9223372036854775808) {\n    valueHigh += 1.8446744073709552e19\n  }\n  return [valueLow, valueHigh]\n}\nfunction eq(a, b) {\n  return a[0] == b[0] && a[1] == b[1]\n}\nfunction fromInt(value) {\n  if (value >= 0) {\n    return [value, 0]\n  } else {\n    return [value + __4294967296, -__4294967296]\n  }\n}\n\nfunction lowBits_0(a) {\n  if (a[0] >= 2147483648) {\n    return ~~Math.max(Math.min(a[0] - __4294967296, 2147483647), -2147483648)\n  } else {\n    return ~~Math.max(Math.min(a[0], 2147483647), -2147483648)\n  }\n}\nfunction makeFromBits(highBits, lowBits) {\n  var high, low\n  high = highBits * __4294967296\n  low = lowBits\n  if (lowBits < 0) {\n    low += __4294967296\n  }\n  return [low, high]\n}\n\nfunction pwrAsDouble(n) {\n  if (n <= 30) {\n    return 1 << n\n  } else {\n    return pwrAsDouble(30) * pwrAsDouble(n - 30)\n  }\n}\n\nfunction shl(a, n) {\n  var diff, newHigh, newLow, twoToN\n  n &= 63\n  if (eq(a, MIN_VALUE)) {\n    if (!n) {\n      return a\n    }\n    return P0_longLit\n  }\n  if (a[1] < 0) {\n    throw new Error('Neg')\n  }\n  twoToN = pwrAsDouble(n)\n  newHigh = (a[1] * twoToN) % 1.8446744073709552e19\n  newLow = a[0] * twoToN\n  diff = newLow - (newLow % __4294967296)\n  newHigh += diff\n  newLow -= diff\n  if (newHigh >= 9223372036854775807) {\n    newHigh -= 1.8446744073709552e19\n  }\n  return [newLow, newHigh]\n}\n\nfunction shr(a, n) {\n  var shiftFact\n  n &= 63\n  shiftFact = pwrAsDouble(n)\n  return create(Math.floor(a[0] / shiftFact), a[1] / shiftFact)\n}\n\nfunction shru(a, n) {\n  var sr\n  n &= 63\n  sr = shr(a, n)\n  if (a[1] < 0) {\n    sr = add(sr, shl([2, 0], 63 - n))\n  }\n  return sr\n}\nfunction sub(a, b) {\n  return create(a[0] - b[0], a[1] - b[1])\n}\n\nfunction $ByteArrayInputStream(this$static, buf) {\n  this$static.buf = buf\n  this$static.pos = 0\n  this$static.count = buf.length\n  return this$static\n}\nfunction $read(this$static) {\n  if (this$static.pos >= this$static.count) return -1\n  return this$static.buf[this$static.pos++] & 255\n}\nfunction $read_0(this$static, buf, off, len) {\n  if (this$static.pos >= this$static.count) return -1\n  len = Math.min(len, this$static.count - this$static.pos)\n  arraycopy(this$static.buf, this$static.pos, buf, off, len)\n  this$static.pos += len\n  return len\n}\nfunction $ByteArrayOutputStream(this$static) {\n  this$static.buf = initDim(32)\n  this$static.count = 0\n  return this$static\n}\n\nfunction $toByteArray(this$static) {\n  var data = this$static.buf\n  data.length = this$static.count\n  return data\n}\nfunction $write(this$static, b) {\n  this$static.buf[this$static.count++] = (b << 24) >> 24\n}\nfunction $write_0(this$static, buf, off, len) {\n  arraycopy(buf, off, this$static.buf, this$static.count, len)\n  this$static.count += len\n}\nfunction $getChars(this$static, srcBegin, srcEnd, dst, dstBegin) {\n  var srcIdx\n  for (srcIdx = srcBegin; srcIdx < srcEnd; ++srcIdx) {\n    dst[dstBegin++] = this$static.charCodeAt(srcIdx)\n  }\n}\nfunction arraycopy(src, srcOfs, dest, destOfs, len) {\n  for (var i = 0; i < len; ++i) {\n    dest[destOfs + i] = src[srcOfs + i]\n  }\n}\nfunction $configure(this$static, encoder) {\n  $SetDictionarySize_0(encoder, 1 << this$static.s)\n  encoder._numFastBytes = this$static.f\n  $SetMatchFinder(encoder, this$static.m)\n\n  // lc is always 3\n  // lp is always 0\n  // pb is always 2\n  encoder._numLiteralPosStateBits = 0\n  encoder._numLiteralContextBits = 3\n  encoder._posStateBits = 2\n  encoder._posStateMask = 3\n}\n\nfunction $init(this$static, input, output, length_0, mode, enableEndMark) {\n  var encoder, i\n  if (compare(length_0, N1_longLit) < 0)\n    throw new Error('invalid length ' + length_0)\n  this$static.length_0 = length_0\n  encoder = $Encoder({})\n  $configure(mode, encoder)\n  encoder._writeEndMark = enableEndMark\n  $WriteCoderProperties(encoder, output)\n  for (i = 0; i < 64; i += 8) $write(output, lowBits_0(shr(length_0, i)) & 255)\n  this$static.chunker = ((encoder._needReleaseMFStream = 0),\n  ((encoder._inStream = input),\n  (encoder._finished = 0),\n  $Create_2(encoder),\n  (encoder._rangeEncoder.Stream = output),\n  $Init_4(encoder),\n  $FillDistancesPrices(encoder),\n  $FillAlignPrices(encoder),\n  (encoder._lenEncoder._tableSize = encoder._numFastBytes + 1 - 2),\n  $UpdateTables(encoder._lenEncoder, 1 << encoder._posStateBits),\n  (encoder._repMatchLenEncoder._tableSize = encoder._numFastBytes + 1 - 2),\n  $UpdateTables(encoder._repMatchLenEncoder, 1 << encoder._posStateBits),\n  (encoder.nowPos64 = P0_longLit),\n  undefined),\n  $Chunker_0({}, encoder))\n}\n\nfunction $LZMAByteArrayCompressor(this$static, data, mode, enableEndMark) {\n  this$static.output = $ByteArrayOutputStream({})\n  $init(\n    this$static,\n    $ByteArrayInputStream({}, data),\n    this$static.output,\n    fromInt(data.length),\n    mode,\n    enableEndMark\n  )\n  return this$static\n}\nfunction $init_0(this$static, input, output) {\n  var decoder,\n    hex_length = '',\n    i,\n    properties = [],\n    r,\n    tmp_length\n\n  for (i = 0; i < 5; ++i) {\n    r = $read(input)\n    if (r == -1) throw new Error('truncated input')\n    properties[i] = (r << 24) >> 24\n  }\n\n  decoder = $Decoder({})\n  if (!$SetDecoderProperties(decoder, properties)) {\n    throw new Error('corrupted input')\n  }\n  for (i = 0; i < 64; i += 8) {\n    r = $read(input)\n    if (r == -1) throw new Error('truncated input')\n    r = r.toString(16)\n    if (r.length == 1) r = '0' + r\n    hex_length = r + '' + hex_length\n  }\n\n  // Was the length set in the header (if it was compressed from a stream, the length is all f\"s).\n  if (/^0+$|^f+$/i.test(hex_length)) {\n    // The length is unknown, so set to -1.\n    this$static.length_0 = N1_longLit\n  } else {\n    // NOTE: If there is a problem with the decoder because of the length, you can always set the length to -1 (N1_longLit) which means unknown.\n    tmp_length = parseInt(hex_length, 16)\n    // If the length is too long to handle, just set it to unknown.\n    if (tmp_length > 4294967295) {\n      this$static.length_0 = N1_longLit\n    } else {\n      this$static.length_0 = fromInt(tmp_length)\n    }\n  }\n\n  this$static.chunker = $CodeInChunks(\n    decoder,\n    input,\n    output,\n    this$static.length_0\n  )\n}\n\nfunction $LZMAByteArrayDecompressor(this$static, data) {\n  this$static.output = $ByteArrayOutputStream({})\n  $init_0(this$static, $ByteArrayInputStream({}, data), this$static.output)\n  return this$static\n}\nfunction $Create_4(this$static, keepSizeBefore, keepSizeAfter, keepSizeReserv) {\n  var blockSize\n  this$static._keepSizeBefore = keepSizeBefore\n  this$static._keepSizeAfter = keepSizeAfter\n  blockSize = keepSizeBefore + keepSizeAfter + keepSizeReserv\n  if (this$static._bufferBase == null || this$static._blockSize != blockSize) {\n    this$static._bufferBase = null\n    this$static._blockSize = blockSize\n    this$static._bufferBase = initDim(this$static._blockSize)\n  }\n  this$static._pointerToLastSafePosition =\n    this$static._blockSize - keepSizeAfter\n}\n\nfunction $GetIndexByte(this$static, index) {\n  return this$static._bufferBase[\n    this$static._bufferOffset + this$static._pos + index\n  ]\n}\n\nfunction $GetMatchLen(this$static, index, distance, limit) {\n  var i, pby\n  if (this$static._streamEndWasReached) {\n    if (this$static._pos + index + limit > this$static._streamPos) {\n      limit = this$static._streamPos - (this$static._pos + index)\n    }\n  }\n  ++distance\n  pby = this$static._bufferOffset + this$static._pos + index\n  for (\n    i = 0;\n    i < limit &&\n    this$static._bufferBase[pby + i] ==\n      this$static._bufferBase[pby + i - distance];\n    ++i\n  ) {}\n  return i\n}\n\nfunction $GetNumAvailableBytes(this$static) {\n  return this$static._streamPos - this$static._pos\n}\n\nfunction $MoveBlock(this$static) {\n  var i, numBytes, offset\n  offset =\n    this$static._bufferOffset + this$static._pos - this$static._keepSizeBefore\n  if (offset > 0) {\n    --offset\n  }\n  numBytes = this$static._bufferOffset + this$static._streamPos - offset\n  for (i = 0; i < numBytes; ++i) {\n    this$static._bufferBase[i] = this$static._bufferBase[offset + i]\n  }\n  this$static._bufferOffset -= offset\n}\n\nfunction $MovePos_1(this$static) {\n  var pointerToPostion\n  ++this$static._pos\n  if (this$static._pos > this$static._posLimit) {\n    pointerToPostion = this$static._bufferOffset + this$static._pos\n    if (pointerToPostion > this$static._pointerToLastSafePosition) {\n      $MoveBlock(this$static)\n    }\n    $ReadBlock(this$static)\n  }\n}\n\nfunction $ReadBlock(this$static) {\n  var numReadBytes, pointerToPostion, size\n  if (this$static._streamEndWasReached) return\n  while (1) {\n    size =\n      -this$static._bufferOffset +\n      this$static._blockSize -\n      this$static._streamPos\n    if (!size) return\n    numReadBytes = $read_0(\n      this$static._stream,\n      this$static._bufferBase,\n      this$static._bufferOffset + this$static._streamPos,\n      size\n    )\n    if (numReadBytes == -1) {\n      this$static._posLimit = this$static._streamPos\n      pointerToPostion = this$static._bufferOffset + this$static._posLimit\n      if (pointerToPostion > this$static._pointerToLastSafePosition) {\n        this$static._posLimit =\n          this$static._pointerToLastSafePosition - this$static._bufferOffset\n      }\n      this$static._streamEndWasReached = 1\n      return\n    }\n    this$static._streamPos += numReadBytes\n    if (\n      this$static._streamPos >=\n      this$static._pos + this$static._keepSizeAfter\n    ) {\n      this$static._posLimit =\n        this$static._streamPos - this$static._keepSizeAfter\n    }\n  }\n}\n\nfunction $ReduceOffsets(this$static, subValue) {\n  this$static._bufferOffset += subValue\n  this$static._posLimit -= subValue\n  this$static._pos -= subValue\n  this$static._streamPos -= subValue\n}\n\nvar CrcTable = (function() {\n  var i,\n    j,\n    r,\n    CrcTable = []\n  for (i = 0; i < 256; ++i) {\n    r = i\n    for (j = 0; j < 8; ++j)\n      if ((r & 1) != 0) {\n        r = (r >>> 1) ^ -306674912\n      } else {\n        r >>>= 1\n      }\n    CrcTable[i] = r\n  }\n  return CrcTable\n})()\n\nfunction $Create_3(\n  this$static,\n  historySize,\n  keepAddBufferBefore,\n  matchMaxLen,\n  keepAddBufferAfter\n) {\n  var cyclicBufferSize, hs, windowReservSize\n  if (historySize < 1073741567) {\n    this$static._cutValue = 16 + (matchMaxLen >> 1)\n    windowReservSize =\n      ~~(\n        (historySize + keepAddBufferBefore + matchMaxLen + keepAddBufferAfter) /\n        2\n      ) + 256\n    $Create_4(\n      this$static,\n      historySize + keepAddBufferBefore,\n      matchMaxLen + keepAddBufferAfter,\n      windowReservSize\n    )\n    this$static._matchMaxLen = matchMaxLen\n    cyclicBufferSize = historySize + 1\n    if (this$static._cyclicBufferSize != cyclicBufferSize) {\n      this$static._son = initDim(\n        (this$static._cyclicBufferSize = cyclicBufferSize) * 2\n      )\n    }\n\n    hs = 65536\n    if (this$static.HASH_ARRAY) {\n      hs = historySize - 1\n      hs |= hs >> 1\n      hs |= hs >> 2\n      hs |= hs >> 4\n      hs |= hs >> 8\n      hs >>= 1\n      hs |= 65535\n      if (hs > 16777216) hs >>= 1\n      this$static._hashMask = hs\n      ++hs\n      hs += this$static.kFixHashSize\n    }\n\n    if (hs != this$static._hashSizeSum) {\n      this$static._hash = initDim((this$static._hashSizeSum = hs))\n    }\n  }\n}\n\nfunction $GetMatches(this$static, distances) {\n  var count,\n    cur,\n    curMatch,\n    curMatch2,\n    curMatch3,\n    cyclicPos,\n    delta,\n    hash2Value,\n    hash3Value,\n    hashValue,\n    len,\n    len0,\n    len1,\n    lenLimit,\n    matchMinPos,\n    maxLen,\n    offset,\n    pby1,\n    ptr0,\n    ptr1,\n    temp\n  if (this$static._pos + this$static._matchMaxLen <= this$static._streamPos) {\n    lenLimit = this$static._matchMaxLen\n  } else {\n    lenLimit = this$static._streamPos - this$static._pos\n    if (lenLimit < this$static.kMinMatchCheck) {\n      $MovePos_0(this$static)\n      return 0\n    }\n  }\n  offset = 0\n  matchMinPos =\n    this$static._pos > this$static._cyclicBufferSize\n      ? this$static._pos - this$static._cyclicBufferSize\n      : 0\n  cur = this$static._bufferOffset + this$static._pos\n  maxLen = 1\n  hash2Value = 0\n  hash3Value = 0\n  if (this$static.HASH_ARRAY) {\n    temp =\n      CrcTable[this$static._bufferBase[cur] & 255] ^\n      (this$static._bufferBase[cur + 1] & 255)\n    hash2Value = temp & 1023\n    temp ^= (this$static._bufferBase[cur + 2] & 255) << 8\n    hash3Value = temp & 65535\n    hashValue =\n      (temp ^ (CrcTable[this$static._bufferBase[cur + 3] & 255] << 5)) &\n      this$static._hashMask\n  } else {\n    hashValue =\n      (this$static._bufferBase[cur] & 255) ^\n      ((this$static._bufferBase[cur + 1] & 255) << 8)\n  }\n\n  curMatch = this$static._hash[this$static.kFixHashSize + hashValue] || 0\n  if (this$static.HASH_ARRAY) {\n    curMatch2 = this$static._hash[hash2Value] || 0\n    curMatch3 = this$static._hash[1024 + hash3Value] || 0\n    this$static._hash[hash2Value] = this$static._pos\n    this$static._hash[1024 + hash3Value] = this$static._pos\n    if (curMatch2 > matchMinPos) {\n      if (\n        this$static._bufferBase[this$static._bufferOffset + curMatch2] ==\n        this$static._bufferBase[cur]\n      ) {\n        distances[offset++] = maxLen = 2\n        distances[offset++] = this$static._pos - curMatch2 - 1\n      }\n    }\n    if (curMatch3 > matchMinPos) {\n      if (\n        this$static._bufferBase[this$static._bufferOffset + curMatch3] ==\n        this$static._bufferBase[cur]\n      ) {\n        if (curMatch3 == curMatch2) {\n          offset -= 2\n        }\n        distances[offset++] = maxLen = 3\n        distances[offset++] = this$static._pos - curMatch3 - 1\n        curMatch2 = curMatch3\n      }\n    }\n    if (offset != 0 && curMatch2 == curMatch) {\n      offset -= 2\n      maxLen = 1\n    }\n  }\n  this$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos\n  ptr0 = (this$static._cyclicBufferPos << 1) + 1\n  ptr1 = this$static._cyclicBufferPos << 1\n  len0 = len1 = this$static.kNumHashDirectBytes\n  if (this$static.kNumHashDirectBytes != 0) {\n    if (curMatch > matchMinPos) {\n      if (\n        this$static._bufferBase[\n          this$static._bufferOffset + curMatch + this$static.kNumHashDirectBytes\n        ] != this$static._bufferBase[cur + this$static.kNumHashDirectBytes]\n      ) {\n        distances[offset++] = maxLen = this$static.kNumHashDirectBytes\n        distances[offset++] = this$static._pos - curMatch - 1\n      }\n    }\n  }\n  count = this$static._cutValue\n  while (1) {\n    if (curMatch <= matchMinPos || count-- == 0) {\n      this$static._son[ptr0] = this$static._son[ptr1] = 0\n      break\n    }\n    delta = this$static._pos - curMatch\n    cyclicPos =\n      (delta <= this$static._cyclicBufferPos\n        ? this$static._cyclicBufferPos - delta\n        : this$static._cyclicBufferPos -\n          delta +\n          this$static._cyclicBufferSize) << 1\n    pby1 = this$static._bufferOffset + curMatch\n    len = len0 < len1 ? len0 : len1\n    if (\n      this$static._bufferBase[pby1 + len] == this$static._bufferBase[cur + len]\n    ) {\n      while (++len != lenLimit) {\n        if (\n          this$static._bufferBase[pby1 + len] !=\n          this$static._bufferBase[cur + len]\n        ) {\n          break\n        }\n      }\n      if (maxLen < len) {\n        distances[offset++] = maxLen = len\n        distances[offset++] = delta - 1\n        if (len == lenLimit) {\n          this$static._son[ptr1] = this$static._son[cyclicPos]\n          this$static._son[ptr0] = this$static._son[cyclicPos + 1]\n          break\n        }\n      }\n    }\n    if (\n      (this$static._bufferBase[pby1 + len] & 255) <\n      (this$static._bufferBase[cur + len] & 255)\n    ) {\n      this$static._son[ptr1] = curMatch\n      ptr1 = cyclicPos + 1\n      curMatch = this$static._son[ptr1]\n      len1 = len\n    } else {\n      this$static._son[ptr0] = curMatch\n      ptr0 = cyclicPos\n      curMatch = this$static._son[ptr0]\n      len0 = len\n    }\n  }\n  $MovePos_0(this$static)\n  return offset\n}\n\nfunction $Init_5(this$static) {\n  this$static._bufferOffset = 0\n  this$static._pos = 0\n  this$static._streamPos = 0\n  this$static._streamEndWasReached = 0\n  $ReadBlock(this$static)\n  this$static._cyclicBufferPos = 0\n  $ReduceOffsets(this$static, -1)\n}\n\nfunction $MovePos_0(this$static) {\n  var subValue\n  if (++this$static._cyclicBufferPos >= this$static._cyclicBufferSize) {\n    this$static._cyclicBufferPos = 0\n  }\n  $MovePos_1(this$static)\n  if (this$static._pos == 1073741823) {\n    subValue = this$static._pos - this$static._cyclicBufferSize\n    $NormalizeLinks(\n      this$static._son,\n      this$static._cyclicBufferSize * 2,\n      subValue\n    )\n    $NormalizeLinks(this$static._hash, this$static._hashSizeSum, subValue)\n    $ReduceOffsets(this$static, subValue)\n  }\n}\n\n// NOTE: This is only called after reading one whole gigabyte.\nfunction $NormalizeLinks(items, numItems, subValue) {\n  var i, value\n  for (i = 0; i < numItems; ++i) {\n    value = items[i] || 0\n    if (value <= subValue) {\n      value = 0\n    } else {\n      value -= subValue\n    }\n    items[i] = value\n  }\n}\n\nfunction $SetType(this$static, numHashBytes) {\n  this$static.HASH_ARRAY = numHashBytes > 2\n  if (this$static.HASH_ARRAY) {\n    this$static.kNumHashDirectBytes = 0\n    this$static.kMinMatchCheck = 4\n    this$static.kFixHashSize = 66560\n  } else {\n    this$static.kNumHashDirectBytes = 2\n    this$static.kMinMatchCheck = 3\n    this$static.kFixHashSize = 0\n  }\n}\n\nfunction $Skip(this$static, num) {\n  var count,\n    cur,\n    curMatch,\n    cyclicPos,\n    delta,\n    hash2Value,\n    hash3Value,\n    hashValue,\n    len,\n    len0,\n    len1,\n    lenLimit,\n    matchMinPos,\n    pby1,\n    ptr0,\n    ptr1,\n    temp\n  do {\n    if (this$static._pos + this$static._matchMaxLen <= this$static._streamPos) {\n      lenLimit = this$static._matchMaxLen\n    } else {\n      lenLimit = this$static._streamPos - this$static._pos\n      if (lenLimit < this$static.kMinMatchCheck) {\n        $MovePos_0(this$static)\n        continue\n      }\n    }\n    matchMinPos =\n      this$static._pos > this$static._cyclicBufferSize\n        ? this$static._pos - this$static._cyclicBufferSize\n        : 0\n    cur = this$static._bufferOffset + this$static._pos\n    if (this$static.HASH_ARRAY) {\n      temp =\n        CrcTable[this$static._bufferBase[cur] & 255] ^\n        (this$static._bufferBase[cur + 1] & 255)\n      hash2Value = temp & 1023\n      this$static._hash[hash2Value] = this$static._pos\n      temp ^= (this$static._bufferBase[cur + 2] & 255) << 8\n      hash3Value = temp & 65535\n      this$static._hash[1024 + hash3Value] = this$static._pos\n      hashValue =\n        (temp ^ (CrcTable[this$static._bufferBase[cur + 3] & 255] << 5)) &\n        this$static._hashMask\n    } else {\n      hashValue =\n        (this$static._bufferBase[cur] & 255) ^\n        ((this$static._bufferBase[cur + 1] & 255) << 8)\n    }\n    curMatch = this$static._hash[this$static.kFixHashSize + hashValue]\n    this$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos\n    ptr0 = (this$static._cyclicBufferPos << 1) + 1\n    ptr1 = this$static._cyclicBufferPos << 1\n    len0 = len1 = this$static.kNumHashDirectBytes\n    count = this$static._cutValue\n    while (1) {\n      if (curMatch <= matchMinPos || count-- == 0) {\n        this$static._son[ptr0] = this$static._son[ptr1] = 0\n        break\n      }\n      delta = this$static._pos - curMatch\n      cyclicPos =\n        (delta <= this$static._cyclicBufferPos\n          ? this$static._cyclicBufferPos - delta\n          : this$static._cyclicBufferPos -\n            delta +\n            this$static._cyclicBufferSize) << 1\n      pby1 = this$static._bufferOffset + curMatch\n      len = len0 < len1 ? len0 : len1\n      if (\n        this$static._bufferBase[pby1 + len] ==\n        this$static._bufferBase[cur + len]\n      ) {\n        while (++len != lenLimit) {\n          if (\n            this$static._bufferBase[pby1 + len] !=\n            this$static._bufferBase[cur + len]\n          ) {\n            break\n          }\n        }\n        if (len == lenLimit) {\n          this$static._son[ptr1] = this$static._son[cyclicPos]\n          this$static._son[ptr0] = this$static._son[cyclicPos + 1]\n          break\n        }\n      }\n      if (\n        (this$static._bufferBase[pby1 + len] & 255) <\n        (this$static._bufferBase[cur + len] & 255)\n      ) {\n        this$static._son[ptr1] = curMatch\n        ptr1 = cyclicPos + 1\n        curMatch = this$static._son[ptr1]\n        len1 = len\n      } else {\n        this$static._son[ptr0] = curMatch\n        ptr0 = cyclicPos\n        curMatch = this$static._son[ptr0]\n        len0 = len\n      }\n    }\n    $MovePos_0(this$static)\n  } while (--num != 0)\n}\nfunction $CopyBlock(this$static, distance, len) {\n  var pos = this$static._pos - distance - 1\n  if (pos < 0) {\n    pos += this$static._windowSize\n  }\n  for (; len != 0; --len) {\n    if (pos >= this$static._windowSize) {\n      pos = 0\n    }\n    this$static._buffer[this$static._pos++] = this$static._buffer[pos++]\n    if (this$static._pos >= this$static._windowSize) {\n      $Flush_0(this$static)\n    }\n  }\n}\n\nfunction $Create_5(this$static, windowSize) {\n  if (this$static._buffer == null || this$static._windowSize != windowSize) {\n    this$static._buffer = initDim(windowSize)\n  }\n  this$static._windowSize = windowSize\n  this$static._pos = 0\n  this$static._streamPos = 0\n}\n\nfunction $Flush_0(this$static) {\n  var size = this$static._pos - this$static._streamPos\n  if (!size) {\n    return\n  }\n  $write_0(\n    this$static._stream,\n    this$static._buffer,\n    this$static._streamPos,\n    size\n  )\n  if (this$static._pos >= this$static._windowSize) {\n    this$static._pos = 0\n  }\n  this$static._streamPos = this$static._pos\n}\n\nfunction $GetByte(this$static, distance) {\n  var pos = this$static._pos - distance - 1\n  if (pos < 0) {\n    pos += this$static._windowSize\n  }\n  return this$static._buffer[pos]\n}\n\nfunction $PutByte(this$static, b) {\n  this$static._buffer[this$static._pos++] = b\n  if (this$static._pos >= this$static._windowSize) {\n    $Flush_0(this$static)\n  }\n}\n\nfunction $ReleaseStream(this$static) {\n  $Flush_0(this$static)\n  this$static._stream = null\n}\nfunction GetLenToPosState(len) {\n  len -= 2\n  if (len < 4) {\n    return len\n  }\n  return 3\n}\n\nfunction StateUpdateChar(index) {\n  if (index < 4) {\n    return 0\n  }\n  if (index < 10) {\n    return index - 3\n  }\n  return index - 6\n}\nfunction $Chunker_0(this$static, encoder) {\n  this$static.encoder = encoder\n  this$static.decoder = null\n  this$static.alive = 1\n  return this$static\n}\nfunction $Chunker(this$static, decoder) {\n  this$static.decoder = decoder\n  this$static.encoder = null\n  this$static.alive = 1\n  return this$static\n}\nfunction $processChunk(this$static) {\n  if (!this$static.alive) {\n    throw new Error('bad state')\n  }\n\n  if (this$static.encoder) {\n    $processEncoderChunk(this$static)\n  } else {\n    $processDecoderChunk(this$static)\n  }\n\n  return this$static.alive\n}\nfunction $processDecoderChunk(this$static) {\n  var result = $CodeOneChunk(this$static.decoder)\n  if (result == -1) {\n    throw new Error('corrupted input')\n  }\n  this$static.inBytesProcessed = N1_longLit\n  this$static.outBytesProcessed = this$static.decoder.nowPos64\n  if (\n    result ||\n    (compare(this$static.decoder.outSize, P0_longLit) >= 0 &&\n      compare(this$static.decoder.nowPos64, this$static.decoder.outSize) >= 0)\n  ) {\n    $Flush_0(this$static.decoder.m_OutWindow)\n    $ReleaseStream(this$static.decoder.m_OutWindow)\n    this$static.decoder.m_RangeDecoder.Stream = null\n    this$static.alive = 0\n  }\n}\nfunction $processEncoderChunk(this$static) {\n  $CodeOneBlock(\n    this$static.encoder,\n    this$static.encoder.processedInSize,\n    this$static.encoder.processedOutSize,\n    this$static.encoder.finished\n  )\n  this$static.inBytesProcessed = this$static.encoder.processedInSize[0]\n  if (this$static.encoder.finished[0]) {\n    $ReleaseStreams(this$static.encoder)\n    this$static.alive = 0\n  }\n}\nfunction $CodeInChunks(this$static, inStream, outStream, outSize) {\n  this$static.m_RangeDecoder.Stream = inStream\n  $ReleaseStream(this$static.m_OutWindow)\n  this$static.m_OutWindow._stream = outStream\n  $Init_1(this$static)\n  this$static.state = 0\n  this$static.rep0 = 0\n  this$static.rep1 = 0\n  this$static.rep2 = 0\n  this$static.rep3 = 0\n  this$static.outSize = outSize\n  this$static.nowPos64 = P0_longLit\n  this$static.prevByte = 0\n  return $Chunker({}, this$static)\n}\n\nfunction $CodeOneChunk(this$static) {\n  var decoder2, distance, len, numDirectBits, posSlot, posState\n  posState = lowBits_0(this$static.nowPos64) & this$static.m_PosStateMask\n  if (\n    !$DecodeBit(\n      this$static.m_RangeDecoder,\n      this$static.m_IsMatchDecoders,\n      (this$static.state << 4) + posState\n    )\n  ) {\n    decoder2 = $GetDecoder(\n      this$static.m_LiteralDecoder,\n      lowBits_0(this$static.nowPos64),\n      this$static.prevByte\n    )\n    if (this$static.state < 7) {\n      this$static.prevByte = $DecodeNormal(decoder2, this$static.m_RangeDecoder)\n    } else {\n      this$static.prevByte = $DecodeWithMatchByte(\n        decoder2,\n        this$static.m_RangeDecoder,\n        $GetByte(this$static.m_OutWindow, this$static.rep0)\n      )\n    }\n    $PutByte(this$static.m_OutWindow, this$static.prevByte)\n    this$static.state = StateUpdateChar(this$static.state)\n    this$static.nowPos64 = add(this$static.nowPos64, P1_longLit)\n  } else {\n    if (\n      $DecodeBit(\n        this$static.m_RangeDecoder,\n        this$static.m_IsRepDecoders,\n        this$static.state\n      )\n    ) {\n      len = 0\n      if (\n        !$DecodeBit(\n          this$static.m_RangeDecoder,\n          this$static.m_IsRepG0Decoders,\n          this$static.state\n        )\n      ) {\n        if (\n          !$DecodeBit(\n            this$static.m_RangeDecoder,\n            this$static.m_IsRep0LongDecoders,\n            (this$static.state << 4) + posState\n          )\n        ) {\n          this$static.state = this$static.state < 7 ? 9 : 11\n          len = 1\n        }\n      } else {\n        if (\n          !$DecodeBit(\n            this$static.m_RangeDecoder,\n            this$static.m_IsRepG1Decoders,\n            this$static.state\n          )\n        ) {\n          distance = this$static.rep1\n        } else {\n          if (\n            !$DecodeBit(\n              this$static.m_RangeDecoder,\n              this$static.m_IsRepG2Decoders,\n              this$static.state\n            )\n          ) {\n            distance = this$static.rep2\n          } else {\n            distance = this$static.rep3\n            this$static.rep3 = this$static.rep2\n          }\n          this$static.rep2 = this$static.rep1\n        }\n        this$static.rep1 = this$static.rep0\n        this$static.rep0 = distance\n      }\n      if (!len) {\n        len =\n          $Decode(\n            this$static.m_RepLenDecoder,\n            this$static.m_RangeDecoder,\n            posState\n          ) + 2\n        this$static.state = this$static.state < 7 ? 8 : 11\n      }\n    } else {\n      this$static.rep3 = this$static.rep2\n      this$static.rep2 = this$static.rep1\n      this$static.rep1 = this$static.rep0\n      len =\n        2 +\n        $Decode(this$static.m_LenDecoder, this$static.m_RangeDecoder, posState)\n      this$static.state = this$static.state < 7 ? 7 : 10\n      posSlot = $Decode_0(\n        this$static.m_PosSlotDecoder[GetLenToPosState(len)],\n        this$static.m_RangeDecoder\n      )\n      if (posSlot >= 4) {\n        numDirectBits = (posSlot >> 1) - 1\n        this$static.rep0 = (2 | (posSlot & 1)) << numDirectBits\n        if (posSlot < 14) {\n          this$static.rep0 += ReverseDecode(\n            this$static.m_PosDecoders,\n            this$static.rep0 - posSlot - 1,\n            this$static.m_RangeDecoder,\n            numDirectBits\n          )\n        } else {\n          this$static.rep0 +=\n            $DecodeDirectBits(this$static.m_RangeDecoder, numDirectBits - 4) <<\n            4\n          this$static.rep0 += $ReverseDecode(\n            this$static.m_PosAlignDecoder,\n            this$static.m_RangeDecoder\n          )\n          if (this$static.rep0 < 0) {\n            if (this$static.rep0 == -1) {\n              return 1\n            }\n            return -1\n          }\n        }\n      } else this$static.rep0 = posSlot\n    }\n    if (\n      compare(fromInt(this$static.rep0), this$static.nowPos64) >= 0 ||\n      this$static.rep0 >= this$static.m_DictionarySizeCheck\n    ) {\n      return -1\n    }\n    $CopyBlock(this$static.m_OutWindow, this$static.rep0, len)\n    this$static.nowPos64 = add(this$static.nowPos64, fromInt(len))\n    this$static.prevByte = $GetByte(this$static.m_OutWindow, 0)\n  }\n  return 0\n}\n\nfunction $Decoder(this$static) {\n  this$static.m_OutWindow = {}\n  this$static.m_RangeDecoder = {}\n  this$static.m_IsMatchDecoders = initDim(192)\n  this$static.m_IsRepDecoders = initDim(12)\n  this$static.m_IsRepG0Decoders = initDim(12)\n  this$static.m_IsRepG1Decoders = initDim(12)\n  this$static.m_IsRepG2Decoders = initDim(12)\n  this$static.m_IsRep0LongDecoders = initDim(192)\n  this$static.m_PosSlotDecoder = initDim(4)\n  this$static.m_PosDecoders = initDim(114)\n  this$static.m_PosAlignDecoder = $BitTreeDecoder({}, 4)\n  this$static.m_LenDecoder = $Decoder$LenDecoder({})\n  this$static.m_RepLenDecoder = $Decoder$LenDecoder({})\n  this$static.m_LiteralDecoder = {}\n  for (var i = 0; i < 4; ++i) {\n    this$static.m_PosSlotDecoder[i] = $BitTreeDecoder({}, 6)\n  }\n  return this$static\n}\n\nfunction $Init_1(this$static) {\n  this$static.m_OutWindow._streamPos = 0\n  this$static.m_OutWindow._pos = 0\n  InitBitModels(this$static.m_IsMatchDecoders)\n  InitBitModels(this$static.m_IsRep0LongDecoders)\n  InitBitModels(this$static.m_IsRepDecoders)\n  InitBitModels(this$static.m_IsRepG0Decoders)\n  InitBitModels(this$static.m_IsRepG1Decoders)\n  InitBitModels(this$static.m_IsRepG2Decoders)\n  InitBitModels(this$static.m_PosDecoders)\n  $Init_0(this$static.m_LiteralDecoder)\n  for (var i = 0; i < 4; ++i) {\n    InitBitModels(this$static.m_PosSlotDecoder[i].Models)\n  }\n  $Init(this$static.m_LenDecoder)\n  $Init(this$static.m_RepLenDecoder)\n  InitBitModels(this$static.m_PosAlignDecoder.Models)\n  $Init_8(this$static.m_RangeDecoder)\n}\n\nfunction $SetDecoderProperties(this$static, properties) {\n  var dictionarySize, i, lc, lp, pb, remainder, val\n  if (properties.length < 5) return 0\n  val = properties[0] & 255\n  lc = val % 9\n  remainder = ~~(val / 9)\n  lp = remainder % 5\n  pb = ~~(remainder / 5)\n  dictionarySize = 0\n  for (i = 0; i < 4; ++i) {\n    dictionarySize += (properties[1 + i] & 255) << (i * 8)\n  }\n  // NOTE: If the input is bad, it might call for an insanely large dictionary size, which would crash the script.\n  if (dictionarySize > 99999999 || !$SetLcLpPb(this$static, lc, lp, pb)) {\n    return 0\n  }\n  return $SetDictionarySize(this$static, dictionarySize)\n}\n\nfunction $SetDictionarySize(this$static, dictionarySize) {\n  if (dictionarySize < 0) {\n    return 0\n  }\n  if (this$static.m_DictionarySize != dictionarySize) {\n    this$static.m_DictionarySize = dictionarySize\n    this$static.m_DictionarySizeCheck = Math.max(\n      this$static.m_DictionarySize,\n      1\n    )\n    $Create_5(\n      this$static.m_OutWindow,\n      Math.max(this$static.m_DictionarySizeCheck, 4096)\n    )\n  }\n  return 1\n}\n\nfunction $SetLcLpPb(this$static, lc, lp, pb) {\n  if (lc > 8 || lp > 4 || pb > 4) {\n    return 0\n  }\n  $Create_0(this$static.m_LiteralDecoder, lp, lc)\n  var numPosStates = 1 << pb\n  $Create(this$static.m_LenDecoder, numPosStates)\n  $Create(this$static.m_RepLenDecoder, numPosStates)\n  this$static.m_PosStateMask = numPosStates - 1\n  return 1\n}\n\nfunction $Create(this$static, numPosStates) {\n  for (\n    ;\n    this$static.m_NumPosStates < numPosStates;\n    ++this$static.m_NumPosStates\n  ) {\n    this$static.m_LowCoder[this$static.m_NumPosStates] = $BitTreeDecoder({}, 3)\n    this$static.m_MidCoder[this$static.m_NumPosStates] = $BitTreeDecoder({}, 3)\n  }\n}\n\nfunction $Decode(this$static, rangeDecoder, posState) {\n  if (!$DecodeBit(rangeDecoder, this$static.m_Choice, 0)) {\n    return $Decode_0(this$static.m_LowCoder[posState], rangeDecoder)\n  }\n  var symbol = 8\n  if (!$DecodeBit(rangeDecoder, this$static.m_Choice, 1)) {\n    symbol += $Decode_0(this$static.m_MidCoder[posState], rangeDecoder)\n  } else {\n    symbol += 8 + $Decode_0(this$static.m_HighCoder, rangeDecoder)\n  }\n  return symbol\n}\n\nfunction $Decoder$LenDecoder(this$static) {\n  this$static.m_Choice = initDim(2)\n  this$static.m_LowCoder = initDim(16)\n  this$static.m_MidCoder = initDim(16)\n  this$static.m_HighCoder = $BitTreeDecoder({}, 8)\n  this$static.m_NumPosStates = 0\n  return this$static\n}\n\nfunction $Init(this$static) {\n  InitBitModels(this$static.m_Choice)\n  for (var posState = 0; posState < this$static.m_NumPosStates; ++posState) {\n    InitBitModels(this$static.m_LowCoder[posState].Models)\n    InitBitModels(this$static.m_MidCoder[posState].Models)\n  }\n  InitBitModels(this$static.m_HighCoder.Models)\n}\n\nfunction $Create_0(this$static, numPosBits, numPrevBits) {\n  var i, numStates\n  if (\n    this$static.m_Coders != null &&\n    this$static.m_NumPrevBits == numPrevBits &&\n    this$static.m_NumPosBits == numPosBits\n  )\n    return\n  this$static.m_NumPosBits = numPosBits\n  this$static.m_PosMask = (1 << numPosBits) - 1\n  this$static.m_NumPrevBits = numPrevBits\n  numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  this$static.m_Coders = initDim(numStates)\n  for (i = 0; i < numStates; ++i)\n    this$static.m_Coders[i] = $Decoder$LiteralDecoder$Decoder2({})\n}\n\nfunction $GetDecoder(this$static, pos, prevByte) {\n  return this$static.m_Coders[\n    ((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) +\n      ((prevByte & 255) >>> (8 - this$static.m_NumPrevBits))\n  ]\n}\n\nfunction $Init_0(this$static) {\n  var i, numStates\n  numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  for (i = 0; i < numStates; ++i) {\n    InitBitModels(this$static.m_Coders[i].m_Decoders)\n  }\n}\n\nfunction $DecodeNormal(this$static, rangeDecoder) {\n  var symbol = 1\n  do {\n    symbol =\n      (symbol << 1) | $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol)\n  } while (symbol < 256)\n  return (symbol << 24) >> 24\n}\n\nfunction $DecodeWithMatchByte(this$static, rangeDecoder, matchByte) {\n  var bit,\n    matchBit,\n    symbol = 1\n  do {\n    matchBit = (matchByte >> 7) & 1\n    matchByte <<= 1\n    bit = $DecodeBit(\n      rangeDecoder,\n      this$static.m_Decoders,\n      ((1 + matchBit) << 8) + symbol\n    )\n    symbol = (symbol << 1) | bit\n    if (matchBit != bit) {\n      while (symbol < 256) {\n        symbol =\n          (symbol << 1) |\n          $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol)\n      }\n      break\n    }\n  } while (symbol < 256)\n  return (symbol << 24) >> 24\n}\n\nfunction $Decoder$LiteralDecoder$Decoder2(this$static) {\n  this$static.m_Decoders = initDim(768)\n  return this$static\n}\nvar g_FastPos = (function() {\n  var j,\n    k,\n    slotFast,\n    c = 2,\n    g_FastPos = [0, 1]\n  for (slotFast = 2; slotFast < 22; ++slotFast) {\n    k = 1 << ((slotFast >> 1) - 1)\n    for (j = 0; j < k; ++j, ++c) g_FastPos[c] = (slotFast << 24) >> 24\n  }\n  return g_FastPos\n})()\n\nfunction $Backward(this$static, cur) {\n  var backCur, backMem, posMem, posPrev\n  this$static._optimumEndIndex = cur\n  posMem = this$static._optimum[cur].PosPrev\n  backMem = this$static._optimum[cur].BackPrev\n  do {\n    if (this$static._optimum[cur].Prev1IsChar) {\n      $MakeAsChar(this$static._optimum[posMem])\n      this$static._optimum[posMem].PosPrev = posMem - 1\n      if (this$static._optimum[cur].Prev2) {\n        this$static._optimum[posMem - 1].Prev1IsChar = 0\n        this$static._optimum[posMem - 1].PosPrev =\n          this$static._optimum[cur].PosPrev2\n        this$static._optimum[posMem - 1].BackPrev =\n          this$static._optimum[cur].BackPrev2\n      }\n    }\n    posPrev = posMem\n    backCur = backMem\n    backMem = this$static._optimum[posPrev].BackPrev\n    posMem = this$static._optimum[posPrev].PosPrev\n    this$static._optimum[posPrev].BackPrev = backCur\n    this$static._optimum[posPrev].PosPrev = cur\n    cur = posPrev\n  } while (cur > 0)\n  this$static.backRes = this$static._optimum[0].BackPrev\n  this$static._optimumCurrentIndex = this$static._optimum[0].PosPrev\n  return this$static._optimumCurrentIndex\n}\n\nfunction $BaseInit(this$static) {\n  this$static._state = 0\n  this$static._previousByte = 0\n  for (var i = 0; i < 4; ++i) {\n    this$static._repDistances[i] = 0\n  }\n}\n\nfunction $CodeOneBlock(this$static, inSize, outSize, finished) {\n  var baseVal,\n    complexState,\n    curByte,\n    distance,\n    footerBits,\n    i,\n    len,\n    lenToPosState,\n    matchByte,\n    pos,\n    posReduced,\n    posSlot,\n    posState,\n    progressPosValuePrev,\n    subCoder\n  inSize[0] = P0_longLit\n  outSize[0] = P0_longLit\n  finished[0] = 1\n  if (this$static._inStream) {\n    this$static._matchFinder._stream = this$static._inStream\n    $Init_5(this$static._matchFinder)\n    this$static._needReleaseMFStream = 1\n    this$static._inStream = null\n  }\n  if (this$static._finished) {\n    return\n  }\n  this$static._finished = 1\n  progressPosValuePrev = this$static.nowPos64\n  if (eq(this$static.nowPos64, P0_longLit)) {\n    if (!$GetNumAvailableBytes(this$static._matchFinder)) {\n      $Flush(this$static, lowBits_0(this$static.nowPos64))\n      return\n    }\n    $ReadMatchDistances(this$static)\n    posState = lowBits_0(this$static.nowPos64) & this$static._posStateMask\n    $Encode_3(\n      this$static._rangeEncoder,\n      this$static._isMatch,\n      (this$static._state << 4) + posState,\n      0\n    )\n    this$static._state = StateUpdateChar(this$static._state)\n    curByte = $GetIndexByte(\n      this$static._matchFinder,\n      -this$static._additionalOffset\n    )\n    $Encode_1(\n      $GetSubCoder(\n        this$static._literalEncoder,\n        lowBits_0(this$static.nowPos64),\n        this$static._previousByte\n      ),\n      this$static._rangeEncoder,\n      curByte\n    )\n    this$static._previousByte = curByte\n    --this$static._additionalOffset\n    this$static.nowPos64 = add(this$static.nowPos64, P1_longLit)\n  }\n  if (!$GetNumAvailableBytes(this$static._matchFinder)) {\n    $Flush(this$static, lowBits_0(this$static.nowPos64))\n    return\n  }\n  while (1) {\n    len = $GetOptimum(this$static, lowBits_0(this$static.nowPos64))\n    pos = this$static.backRes\n    posState = lowBits_0(this$static.nowPos64) & this$static._posStateMask\n    complexState = (this$static._state << 4) + posState\n    if (len == 1 && pos == -1) {\n      $Encode_3(\n        this$static._rangeEncoder,\n        this$static._isMatch,\n        complexState,\n        0\n      )\n      curByte = $GetIndexByte(\n        this$static._matchFinder,\n        -this$static._additionalOffset\n      )\n      subCoder = $GetSubCoder(\n        this$static._literalEncoder,\n        lowBits_0(this$static.nowPos64),\n        this$static._previousByte\n      )\n      if (this$static._state < 7) {\n        $Encode_1(subCoder, this$static._rangeEncoder, curByte)\n      } else {\n        matchByte = $GetIndexByte(\n          this$static._matchFinder,\n          -this$static._repDistances[0] - 1 - this$static._additionalOffset\n        )\n        $EncodeMatched(subCoder, this$static._rangeEncoder, matchByte, curByte)\n      }\n      this$static._previousByte = curByte\n      this$static._state = StateUpdateChar(this$static._state)\n    } else {\n      $Encode_3(\n        this$static._rangeEncoder,\n        this$static._isMatch,\n        complexState,\n        1\n      )\n      if (pos < 4) {\n        $Encode_3(\n          this$static._rangeEncoder,\n          this$static._isRep,\n          this$static._state,\n          1\n        )\n        if (!pos) {\n          $Encode_3(\n            this$static._rangeEncoder,\n            this$static._isRepG0,\n            this$static._state,\n            0\n          )\n          if (len == 1) {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRep0Long,\n              complexState,\n              0\n            )\n          } else {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRep0Long,\n              complexState,\n              1\n            )\n          }\n        } else {\n          $Encode_3(\n            this$static._rangeEncoder,\n            this$static._isRepG0,\n            this$static._state,\n            1\n          )\n          if (pos == 1) {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRepG1,\n              this$static._state,\n              0\n            )\n          } else {\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRepG1,\n              this$static._state,\n              1\n            )\n            $Encode_3(\n              this$static._rangeEncoder,\n              this$static._isRepG2,\n              this$static._state,\n              pos - 2\n            )\n          }\n        }\n        if (len == 1) {\n          this$static._state = this$static._state < 7 ? 9 : 11\n        } else {\n          $Encode_0(\n            this$static._repMatchLenEncoder,\n            this$static._rangeEncoder,\n            len - 2,\n            posState\n          )\n          this$static._state = this$static._state < 7 ? 8 : 11\n        }\n        distance = this$static._repDistances[pos]\n        if (pos != 0) {\n          for (i = pos; i >= 1; --i) {\n            this$static._repDistances[i] = this$static._repDistances[i - 1]\n          }\n          this$static._repDistances[0] = distance\n        }\n      } else {\n        $Encode_3(\n          this$static._rangeEncoder,\n          this$static._isRep,\n          this$static._state,\n          0\n        )\n        this$static._state = this$static._state < 7 ? 7 : 10\n        $Encode_0(\n          this$static._lenEncoder,\n          this$static._rangeEncoder,\n          len - 2,\n          posState\n        )\n        pos -= 4\n        posSlot = GetPosSlot(pos)\n        lenToPosState = GetLenToPosState(len)\n        $Encode_2(\n          this$static._posSlotEncoder[lenToPosState],\n          this$static._rangeEncoder,\n          posSlot\n        )\n        if (posSlot >= 4) {\n          footerBits = (posSlot >> 1) - 1\n          baseVal = (2 | (posSlot & 1)) << footerBits\n          posReduced = pos - baseVal\n          if (posSlot < 14) {\n            ReverseEncode(\n              this$static._posEncoders,\n              baseVal - posSlot - 1,\n              this$static._rangeEncoder,\n              footerBits,\n              posReduced\n            )\n          } else {\n            $EncodeDirectBits(\n              this$static._rangeEncoder,\n              posReduced >> 4,\n              footerBits - 4\n            )\n            $ReverseEncode(\n              this$static._posAlignEncoder,\n              this$static._rangeEncoder,\n              posReduced & 15\n            )\n            ++this$static._alignPriceCount\n          }\n        }\n        distance = pos\n        for (i = 3; i >= 1; --i) {\n          this$static._repDistances[i] = this$static._repDistances[i - 1]\n        }\n        this$static._repDistances[0] = distance\n        ++this$static._matchPriceCount\n      }\n      this$static._previousByte = $GetIndexByte(\n        this$static._matchFinder,\n        len - 1 - this$static._additionalOffset\n      )\n    }\n    this$static._additionalOffset -= len\n    this$static.nowPos64 = add(this$static.nowPos64, fromInt(len))\n    if (!this$static._additionalOffset) {\n      if (this$static._matchPriceCount >= 128) {\n        $FillDistancesPrices(this$static)\n      }\n      if (this$static._alignPriceCount >= 16) {\n        $FillAlignPrices(this$static)\n      }\n      inSize[0] = this$static.nowPos64\n      outSize[0] = $GetProcessedSizeAdd(this$static._rangeEncoder)\n      if (!$GetNumAvailableBytes(this$static._matchFinder)) {\n        $Flush(this$static, lowBits_0(this$static.nowPos64))\n        return\n      }\n      if (\n        compare(sub(this$static.nowPos64, progressPosValuePrev), [4096, 0]) >= 0\n      ) {\n        this$static._finished = 0\n        finished[0] = 0\n        return\n      }\n    }\n  }\n}\n\nfunction $Create_2(this$static) {\n  var bt, numHashBytes\n  if (!this$static._matchFinder) {\n    bt = {}\n    numHashBytes = 4\n    if (!this$static._matchFinderType) {\n      numHashBytes = 2\n    }\n    $SetType(bt, numHashBytes)\n    this$static._matchFinder = bt\n  }\n  $Create_1(\n    this$static._literalEncoder,\n    this$static._numLiteralPosStateBits,\n    this$static._numLiteralContextBits\n  )\n  if (\n    this$static._dictionarySize == this$static._dictionarySizePrev &&\n    this$static._numFastBytesPrev == this$static._numFastBytes\n  ) {\n    return\n  }\n  $Create_3(\n    this$static._matchFinder,\n    this$static._dictionarySize,\n    4096,\n    this$static._numFastBytes,\n    274\n  )\n  this$static._dictionarySizePrev = this$static._dictionarySize\n  this$static._numFastBytesPrev = this$static._numFastBytes\n}\n\nfunction $Encoder(this$static) {\n  var i\n  this$static._repDistances = initDim(4)\n  this$static._optimum = []\n  this$static._rangeEncoder = {}\n  this$static._isMatch = initDim(192)\n  this$static._isRep = initDim(12)\n  this$static._isRepG0 = initDim(12)\n  this$static._isRepG1 = initDim(12)\n  this$static._isRepG2 = initDim(12)\n  this$static._isRep0Long = initDim(192)\n  this$static._posSlotEncoder = []\n  this$static._posEncoders = initDim(114)\n  this$static._posAlignEncoder = $BitTreeEncoder({}, 4)\n  this$static._lenEncoder = $Encoder$LenPriceTableEncoder({})\n  this$static._repMatchLenEncoder = $Encoder$LenPriceTableEncoder({})\n  this$static._literalEncoder = {}\n  this$static._matchDistances = []\n  this$static._posSlotPrices = []\n  this$static._distancesPrices = []\n  this$static._alignPrices = initDim(16)\n  this$static.reps = initDim(4)\n  this$static.repLens = initDim(4)\n  this$static.processedInSize = [P0_longLit]\n  this$static.processedOutSize = [P0_longLit]\n  this$static.finished = [0]\n  this$static.properties = initDim(5)\n  this$static.tempPrices = initDim(128)\n  this$static._longestMatchLength = 0\n  this$static._matchFinderType = 1\n  this$static._numDistancePairs = 0\n  this$static._numFastBytesPrev = -1\n  this$static.backRes = 0\n  for (i = 0; i < 4096; ++i) {\n    this$static._optimum[i] = {}\n  }\n  for (i = 0; i < 4; ++i) {\n    this$static._posSlotEncoder[i] = $BitTreeEncoder({}, 6)\n  }\n  return this$static\n}\n\nfunction $FillAlignPrices(this$static) {\n  for (var i = 0; i < 16; ++i) {\n    this$static._alignPrices[i] = $ReverseGetPrice(\n      this$static._posAlignEncoder,\n      i\n    )\n  }\n  this$static._alignPriceCount = 0\n}\n\nfunction $FillDistancesPrices(this$static) {\n  var baseVal, encoder, footerBits, i, lenToPosState, posSlot, st, st2\n  for (i = 4; i < 128; ++i) {\n    posSlot = GetPosSlot(i)\n    footerBits = (posSlot >> 1) - 1\n    baseVal = (2 | (posSlot & 1)) << footerBits\n    this$static.tempPrices[i] = ReverseGetPrice(\n      this$static._posEncoders,\n      baseVal - posSlot - 1,\n      footerBits,\n      i - baseVal\n    )\n  }\n  for (lenToPosState = 0; lenToPosState < 4; ++lenToPosState) {\n    encoder = this$static._posSlotEncoder[lenToPosState]\n    st = lenToPosState << 6\n    for (posSlot = 0; posSlot < this$static._distTableSize; ++posSlot) {\n      this$static._posSlotPrices[st + posSlot] = $GetPrice_1(encoder, posSlot)\n    }\n    for (posSlot = 14; posSlot < this$static._distTableSize; ++posSlot) {\n      this$static._posSlotPrices[st + posSlot] += ((posSlot >> 1) - 1 - 4) << 6\n    }\n    st2 = lenToPosState * 128\n    for (i = 0; i < 4; ++i) {\n      this$static._distancesPrices[st2 + i] = this$static._posSlotPrices[st + i]\n    }\n    for (; i < 128; ++i) {\n      this$static._distancesPrices[st2 + i] =\n        this$static._posSlotPrices[st + GetPosSlot(i)] +\n        this$static.tempPrices[i]\n    }\n  }\n  this$static._matchPriceCount = 0\n}\n\nfunction $Flush(this$static, nowPos) {\n  $ReleaseMFStream(this$static)\n  $WriteEndMarker(this$static, nowPos & this$static._posStateMask)\n  for (var i = 0; i < 5; ++i) {\n    $ShiftLow(this$static._rangeEncoder)\n  }\n}\n\nfunction $GetOptimum(this$static, position) {\n  var cur,\n    curAnd1Price,\n    curAndLenCharPrice,\n    curAndLenPrice,\n    curBack,\n    curPrice,\n    currentByte,\n    distance,\n    i,\n    len,\n    lenEnd,\n    lenMain,\n    lenRes,\n    lenTest,\n    lenTest2,\n    lenTestTemp,\n    matchByte,\n    matchPrice,\n    newLen,\n    nextIsChar,\n    nextMatchPrice,\n    nextOptimum,\n    nextRepMatchPrice,\n    normalMatchPrice,\n    numAvailableBytes,\n    numAvailableBytesFull,\n    numDistancePairs,\n    offs,\n    offset,\n    opt,\n    optimum,\n    pos,\n    posPrev,\n    posState,\n    posStateNext,\n    price_4,\n    repIndex,\n    repLen,\n    repMatchPrice,\n    repMaxIndex,\n    shortRepPrice,\n    startLen,\n    state,\n    state2,\n    t,\n    price,\n    price_0,\n    price_1,\n    price_2,\n    price_3\n  if (this$static._optimumEndIndex != this$static._optimumCurrentIndex) {\n    lenRes =\n      this$static._optimum[this$static._optimumCurrentIndex].PosPrev -\n      this$static._optimumCurrentIndex\n    this$static.backRes =\n      this$static._optimum[this$static._optimumCurrentIndex].BackPrev\n    this$static._optimumCurrentIndex =\n      this$static._optimum[this$static._optimumCurrentIndex].PosPrev\n    return lenRes\n  }\n  this$static._optimumCurrentIndex = this$static._optimumEndIndex = 0\n  if (this$static._longestMatchWasFound) {\n    lenMain = this$static._longestMatchLength\n    this$static._longestMatchWasFound = 0\n  } else {\n    lenMain = $ReadMatchDistances(this$static)\n  }\n  numDistancePairs = this$static._numDistancePairs\n  numAvailableBytes = $GetNumAvailableBytes(this$static._matchFinder) + 1\n  if (numAvailableBytes < 2) {\n    this$static.backRes = -1\n    return 1\n  }\n  if (numAvailableBytes > 273) {\n    numAvailableBytes = 273\n  }\n  repMaxIndex = 0\n  for (i = 0; i < 4; ++i) {\n    this$static.reps[i] = this$static._repDistances[i]\n    this$static.repLens[i] = $GetMatchLen(\n      this$static._matchFinder,\n      -1,\n      this$static.reps[i],\n      273\n    )\n    if (this$static.repLens[i] > this$static.repLens[repMaxIndex]) {\n      repMaxIndex = i\n    }\n  }\n  if (this$static.repLens[repMaxIndex] >= this$static._numFastBytes) {\n    this$static.backRes = repMaxIndex\n    lenRes = this$static.repLens[repMaxIndex]\n    $MovePos(this$static, lenRes - 1)\n    return lenRes\n  }\n  if (lenMain >= this$static._numFastBytes) {\n    this$static.backRes = this$static._matchDistances[numDistancePairs - 1] + 4\n    $MovePos(this$static, lenMain - 1)\n    return lenMain\n  }\n  currentByte = $GetIndexByte(this$static._matchFinder, -1)\n  matchByte = $GetIndexByte(\n    this$static._matchFinder,\n    -this$static._repDistances[0] - 1 - 1\n  )\n  if (\n    lenMain < 2 &&\n    currentByte != matchByte &&\n    this$static.repLens[repMaxIndex] < 2\n  ) {\n    this$static.backRes = -1\n    return 1\n  }\n  this$static._optimum[0].State = this$static._state\n  posState = position & this$static._posStateMask\n  this$static._optimum[1].Price =\n    ProbPrices[\n      this$static._isMatch[(this$static._state << 4) + posState] >>> 2\n    ] +\n    $GetPrice_0(\n      $GetSubCoder(\n        this$static._literalEncoder,\n        position,\n        this$static._previousByte\n      ),\n      this$static._state >= 7,\n      matchByte,\n      currentByte\n    )\n  $MakeAsChar(this$static._optimum[1])\n  matchPrice =\n    ProbPrices[\n      (2048 - this$static._isMatch[(this$static._state << 4) + posState]) >>> 2\n    ]\n  repMatchPrice =\n    matchPrice +\n    ProbPrices[(2048 - this$static._isRep[this$static._state]) >>> 2]\n  if (matchByte == currentByte) {\n    shortRepPrice =\n      repMatchPrice +\n      $GetRepLen1Price(this$static, this$static._state, posState)\n    if (shortRepPrice < this$static._optimum[1].Price) {\n      this$static._optimum[1].Price = shortRepPrice\n      $MakeAsShortRep(this$static._optimum[1])\n    }\n  }\n  lenEnd =\n    lenMain >= this$static.repLens[repMaxIndex]\n      ? lenMain\n      : this$static.repLens[repMaxIndex]\n  if (lenEnd < 2) {\n    this$static.backRes = this$static._optimum[1].BackPrev\n    return 1\n  }\n  this$static._optimum[1].PosPrev = 0\n  this$static._optimum[0].Backs0 = this$static.reps[0]\n  this$static._optimum[0].Backs1 = this$static.reps[1]\n  this$static._optimum[0].Backs2 = this$static.reps[2]\n  this$static._optimum[0].Backs3 = this$static.reps[3]\n  len = lenEnd\n  do {\n    this$static._optimum[len--].Price = 268435455\n  } while (len >= 2)\n  for (i = 0; i < 4; ++i) {\n    repLen = this$static.repLens[i]\n    if (repLen < 2) {\n      continue\n    }\n    price_4 =\n      repMatchPrice +\n      $GetPureRepPrice(this$static, i, this$static._state, posState)\n    do {\n      curAndLenPrice =\n        price_4 +\n        $GetPrice(this$static._repMatchLenEncoder, repLen - 2, posState)\n      optimum = this$static._optimum[repLen]\n      if (curAndLenPrice < optimum.Price) {\n        optimum.Price = curAndLenPrice\n        optimum.PosPrev = 0\n        optimum.BackPrev = i\n        optimum.Prev1IsChar = 0\n      }\n    } while (--repLen >= 2)\n  }\n  normalMatchPrice =\n    matchPrice + ProbPrices[this$static._isRep[this$static._state] >>> 2]\n  len = this$static.repLens[0] >= 2 ? this$static.repLens[0] + 1 : 2\n  if (len <= lenMain) {\n    offs = 0\n    while (len > this$static._matchDistances[offs]) {\n      offs += 2\n    }\n    for (; ; ++len) {\n      distance = this$static._matchDistances[offs + 1]\n      curAndLenPrice =\n        normalMatchPrice + $GetPosLenPrice(this$static, distance, len, posState)\n      optimum = this$static._optimum[len]\n      if (curAndLenPrice < optimum.Price) {\n        optimum.Price = curAndLenPrice\n        optimum.PosPrev = 0\n        optimum.BackPrev = distance + 4\n        optimum.Prev1IsChar = 0\n      }\n      if (len == this$static._matchDistances[offs]) {\n        offs += 2\n        if (offs == numDistancePairs) {\n          break\n        }\n      }\n    }\n  }\n  cur = 0\n  while (1) {\n    ++cur\n    if (cur == lenEnd) {\n      return $Backward(this$static, cur)\n    }\n    newLen = $ReadMatchDistances(this$static)\n    numDistancePairs = this$static._numDistancePairs\n    if (newLen >= this$static._numFastBytes) {\n      this$static._longestMatchLength = newLen\n      this$static._longestMatchWasFound = 1\n      return $Backward(this$static, cur)\n    }\n    ++position\n    posPrev = this$static._optimum[cur].PosPrev\n    if (this$static._optimum[cur].Prev1IsChar) {\n      --posPrev\n      if (this$static._optimum[cur].Prev2) {\n        state = this$static._optimum[this$static._optimum[cur].PosPrev2].State\n        if (this$static._optimum[cur].BackPrev2 < 4) {\n          state = state < 7 ? 8 : 11\n        } else {\n          state = state < 7 ? 7 : 10\n        }\n      } else {\n        state = this$static._optimum[posPrev].State\n      }\n      state = StateUpdateChar(state)\n    } else {\n      state = this$static._optimum[posPrev].State\n    }\n    if (posPrev == cur - 1) {\n      if (!this$static._optimum[cur].BackPrev) {\n        state = state < 7 ? 9 : 11\n      } else {\n        state = StateUpdateChar(state)\n      }\n    } else {\n      if (\n        this$static._optimum[cur].Prev1IsChar &&\n        this$static._optimum[cur].Prev2\n      ) {\n        posPrev = this$static._optimum[cur].PosPrev2\n        pos = this$static._optimum[cur].BackPrev2\n        state = state < 7 ? 8 : 11\n      } else {\n        pos = this$static._optimum[cur].BackPrev\n        if (pos < 4) {\n          state = state < 7 ? 8 : 11\n        } else {\n          state = state < 7 ? 7 : 10\n        }\n      }\n      opt = this$static._optimum[posPrev]\n      if (pos < 4) {\n        if (!pos) {\n          this$static.reps[0] = opt.Backs0\n          this$static.reps[1] = opt.Backs1\n          this$static.reps[2] = opt.Backs2\n          this$static.reps[3] = opt.Backs3\n        } else if (pos == 1) {\n          this$static.reps[0] = opt.Backs1\n          this$static.reps[1] = opt.Backs0\n          this$static.reps[2] = opt.Backs2\n          this$static.reps[3] = opt.Backs3\n        } else if (pos == 2) {\n          this$static.reps[0] = opt.Backs2\n          this$static.reps[1] = opt.Backs0\n          this$static.reps[2] = opt.Backs1\n          this$static.reps[3] = opt.Backs3\n        } else {\n          this$static.reps[0] = opt.Backs3\n          this$static.reps[1] = opt.Backs0\n          this$static.reps[2] = opt.Backs1\n          this$static.reps[3] = opt.Backs2\n        }\n      } else {\n        this$static.reps[0] = pos - 4\n        this$static.reps[1] = opt.Backs0\n        this$static.reps[2] = opt.Backs1\n        this$static.reps[3] = opt.Backs2\n      }\n    }\n    this$static._optimum[cur].State = state\n    this$static._optimum[cur].Backs0 = this$static.reps[0]\n    this$static._optimum[cur].Backs1 = this$static.reps[1]\n    this$static._optimum[cur].Backs2 = this$static.reps[2]\n    this$static._optimum[cur].Backs3 = this$static.reps[3]\n    curPrice = this$static._optimum[cur].Price\n    currentByte = $GetIndexByte(this$static._matchFinder, -1)\n    matchByte = $GetIndexByte(\n      this$static._matchFinder,\n      -this$static.reps[0] - 1 - 1\n    )\n    posState = position & this$static._posStateMask\n    curAnd1Price =\n      curPrice +\n      ProbPrices[this$static._isMatch[(state << 4) + posState] >>> 2] +\n      $GetPrice_0(\n        $GetSubCoder(\n          this$static._literalEncoder,\n          position,\n          $GetIndexByte(this$static._matchFinder, -2)\n        ),\n        state >= 7,\n        matchByte,\n        currentByte\n      )\n    nextOptimum = this$static._optimum[cur + 1]\n    nextIsChar = 0\n    if (curAnd1Price < nextOptimum.Price) {\n      nextOptimum.Price = curAnd1Price\n      nextOptimum.PosPrev = cur\n      nextOptimum.BackPrev = -1\n      nextOptimum.Prev1IsChar = 0\n      nextIsChar = 1\n    }\n    matchPrice =\n      curPrice +\n      ProbPrices[(2048 - this$static._isMatch[(state << 4) + posState]) >>> 2]\n    repMatchPrice =\n      matchPrice + ProbPrices[(2048 - this$static._isRep[state]) >>> 2]\n    if (\n      matchByte == currentByte &&\n      !(nextOptimum.PosPrev < cur && !nextOptimum.BackPrev)\n    ) {\n      shortRepPrice =\n        repMatchPrice +\n        (ProbPrices[this$static._isRepG0[state] >>> 2] +\n          ProbPrices[this$static._isRep0Long[(state << 4) + posState] >>> 2])\n      if (shortRepPrice <= nextOptimum.Price) {\n        nextOptimum.Price = shortRepPrice\n        nextOptimum.PosPrev = cur\n        nextOptimum.BackPrev = 0\n        nextOptimum.Prev1IsChar = 0\n        nextIsChar = 1\n      }\n    }\n    numAvailableBytesFull = $GetNumAvailableBytes(this$static._matchFinder) + 1\n    numAvailableBytesFull =\n      4095 - cur < numAvailableBytesFull ? 4095 - cur : numAvailableBytesFull\n    numAvailableBytes = numAvailableBytesFull\n    if (numAvailableBytes < 2) {\n      continue\n    }\n    if (numAvailableBytes > this$static._numFastBytes) {\n      numAvailableBytes = this$static._numFastBytes\n    }\n    if (!nextIsChar && matchByte != currentByte) {\n      t = Math.min(numAvailableBytesFull - 1, this$static._numFastBytes)\n      lenTest2 = $GetMatchLen(\n        this$static._matchFinder,\n        0,\n        this$static.reps[0],\n        t\n      )\n      if (lenTest2 >= 2) {\n        state2 = StateUpdateChar(state)\n        posStateNext = (position + 1) & this$static._posStateMask\n        nextRepMatchPrice =\n          curAnd1Price +\n          ProbPrices[\n            (2048 - this$static._isMatch[(state2 << 4) + posStateNext]) >>> 2\n          ] +\n          ProbPrices[(2048 - this$static._isRep[state2]) >>> 2]\n        offset = cur + 1 + lenTest2\n        while (lenEnd < offset) {\n          this$static._optimum[++lenEnd].Price = 268435455\n        }\n        curAndLenPrice =\n          nextRepMatchPrice +\n          ((price = $GetPrice(\n            this$static._repMatchLenEncoder,\n            lenTest2 - 2,\n            posStateNext\n          )),\n          price + $GetPureRepPrice(this$static, 0, state2, posStateNext))\n        optimum = this$static._optimum[offset]\n        if (curAndLenPrice < optimum.Price) {\n          optimum.Price = curAndLenPrice\n          optimum.PosPrev = cur + 1\n          optimum.BackPrev = 0\n          optimum.Prev1IsChar = 1\n          optimum.Prev2 = 0\n        }\n      }\n    }\n    startLen = 2\n    for (repIndex = 0; repIndex < 4; ++repIndex) {\n      lenTest = $GetMatchLen(\n        this$static._matchFinder,\n        -1,\n        this$static.reps[repIndex],\n        numAvailableBytes\n      )\n      if (lenTest < 2) {\n        continue\n      }\n      lenTestTemp = lenTest\n      do {\n        while (lenEnd < cur + lenTest) {\n          this$static._optimum[++lenEnd].Price = 268435455\n        }\n        curAndLenPrice =\n          repMatchPrice +\n          ((price_0 = $GetPrice(\n            this$static._repMatchLenEncoder,\n            lenTest - 2,\n            posState\n          )),\n          price_0 + $GetPureRepPrice(this$static, repIndex, state, posState))\n        optimum = this$static._optimum[cur + lenTest]\n        if (curAndLenPrice < optimum.Price) {\n          optimum.Price = curAndLenPrice\n          optimum.PosPrev = cur\n          optimum.BackPrev = repIndex\n          optimum.Prev1IsChar = 0\n        }\n      } while (--lenTest >= 2)\n      lenTest = lenTestTemp\n      if (!repIndex) {\n        startLen = lenTest + 1\n      }\n      if (lenTest < numAvailableBytesFull) {\n        t = Math.min(\n          numAvailableBytesFull - 1 - lenTest,\n          this$static._numFastBytes\n        )\n        lenTest2 = $GetMatchLen(\n          this$static._matchFinder,\n          lenTest,\n          this$static.reps[repIndex],\n          t\n        )\n        if (lenTest2 >= 2) {\n          state2 = state < 7 ? 8 : 11\n          posStateNext = (position + lenTest) & this$static._posStateMask\n          curAndLenCharPrice =\n            repMatchPrice +\n            ((price_1 = $GetPrice(\n              this$static._repMatchLenEncoder,\n              lenTest - 2,\n              posState\n            )),\n            price_1 +\n              $GetPureRepPrice(this$static, repIndex, state, posState)) +\n            ProbPrices[\n              this$static._isMatch[(state2 << 4) + posStateNext] >>> 2\n            ] +\n            $GetPrice_0(\n              $GetSubCoder(\n                this$static._literalEncoder,\n                position + lenTest,\n                $GetIndexByte(this$static._matchFinder, lenTest - 1 - 1)\n              ),\n              1,\n              $GetIndexByte(\n                this$static._matchFinder,\n                lenTest - 1 - (this$static.reps[repIndex] + 1)\n              ),\n              $GetIndexByte(this$static._matchFinder, lenTest - 1)\n            )\n          state2 = StateUpdateChar(state2)\n          posStateNext = (position + lenTest + 1) & this$static._posStateMask\n          nextMatchPrice =\n            curAndLenCharPrice +\n            ProbPrices[\n              (2048 - this$static._isMatch[(state2 << 4) + posStateNext]) >>> 2\n            ]\n          nextRepMatchPrice =\n            nextMatchPrice +\n            ProbPrices[(2048 - this$static._isRep[state2]) >>> 2]\n          offset = lenTest + 1 + lenTest2\n          while (lenEnd < cur + offset) {\n            this$static._optimum[++lenEnd].Price = 268435455\n          }\n          curAndLenPrice =\n            nextRepMatchPrice +\n            ((price_2 = $GetPrice(\n              this$static._repMatchLenEncoder,\n              lenTest2 - 2,\n              posStateNext\n            )),\n            price_2 + $GetPureRepPrice(this$static, 0, state2, posStateNext))\n          optimum = this$static._optimum[cur + offset]\n          if (curAndLenPrice < optimum.Price) {\n            optimum.Price = curAndLenPrice\n            optimum.PosPrev = cur + lenTest + 1\n            optimum.BackPrev = 0\n            optimum.Prev1IsChar = 1\n            optimum.Prev2 = 1\n            optimum.PosPrev2 = cur\n            optimum.BackPrev2 = repIndex\n          }\n        }\n      }\n    }\n    if (newLen > numAvailableBytes) {\n      newLen = numAvailableBytes\n      for (\n        numDistancePairs = 0;\n        newLen > this$static._matchDistances[numDistancePairs];\n        numDistancePairs += 2\n      ) {}\n      this$static._matchDistances[numDistancePairs] = newLen\n      numDistancePairs += 2\n    }\n    if (newLen >= startLen) {\n      normalMatchPrice =\n        matchPrice + ProbPrices[this$static._isRep[state] >>> 2]\n      while (lenEnd < cur + newLen) {\n        this$static._optimum[++lenEnd].Price = 268435455\n      }\n      offs = 0\n      while (startLen > this$static._matchDistances[offs]) {\n        offs += 2\n      }\n      for (lenTest = startLen; ; ++lenTest) {\n        curBack = this$static._matchDistances[offs + 1]\n        curAndLenPrice =\n          normalMatchPrice +\n          $GetPosLenPrice(this$static, curBack, lenTest, posState)\n        optimum = this$static._optimum[cur + lenTest]\n        if (curAndLenPrice < optimum.Price) {\n          optimum.Price = curAndLenPrice\n          optimum.PosPrev = cur\n          optimum.BackPrev = curBack + 4\n          optimum.Prev1IsChar = 0\n        }\n        if (lenTest == this$static._matchDistances[offs]) {\n          if (lenTest < numAvailableBytesFull) {\n            t = Math.min(\n              numAvailableBytesFull - 1 - lenTest,\n              this$static._numFastBytes\n            )\n            lenTest2 = $GetMatchLen(\n              this$static._matchFinder,\n              lenTest,\n              curBack,\n              t\n            )\n            if (lenTest2 >= 2) {\n              state2 = state < 7 ? 7 : 10\n              posStateNext = (position + lenTest) & this$static._posStateMask\n              curAndLenCharPrice =\n                curAndLenPrice +\n                ProbPrices[\n                  this$static._isMatch[(state2 << 4) + posStateNext] >>> 2\n                ] +\n                $GetPrice_0(\n                  $GetSubCoder(\n                    this$static._literalEncoder,\n                    position + lenTest,\n                    $GetIndexByte(this$static._matchFinder, lenTest - 1 - 1)\n                  ),\n                  1,\n                  $GetIndexByte(\n                    this$static._matchFinder,\n                    lenTest - (curBack + 1) - 1\n                  ),\n                  $GetIndexByte(this$static._matchFinder, lenTest - 1)\n                )\n              state2 = StateUpdateChar(state2)\n              posStateNext =\n                (position + lenTest + 1) & this$static._posStateMask\n              nextMatchPrice =\n                curAndLenCharPrice +\n                ProbPrices[\n                  (2048 -\n                    this$static._isMatch[(state2 << 4) + posStateNext]) >>>\n                    2\n                ]\n              nextRepMatchPrice =\n                nextMatchPrice +\n                ProbPrices[(2048 - this$static._isRep[state2]) >>> 2]\n              offset = lenTest + 1 + lenTest2\n              while (lenEnd < cur + offset) {\n                this$static._optimum[++lenEnd].Price = 268435455\n              }\n              curAndLenPrice =\n                nextRepMatchPrice +\n                ((price_3 = $GetPrice(\n                  this$static._repMatchLenEncoder,\n                  lenTest2 - 2,\n                  posStateNext\n                )),\n                price_3 +\n                  $GetPureRepPrice(this$static, 0, state2, posStateNext))\n              optimum = this$static._optimum[cur + offset]\n              if (curAndLenPrice < optimum.Price) {\n                optimum.Price = curAndLenPrice\n                optimum.PosPrev = cur + lenTest + 1\n                optimum.BackPrev = 0\n                optimum.Prev1IsChar = 1\n                optimum.Prev2 = 1\n                optimum.PosPrev2 = cur\n                optimum.BackPrev2 = curBack + 4\n              }\n            }\n          }\n          offs += 2\n          if (offs == numDistancePairs) break\n        }\n      }\n    }\n  }\n}\n\nfunction $GetPosLenPrice(this$static, pos, len, posState) {\n  var price,\n    lenToPosState = GetLenToPosState(len)\n  if (pos < 128) {\n    price = this$static._distancesPrices[lenToPosState * 128 + pos]\n  } else {\n    price =\n      this$static._posSlotPrices[(lenToPosState << 6) + GetPosSlot2(pos)] +\n      this$static._alignPrices[pos & 15]\n  }\n  return price + $GetPrice(this$static._lenEncoder, len - 2, posState)\n}\n\nfunction $GetPureRepPrice(this$static, repIndex, state, posState) {\n  var price\n  if (!repIndex) {\n    price = ProbPrices[this$static._isRepG0[state] >>> 2]\n    price +=\n      ProbPrices[\n        (2048 - this$static._isRep0Long[(state << 4) + posState]) >>> 2\n      ]\n  } else {\n    price = ProbPrices[(2048 - this$static._isRepG0[state]) >>> 2]\n    if (repIndex == 1) {\n      price += ProbPrices[this$static._isRepG1[state] >>> 2]\n    } else {\n      price += ProbPrices[(2048 - this$static._isRepG1[state]) >>> 2]\n      price += GetPrice(this$static._isRepG2[state], repIndex - 2)\n    }\n  }\n  return price\n}\n\nfunction $GetRepLen1Price(this$static, state, posState) {\n  return (\n    ProbPrices[this$static._isRepG0[state] >>> 2] +\n    ProbPrices[this$static._isRep0Long[(state << 4) + posState] >>> 2]\n  )\n}\n\nfunction $Init_4(this$static) {\n  $BaseInit(this$static)\n  $Init_9(this$static._rangeEncoder)\n  InitBitModels(this$static._isMatch)\n  InitBitModels(this$static._isRep0Long)\n  InitBitModels(this$static._isRep)\n  InitBitModels(this$static._isRepG0)\n  InitBitModels(this$static._isRepG1)\n  InitBitModels(this$static._isRepG2)\n  InitBitModels(this$static._posEncoders)\n  $Init_3(this$static._literalEncoder)\n  for (var i = 0; i < 4; ++i) {\n    InitBitModels(this$static._posSlotEncoder[i].Models)\n  }\n  $Init_2(this$static._lenEncoder, 1 << this$static._posStateBits)\n  $Init_2(this$static._repMatchLenEncoder, 1 << this$static._posStateBits)\n  InitBitModels(this$static._posAlignEncoder.Models)\n  this$static._longestMatchWasFound = 0\n  this$static._optimumEndIndex = 0\n  this$static._optimumCurrentIndex = 0\n  this$static._additionalOffset = 0\n}\n\nfunction $MovePos(this$static, num) {\n  if (num > 0) {\n    $Skip(this$static._matchFinder, num)\n    this$static._additionalOffset += num\n  }\n}\n\nfunction $ReadMatchDistances(this$static) {\n  var lenRes = 0\n  this$static._numDistancePairs = $GetMatches(\n    this$static._matchFinder,\n    this$static._matchDistances\n  )\n  if (this$static._numDistancePairs > 0) {\n    lenRes = this$static._matchDistances[this$static._numDistancePairs - 2]\n    if (lenRes == this$static._numFastBytes)\n      lenRes += $GetMatchLen(\n        this$static._matchFinder,\n        lenRes - 1,\n        this$static._matchDistances[this$static._numDistancePairs - 1],\n        273 - lenRes\n      )\n  }\n  ++this$static._additionalOffset\n  return lenRes\n}\n\nfunction $ReleaseMFStream(this$static) {\n  if (this$static._matchFinder && this$static._needReleaseMFStream) {\n    this$static._matchFinder._stream = null\n    this$static._needReleaseMFStream = 0\n  }\n}\n\nfunction $ReleaseStreams(this$static) {\n  $ReleaseMFStream(this$static)\n  this$static._rangeEncoder.Stream = null\n}\n\nfunction $SetDictionarySize_0(this$static, dictionarySize) {\n  this$static._dictionarySize = dictionarySize\n  for (var dicLogSize = 0; dictionarySize > 1 << dicLogSize; ++dicLogSize) {}\n  this$static._distTableSize = dicLogSize * 2\n}\n\nfunction $SetMatchFinder(this$static, matchFinderIndex) {\n  var matchFinderIndexPrev = this$static._matchFinderType\n  this$static._matchFinderType = matchFinderIndex\n  if (\n    this$static._matchFinder &&\n    matchFinderIndexPrev != this$static._matchFinderType\n  ) {\n    this$static._dictionarySizePrev = -1\n    this$static._matchFinder = null\n  }\n}\n\nfunction $WriteCoderProperties(this$static, outStream) {\n  this$static.properties[0] =\n    (((this$static._posStateBits * 5 + this$static._numLiteralPosStateBits) *\n      9 +\n      this$static._numLiteralContextBits) <<\n      24) >>\n    24\n  for (var i = 0; i < 4; ++i) {\n    this$static.properties[1 + i] =\n      ((this$static._dictionarySize >> (8 * i)) << 24) >> 24\n  }\n  $write_0(outStream, this$static.properties, 0, 5)\n}\n\nfunction $WriteEndMarker(this$static, posState) {\n  if (!this$static._writeEndMark) {\n    return\n  }\n  $Encode_3(\n    this$static._rangeEncoder,\n    this$static._isMatch,\n    (this$static._state << 4) + posState,\n    1\n  )\n  $Encode_3(\n    this$static._rangeEncoder,\n    this$static._isRep,\n    this$static._state,\n    0\n  )\n  this$static._state = this$static._state < 7 ? 7 : 10\n  $Encode_0(this$static._lenEncoder, this$static._rangeEncoder, 0, posState)\n  var lenToPosState = GetLenToPosState(2)\n  $Encode_2(\n    this$static._posSlotEncoder[lenToPosState],\n    this$static._rangeEncoder,\n    63\n  )\n  $EncodeDirectBits(this$static._rangeEncoder, 67108863, 26)\n  $ReverseEncode(this$static._posAlignEncoder, this$static._rangeEncoder, 15)\n}\n\nfunction GetPosSlot(pos) {\n  if (pos < 2048) {\n    return g_FastPos[pos]\n  }\n  if (pos < 2097152) {\n    return g_FastPos[pos >> 10] + 20\n  }\n  return g_FastPos[pos >> 20] + 40\n}\n\nfunction GetPosSlot2(pos) {\n  if (pos < 131072) {\n    return g_FastPos[pos >> 6] + 12\n  }\n  if (pos < 134217728) {\n    return g_FastPos[pos >> 16] + 32\n  }\n  return g_FastPos[pos >> 26] + 52\n}\n\nfunction $Encode(this$static, rangeEncoder, symbol, posState) {\n  if (symbol < 8) {\n    $Encode_3(rangeEncoder, this$static._choice, 0, 0)\n    $Encode_2(this$static._lowCoder[posState], rangeEncoder, symbol)\n  } else {\n    symbol -= 8\n    $Encode_3(rangeEncoder, this$static._choice, 0, 1)\n    if (symbol < 8) {\n      $Encode_3(rangeEncoder, this$static._choice, 1, 0)\n      $Encode_2(this$static._midCoder[posState], rangeEncoder, symbol)\n    } else {\n      $Encode_3(rangeEncoder, this$static._choice, 1, 1)\n      $Encode_2(this$static._highCoder, rangeEncoder, symbol - 8)\n    }\n  }\n}\n\nfunction $Encoder$LenEncoder(this$static) {\n  this$static._choice = initDim(2)\n  this$static._lowCoder = initDim(16)\n  this$static._midCoder = initDim(16)\n  this$static._highCoder = $BitTreeEncoder({}, 8)\n  for (var posState = 0; posState < 16; ++posState) {\n    this$static._lowCoder[posState] = $BitTreeEncoder({}, 3)\n    this$static._midCoder[posState] = $BitTreeEncoder({}, 3)\n  }\n  return this$static\n}\n\nfunction $Init_2(this$static, numPosStates) {\n  InitBitModels(this$static._choice)\n  for (var posState = 0; posState < numPosStates; ++posState) {\n    InitBitModels(this$static._lowCoder[posState].Models)\n    InitBitModels(this$static._midCoder[posState].Models)\n  }\n  InitBitModels(this$static._highCoder.Models)\n}\n\nfunction $SetPrices(this$static, posState, numSymbols, prices, st) {\n  var a0, a1, b0, b1, i\n  a0 = ProbPrices[this$static._choice[0] >>> 2]\n  a1 = ProbPrices[(2048 - this$static._choice[0]) >>> 2]\n  b0 = a1 + ProbPrices[this$static._choice[1] >>> 2]\n  b1 = a1 + ProbPrices[(2048 - this$static._choice[1]) >>> 2]\n  i = 0\n  for (i = 0; i < 8; ++i) {\n    if (i >= numSymbols) return\n    prices[st + i] = a0 + $GetPrice_1(this$static._lowCoder[posState], i)\n  }\n  for (; i < 16; ++i) {\n    if (i >= numSymbols) return\n    prices[st + i] = b0 + $GetPrice_1(this$static._midCoder[posState], i - 8)\n  }\n  for (; i < numSymbols; ++i) {\n    prices[st + i] = b1 + $GetPrice_1(this$static._highCoder, i - 8 - 8)\n  }\n}\n\nfunction $Encode_0(this$static, rangeEncoder, symbol, posState) {\n  $Encode(this$static, rangeEncoder, symbol, posState)\n  if (--this$static._counters[posState] == 0) {\n    $SetPrices(\n      this$static,\n      posState,\n      this$static._tableSize,\n      this$static._prices,\n      posState * 272\n    )\n    this$static._counters[posState] = this$static._tableSize\n  }\n}\n\nfunction $Encoder$LenPriceTableEncoder(this$static) {\n  $Encoder$LenEncoder(this$static)\n  this$static._prices = []\n  this$static._counters = []\n  return this$static\n}\n\nfunction $GetPrice(this$static, symbol, posState) {\n  return this$static._prices[posState * 272 + symbol]\n}\n\nfunction $UpdateTables(this$static, numPosStates) {\n  for (var posState = 0; posState < numPosStates; ++posState) {\n    $SetPrices(\n      this$static,\n      posState,\n      this$static._tableSize,\n      this$static._prices,\n      posState * 272\n    )\n    this$static._counters[posState] = this$static._tableSize\n  }\n}\n\nfunction $Create_1(this$static, numPosBits, numPrevBits) {\n  var i, numStates\n  if (\n    this$static.m_Coders != null &&\n    this$static.m_NumPrevBits == numPrevBits &&\n    this$static.m_NumPosBits == numPosBits\n  ) {\n    return\n  }\n  this$static.m_NumPosBits = numPosBits\n  this$static.m_PosMask = (1 << numPosBits) - 1\n  this$static.m_NumPrevBits = numPrevBits\n  numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  this$static.m_Coders = initDim(numStates)\n  for (i = 0; i < numStates; ++i) {\n    this$static.m_Coders[i] = $Encoder$LiteralEncoder$Encoder2({})\n  }\n}\n\nfunction $GetSubCoder(this$static, pos, prevByte) {\n  return this$static.m_Coders[\n    ((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) +\n      ((prevByte & 255) >>> (8 - this$static.m_NumPrevBits))\n  ]\n}\n\nfunction $Init_3(this$static) {\n  var i,\n    numStates = 1 << (this$static.m_NumPrevBits + this$static.m_NumPosBits)\n  for (i = 0; i < numStates; ++i) {\n    InitBitModels(this$static.m_Coders[i].m_Encoders)\n  }\n}\n\nfunction $Encode_1(this$static, rangeEncoder, symbol) {\n  var bit,\n    i,\n    context = 1\n  for (i = 7; i >= 0; --i) {\n    bit = (symbol >> i) & 1\n    $Encode_3(rangeEncoder, this$static.m_Encoders, context, bit)\n    context = (context << 1) | bit\n  }\n}\n\nfunction $EncodeMatched(this$static, rangeEncoder, matchByte, symbol) {\n  var bit,\n    i,\n    matchBit,\n    state,\n    same = 1,\n    context = 1\n  for (i = 7; i >= 0; --i) {\n    bit = (symbol >> i) & 1\n    state = context\n    if (same) {\n      matchBit = (matchByte >> i) & 1\n      state += (1 + matchBit) << 8\n      same = matchBit == bit\n    }\n    $Encode_3(rangeEncoder, this$static.m_Encoders, state, bit)\n    context = (context << 1) | bit\n  }\n}\n\nfunction $Encoder$LiteralEncoder$Encoder2(this$static) {\n  this$static.m_Encoders = initDim(768)\n  return this$static\n}\n\nfunction $GetPrice_0(this$static, matchMode, matchByte, symbol) {\n  var bit,\n    context = 1,\n    i = 7,\n    matchBit,\n    price = 0\n  if (matchMode) {\n    for (; i >= 0; --i) {\n      matchBit = (matchByte >> i) & 1\n      bit = (symbol >> i) & 1\n      price += GetPrice(\n        this$static.m_Encoders[((1 + matchBit) << 8) + context],\n        bit\n      )\n      context = (context << 1) | bit\n      if (matchBit != bit) {\n        --i\n        break\n      }\n    }\n  }\n  for (; i >= 0; --i) {\n    bit = (symbol >> i) & 1\n    price += GetPrice(this$static.m_Encoders[context], bit)\n    context = (context << 1) | bit\n  }\n  return price\n}\n\nfunction $MakeAsChar(this$static) {\n  this$static.BackPrev = -1\n  this$static.Prev1IsChar = 0\n}\n\nfunction $MakeAsShortRep(this$static) {\n  this$static.BackPrev = 0\n  this$static.Prev1IsChar = 0\n}\nfunction $BitTreeDecoder(this$static, numBitLevels) {\n  this$static.NumBitLevels = numBitLevels\n  this$static.Models = initDim(1 << numBitLevels)\n  return this$static\n}\n\nfunction $Decode_0(this$static, rangeDecoder) {\n  var bitIndex,\n    m = 1\n  for (bitIndex = this$static.NumBitLevels; bitIndex != 0; --bitIndex) {\n    m = (m << 1) + $DecodeBit(rangeDecoder, this$static.Models, m)\n  }\n  return m - (1 << this$static.NumBitLevels)\n}\n\nfunction $ReverseDecode(this$static, rangeDecoder) {\n  var bit,\n    bitIndex,\n    m = 1,\n    symbol = 0\n  for (bitIndex = 0; bitIndex < this$static.NumBitLevels; ++bitIndex) {\n    bit = $DecodeBit(rangeDecoder, this$static.Models, m)\n    m <<= 1\n    m += bit\n    symbol |= bit << bitIndex\n  }\n  return symbol\n}\n\nfunction ReverseDecode(Models, startIndex, rangeDecoder, NumBitLevels) {\n  var bit,\n    bitIndex,\n    m = 1,\n    symbol = 0\n  for (bitIndex = 0; bitIndex < NumBitLevels; ++bitIndex) {\n    bit = $DecodeBit(rangeDecoder, Models, startIndex + m)\n    m <<= 1\n    m += bit\n    symbol |= bit << bitIndex\n  }\n  return symbol\n}\nfunction $BitTreeEncoder(this$static, numBitLevels) {\n  this$static.NumBitLevels = numBitLevels\n  this$static.Models = initDim(1 << numBitLevels)\n  return this$static\n}\n\nfunction $Encode_2(this$static, rangeEncoder, symbol) {\n  var bit,\n    bitIndex,\n    m = 1\n  for (bitIndex = this$static.NumBitLevels; bitIndex != 0; ) {\n    --bitIndex\n    bit = (symbol >>> bitIndex) & 1\n    $Encode_3(rangeEncoder, this$static.Models, m, bit)\n    m = (m << 1) | bit\n  }\n}\n\nfunction $GetPrice_1(this$static, symbol) {\n  var bit,\n    bitIndex,\n    m = 1,\n    price = 0\n  for (bitIndex = this$static.NumBitLevels; bitIndex != 0; ) {\n    --bitIndex\n    bit = (symbol >>> bitIndex) & 1\n    price += GetPrice(this$static.Models[m], bit)\n    m = (m << 1) + bit\n  }\n  return price\n}\n\nfunction $ReverseEncode(this$static, rangeEncoder, symbol) {\n  var bit,\n    i,\n    m = 1\n  for (i = 0; i < this$static.NumBitLevels; ++i) {\n    bit = symbol & 1\n    $Encode_3(rangeEncoder, this$static.Models, m, bit)\n    m = (m << 1) | bit\n    symbol >>= 1\n  }\n}\n\nfunction $ReverseGetPrice(this$static, symbol) {\n  var bit,\n    i,\n    m = 1,\n    price = 0\n  for (i = this$static.NumBitLevels; i != 0; --i) {\n    bit = symbol & 1\n    symbol >>>= 1\n    price += GetPrice(this$static.Models[m], bit)\n    m = (m << 1) | bit\n  }\n  return price\n}\n\nfunction ReverseEncode(Models, startIndex, rangeEncoder, NumBitLevels, symbol) {\n  var bit,\n    i,\n    m = 1\n  for (i = 0; i < NumBitLevels; ++i) {\n    bit = symbol & 1\n    $Encode_3(rangeEncoder, Models, startIndex + m, bit)\n    m = (m << 1) | bit\n    symbol >>= 1\n  }\n}\n\nfunction ReverseGetPrice(Models, startIndex, NumBitLevels, symbol) {\n  var bit,\n    i,\n    m = 1,\n    price = 0\n  for (i = NumBitLevels; i != 0; --i) {\n    bit = symbol & 1\n    symbol >>>= 1\n    price += ProbPrices[(((Models[startIndex + m] - bit) ^ -bit) & 2047) >>> 2]\n    m = (m << 1) | bit\n  }\n  return price\n}\nfunction $DecodeBit(this$static, probs, index) {\n  var newBound,\n    prob = probs[index]\n  newBound = (this$static.Range >>> 11) * prob\n  if ((this$static.Code ^ -2147483648) < (newBound ^ -2147483648)) {\n    this$static.Range = newBound\n    probs[index] = ((prob + ((2048 - prob) >>> 5)) << 16) >> 16\n    if (!(this$static.Range & -16777216)) {\n      this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n      this$static.Range <<= 8\n    }\n    return 0\n  } else {\n    this$static.Range -= newBound\n    this$static.Code -= newBound\n    probs[index] = ((prob - (prob >>> 5)) << 16) >> 16\n    if (!(this$static.Range & -16777216)) {\n      this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n      this$static.Range <<= 8\n    }\n    return 1\n  }\n}\n\nfunction $DecodeDirectBits(this$static, numTotalBits) {\n  var i,\n    t,\n    result = 0\n  for (i = numTotalBits; i != 0; --i) {\n    this$static.Range >>>= 1\n    t = (this$static.Code - this$static.Range) >>> 31\n    this$static.Code -= this$static.Range & (t - 1)\n    result = (result << 1) | (1 - t)\n    if (!(this$static.Range & -16777216)) {\n      this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n      this$static.Range <<= 8\n    }\n  }\n  return result\n}\n\nfunction $Init_8(this$static) {\n  this$static.Code = 0\n  this$static.Range = -1\n  for (var i = 0; i < 5; ++i) {\n    this$static.Code = (this$static.Code << 8) | $read(this$static.Stream)\n  }\n}\nfunction InitBitModels(probs) {\n  for (var i = probs.length - 1; i >= 0; --i) {\n    probs[i] = 1024\n  }\n}\nvar ProbPrices = (function() {\n  var end,\n    i,\n    j,\n    start,\n    ProbPrices = []\n  for (i = 8; i >= 0; --i) {\n    start = 1 << (9 - i - 1)\n    end = 1 << (9 - i)\n    for (j = start; j < end; ++j) {\n      ProbPrices[j] = (i << 6) + (((end - j) << 6) >>> (9 - i - 1))\n    }\n  }\n  return ProbPrices\n})()\n\nfunction $Encode_3(this$static, probs, index, symbol) {\n  var newBound,\n    prob = probs[index]\n  newBound = (this$static.Range >>> 11) * prob\n  if (!symbol) {\n    this$static.Range = newBound\n    probs[index] = ((prob + ((2048 - prob) >>> 5)) << 16) >> 16\n  } else {\n    this$static.Low = add(\n      this$static.Low,\n      and(fromInt(newBound), [4294967295, 0])\n    )\n    this$static.Range -= newBound\n    probs[index] = ((prob - (prob >>> 5)) << 16) >> 16\n  }\n  if (!(this$static.Range & -16777216)) {\n    this$static.Range <<= 8\n    $ShiftLow(this$static)\n  }\n}\n\nfunction $EncodeDirectBits(this$static, v, numTotalBits) {\n  for (var i = numTotalBits - 1; i >= 0; --i) {\n    this$static.Range >>>= 1\n    if (((v >>> i) & 1) == 1) {\n      this$static.Low = add(this$static.Low, fromInt(this$static.Range))\n    }\n    if (!(this$static.Range & -16777216)) {\n      this$static.Range <<= 8\n      $ShiftLow(this$static)\n    }\n  }\n}\n\nfunction $GetProcessedSizeAdd(this$static) {\n  return add(add(fromInt(this$static._cacheSize), this$static._position), [\n    4,\n    0\n  ])\n}\n\nfunction $Init_9(this$static) {\n  this$static._position = P0_longLit\n  this$static.Low = P0_longLit\n  this$static.Range = -1\n  this$static._cacheSize = 1\n  this$static._cache = 0\n}\n\nfunction $ShiftLow(this$static) {\n  var temp,\n    LowHi = lowBits_0(shru(this$static.Low, 32))\n  if (LowHi != 0 || compare(this$static.Low, [4278190080, 0]) < 0) {\n    this$static._position = add(\n      this$static._position,\n      fromInt(this$static._cacheSize)\n    )\n    temp = this$static._cache\n    do {\n      $write(this$static.Stream, temp + LowHi)\n      temp = 255\n    } while (--this$static._cacheSize != 0)\n    this$static._cache = lowBits_0(this$static.Low) >>> 24\n  }\n  ++this$static._cacheSize\n  this$static.Low = shl(and(this$static.Low, [16777215, 0]), 8)\n}\n\nfunction GetPrice(Prob, symbol) {\n  return ProbPrices[(((Prob - symbol) ^ -symbol) & 2047) >>> 2]\n}\nfunction decode(utf) {\n  var i = 0,\n    j = 0,\n    x,\n    y,\n    z,\n    l = utf.length,\n    buf = [],\n    charCodes = []\n  for (; i < l; ++i, ++j) {\n    x = utf[i] & 255\n    if (!(x & 128)) {\n      if (!x) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      charCodes[j] = x\n    } else if ((x & 224) == 192) {\n      if (i + 1 >= l) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      y = utf[++i] & 255\n      if ((y & 192) != 128) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      charCodes[j] = ((x & 31) << 6) | (y & 63)\n    } else if ((x & 240) == 224) {\n      if (i + 2 >= l) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      y = utf[++i] & 255\n      if ((y & 192) != 128) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      z = utf[++i] & 255\n      if ((z & 192) != 128) {\n        // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n        return utf\n      }\n      charCodes[j] = ((x & 15) << 12) | ((y & 63) << 6) | (z & 63)\n    } else {\n      // It appears that this is binary data, so it cannot be converted to a string, so just send it back.\n      return utf\n    }\n    if (j == 16383) {\n      buf.push(String.fromCharCode.apply(String, charCodes))\n      j = -1\n    }\n  }\n  if (j > 0) {\n    charCodes.length = j\n    buf.push(String.fromCharCode.apply(String, charCodes))\n  }\n  return buf.join('')\n}\nfunction encode(s) {\n  var ch,\n    chars = [],\n    data,\n    elen = 0,\n    i,\n    l = s.length\n  // Be able to handle binary arrays and buffers.\n  if (typeof s == 'object') {\n    return s\n  } else {\n    $getChars(s, 0, l, chars, 0)\n  }\n  // Add extra spaces in the array to break up the unicode symbols.\n  for (i = 0; i < l; ++i) {\n    ch = chars[i]\n    if (ch >= 1 && ch <= 127) {\n      ++elen\n    } else if (!ch || (ch >= 128 && ch <= 2047)) {\n      elen += 2\n    } else {\n      elen += 3\n    }\n  }\n  data = []\n  elen = 0\n  for (i = 0; i < l; ++i) {\n    ch = chars[i]\n    if (ch >= 1 && ch <= 127) {\n      data[elen++] = (ch << 24) >> 24\n    } else if (!ch || (ch >= 128 && ch <= 2047)) {\n      data[elen++] = ((192 | ((ch >> 6) & 31)) << 24) >> 24\n      data[elen++] = ((128 | (ch & 63)) << 24) >> 24\n    } else {\n      data[elen++] = ((224 | ((ch >> 12) & 15)) << 24) >> 24\n      data[elen++] = ((128 | ((ch >> 6) & 63)) << 24) >> 24\n      data[elen++] = ((128 | (ch & 63)) << 24) >> 24\n    }\n  }\n  return data\n}\n// s is dictionarySize\n// f is fb\n// m is matchFinder\n// NOTE: Because some values are always the same, they have been removed.\n// lc is always 3\n// lp is always 0\n// pb is always 2\nconst modes = [\n  { s: 16, f: 64, m: 0 },\n  { s: 20, f: 64, m: 0 },\n  { s: 19, f: 64, m: 1 },\n  { s: 20, f: 64, m: 1 },\n  { s: 21, f: 128, m: 1 },\n  { s: 22, f: 128, m: 1 },\n  { s: 23, f: 128, m: 1 },\n  { s: 24, f: 255, m: 1 },\n  { s: 25, f: 255, m: 1 }\n]\n\nfunction get_mode_obj(mode) {\n  return modes[mode - 1] || modes[6]\n}\n\n/**\n * Compress a string with the LZMA algorithm\n *\n * @param {string}            value                 The string to be compressed\n * @param {object}            options\n * @param {1|2|3|4|5|6|7|8|9} options.mode          Which mode to use (1 through 9, defaults to 7)\n * @param {boolean}           options.enableEndMark Whether to write an end mark\n * @returns {string}\n */\nexport function compress(value, { mode = 7, enableEndMark = true } = {}) {\n  var this$static = {}\n\n  this$static.c = $LZMAByteArrayCompressor(\n    {},\n    encode(value),\n    get_mode_obj(mode),\n    enableEndMark\n  )\n  while ($processChunk(this$static.c.chunker));\n  return $toByteArray(this$static.c.output)\n}\n\n/**\n * Compress a string with the LZMA algorithm to URL-safe characters\n *\n * @param {string}            value                 The string to be compressed\n * @param {object}            options\n * @param {1|2|3|4|5|6|7|8|9} options.mode          Which mode to use (1 through 9, defaults to 7)\n * @param {boolean}           options.enableEndMark Whether to write an end mark\n * @returns {string}\n */\nexport function compressUrlSafe(\n  string,\n  { mode = 7, enableEndMark = true } = {}\n) {\n  const compressedString = compress(string, { mode, enableEndMark })\n  const compressedBytes = new Uint8Array(compressedString)\n\n  return base64.encodeFromArrayUrlSafe(compressedBytes)\n}\n\n/**\n * Decompress a string compressed with the LZMA algorithm\n *\n * @param {number[]|Int8Array} bytes The int8 array created by the compress() function\n * @returns {string}\n */\nexport function decompress(bytes) {\n  var this$static = {}\n\n  this$static.d = $LZMAByteArrayDecompressor({}, bytes)\n  while ($processChunk(this$static.d.chunker));\n  return decode($toByteArray(this$static.d.output))\n}\n\n/**\n * Decompress a string compressed with the URL-safe compress function\n *\n * @param {string} string The URL-safe string generated by the compressUrlSafe() function\n * @returns {string}\n */\nexport function decompressUrlSafe(string) {\n  return decompress(new Int8Array(base64.decodeToArrayUrlSafe(string)))\n}","import React, { useMemo } from 'react'\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport Cytoscape from 'cytoscape';\nimport COSEBilkent from 'cytoscape-cose-bilkent';\nimport dagre from 'cytoscape-dagre';\n\nCytoscape.use(dagre);\nCytoscape.use(COSEBilkent);\n\n/** For the summary visualizer. Union the migration graphs.\n * \n * Summary graphs are edge-weighted by the number of solutions that edge appears in.\n * Therefore the max weight is the number of solutions there are\n * \n * @param {*} props \n * - title:     Name of the dataset\n * - data:      Full data including all solutions\n * - coloring:  Coloring scheme for the nodes\n * - evtbus\n * @returns \n */\nfunction SummaryGraph({data, coloringDict, evtbus, title, onDeleteSummaryEdge, onRequireSummaryEdge, roots, requiredEdges, setLoadingAction}) {\n\n    document.addEventListener('keydown', function(event) {\n      if (event.key === 'Shift') {\n        document.body.classList.add('shift-click');\n      }\n    });\n    \n    document.addEventListener('keyup', function(event) {\n      if (event.key === 'Shift') {\n        document.body.classList.remove('shift-click');\n      }\n    });\n\n    // TODO: Perhaps change this since we are redoing filtration\n    var filterOut = [];\n    var filterJson = JSON.parse(sessionStorage.getItem(\"selected\"))\n    if (title === filterJson['title']) {\n      for (let key in filterJson) {\n        if (key !== 'title' && !filterJson[key]) {\n          filterOut.push(key.split('→'));\n        }\n      }\n    }\n\n    // var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n    // const colorPalette = [\n    //   \"#a6cee3\",\n    //   \"#1f78b4\",\n    //   \"#b2df8a\",\n    //   \"#33a02c\",\n    //   \"#fb9a99\",\n    //   \"#e31a1c\",\n    //   \"#fdbf6f\",\n    //   \"#ff7f00\",\n    //   \"#cab2d6\",\n    //   \"#6a3d9a\",\n    //   \"#ffff99\",\n    //   \"#b15928\"\n    // ]\n    // const ncolors = colorPalette.length;\n\n    function onlyUnique(array) {\n      return [...new Set(array)];\n    }\n\n    // const [width, setWidth] = useState(\"100%\");\n    // const [height, setHeight] = useState(\"100%\");\n    const width = \"100%\";\n    const height = \"100%\";\n\n    let nodeSet = onlyUnique(data.map((value, index) => [value[0], value[1]]).flat())\n\n    let nodes = nodeSet.map((value, index) => {\n        return { data: { id:  value, label: value, type: \"ip\"} };\n    });\n\n    let edges = data.filter(e => {\n      for (let f of filterOut) {\n        if (f[0] === e[0] && f[1] === e[1]) {\n          return false;\n        }\n      }\n      return true;\n    }).map((value, index) => {\n      return { data: { source: value[0], target: value[1], label: value[2], id: `${value[0]}->${value[1]}`, clsource: value[0], cltarget: value[1] } }\n    })\n\n    // Insert a dummy node in the graph if there exist multiple clonal roots\n    // This node will connect to all edges in the graph\n    // Edges to those roots will be weighted by the number of solutions those roots appear in\n    if (Object.keys(roots).length > 1) {\n      nodes.push({ data: { id: \"roots\", label: \"roots\", type: \"ip\", root: \"true\"}});\n\n      for (let root in roots) {\n        edges.push({\n          data: {\n            source: \"roots\",\n            target: root,\n            label: roots[root],\n            id: `roots->${root}`,\n            clsource: \"roots\",\n            cltarget: root, \n            rootedge: \"true\"\n          }\n        })\n      }\n    }\n\n    // Dont label edge weights of 1\n    // BTW Edges are weighted by the number of solutions they appear in\n    for (const [i, edge] of edges.entries()) {\n      // eslint-disable-next-line eqeqeq\n      if (edge.data.label == 1) {\n        edges[i].data.label = \"\";\n      }\n    }\n\n    // const [graphData, setGraphData] = useState({\n    //     nodes: nodes,\n    //     edges: edges\n    // });\n\n    let graphData = {\n      nodes: nodes,\n      edges: edges\n    };\n\n    // console.log(graphData)\n\n    let styleSheet = [\n        {\n          selector: \"node\",\n          style: {\n            backgroundColor: \"#fff\",\n            'border-width': 10,\n            shape: \"rectangle\",\n            width: 100,\n            height: 50,\n            label: \"data(label)\",\n            \"overlay-padding\": \"6px\",\n            \"z-index\": \"10\",\n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15,\n            'text-valign': 'center',\n            'text-halign': 'center'\n          }\n        },\n        {\n          selector: \"node:selected\",\n          style: {\n            \"border-width\": \"6px\",\n            \"border-color\": \"#AAD8FF\",\n            \"border-opacity\": \"0.5\",\n            \"background-color\": \"#77828C\",\n            width: 50,\n            height: 50,\n            \"text-outline-color\": \"#77828C\",\n            \"text-outline-width\": 8\n          }\n        },\n        {\n          selector: \"node[type='device']\",\n          style: {\n            shape: \"rectangle\"\n          }\n        },\n        {\n          selector: \"edge\",\n          style: {\n            width: 3,\n            label: \"data(label)\",\n            \"target-arrow-color\": \"#6774cb\",\n            \"target-arrow-shape\": \"triangle\",\n            'arrow-scale': 1,\n            \"curve-style\": \"bezier\",\n            \"edge-distances\": \"node-position\",       \n            \"text-outline-width\": \"2px\",\n            color: \"white\",\n            fontSize: 15\n          }\n        },\n        {\n          selector: \"node[root='true']\",\n          style: {\n            'border-color': '#bbb'\n          }\n        },\n        {\n          selector: \"edge[rootedge='true']\",\n          style: {\n            'line-style': 'dashed'\n          }\n        }\n    ];\n\n    for (let key in coloringDict) {\n      let value = coloringDict[key];\n      styleSheet.push({\n        selector: `node[label='${key}']`,\n        style: {\n          // 'border-color': hexColorRegex.test(value) ? value : colorPalette[parseInt(value) % ncolors]\n          'border-color': value\n        }\n      });\n    }\n\n    edges.map((value, _) => {\n        let source = value.data.source;\n        let target = value.data.target;\n\n        styleSheet.push({\n          selector: `edge[id='${source}->${target}']`,\n          style: {\n            'line-fill': 'linear-gradient',\n            'line-gradient-stop-colors': `${getColor(source)} ${getColor(target)}`,\n            'line-gradient-stop-positions': '33% 66%',\n            \"target-arrow-color\": `${getColor(target)}`,\n          }\n        })\n\n        return 0;\n    })\n\n    let myCyRef;\n\n    // TODO: Probably remove since theres no rotation button for summary\n    const queryParameters = new URLSearchParams(window.location.search);\n    let rotated = queryParameters.get(\"rotatedsum\") === \"true\";\n    if (rotated === null) {\n        rotated = false;\n    }\n\n    const layout = {\n        name: \"circle\",\n        fit: true,\n        circle: true,\n        directed: true,\n        padding: 10,\n        // spacingFactor: 1.5,\n        animate: true,\n        animationDuration: 1000,\n        avoidOverlap: true,\n        nodeDimensionsIncludeLabels: false,\n        ready: function() {\n          const listener = (eventName, eventData) => {\n            // Respond to event from other graph here\n            // For example:\n            if (eventName === 'selectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 10\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'deselectNode') {\n              const node = myCyRef.getElementById(eventData.nodeId);\n              let source = eventData.source;\n              let target = eventData.sink;\n              myCyRef.$(`edge[id='${source}->${target}']`).css({\n                width: 3\n              })\n              node.trigger('select');\n            }\n            if (eventName === 'unrequireEdge') {\n              //console.log(eventData.object);\n              let edge = myCyRef.$(`edge[id='${eventData.object}']`)\n              edge.css({\n                'font-weight': 'normal',\n                width: 3,\n                arrowScale: 1\n              })\n              edge.data('selected', 'false')\n            }\n            if (eventName === 'requireEdge') {\n              let edge = myCyRef.$(`edge[id='${eventData.object}']`)\n              edge.css({\n                'font-weight': 'normal',\n                width: 10,\n                arrowScale: 1\n              })\n              edge.data('selected', 'true')\n            }\n            if (eventName === 'resetStack') {\n              let edges = myCyRef.$(`edge`)\n              edges.css({\n                'font-weight': 'normal',\n                width: 3,\n                arrowScale: 1\n              })\n              edges.data('selected', 'false')\n            }\n          };\n          evtbus.addListener(listener);\n        }\n    };\n\n    // Compute mu and gamma for the summary\n    let mu = 0;\n    let gamma = edges.length;\n    edges.map((edge) => {\n      if (edge.data.source !== 'roots') {\n        // eslint-disable-next-line eqeqeq\n        if (edge.data.label == '') {\n          mu += 1;\n        } else {\n          mu += parseInt(edge.data.label);\n          //gamma += parseInt(edge.data.label) - 1;\n        }\n      }\n\n      return 0;\n    })\n\n    sessionStorage.setItem(\"musum\", mu);\n    sessionStorage.setItem(\"gammasum\", gamma);\n\n    function getColor(label) {\n      if (label === \"roots\") {\n        return '#bbb'\n      }\n      let color = coloringDict[label];\n      // return hexColorRegex.test(color) ? color : colorPalette[parseInt(color) % ncolors];\n      return color;\n    }\n\n    function onEdgeTapped(edge, action) {\n      if (action === 'require') {\n        return onRequireSummaryEdge(edge.id());\n      } else {\n        return onDeleteSummaryEdge(edge.id());\n      }\n    }\n\n    const memoizedGraphComponent = useMemo(() => ( <CytoscapeComponent\n        elements={CytoscapeComponent.normalizeElements(graphData)}\n        // pan={{ x: 200, y: 200 }}\n        style={{ width: width, height: height }}\n        zoomingEnabled={true}\n        maxZoom={3}\n        minZoom={0.1}\n        autounselectify={true}\n        boxSelectionEnabled={true}\n        layout={layout}\n        stylesheet={styleSheet}\n        cy={cy => {\n          myCyRef = cy;\n\n          cy.ready(function() {\n            requiredEdges.forEach(edgeId => {\n              let selectedEdge = cy.getElementById(edgeId);\n              selectedEdge.css({\n                'font-weight': 'bold',\n                width: 10,\n                arrowScale: 1\n              })\n              selectedEdge.data('selected', 'true')\n            });\n          })\n          \n          cy.off(\"cxttap\", \"edge\");\n          cy.on(\"cxttap\", \"edge\", evt => {\n            // console.log(\"right clicked\")\n          });\n\n          cy.off(\"tap\", \"edge\");\n          cy.on(\"tap\", \"edge\", evt => {\n            let action = \"require\"\n            if (evt.originalEvent.shiftKey) {\n              action = \"delete\"\n            }\n\n            var edge = evt.target;\n\n            let edgeTappedReturn = onEdgeTapped(edge, action);\n\n            if (edgeTappedReturn === -1) {\n              return;\n            } else {\n              if (action === 'require') {\n                // console.log(edge.id())\n                if (!requiredEdges.includes(edge.id())) {\n                  // console.log('there')\n                  edge.css({\n                    'font-weight': 'bold',\n                    width: 10,\n                    arrowScale: 1\n                  })\n                  edge.data('selected', 'true')\n                } else {\n                  // console.log('here')\n                  edge.css({\n                    'font-weight': 'normal',\n                    width: 3,\n                    arrowScale: 1\n                  })\n                  edge.data('selected', 'false')\n                }\n              }\n            }\n          });\n          \n          cy.off(\"mouseover\", \"edge\");\n          cy.on('mouseover', 'edge', function(event) {\n            const { target } = event;\n            if (target.data().selected !== 'true') {\n              target.css({\n                width: 6,\n                arrowScale: 0.5,\n                // 'font-weight': 'bold',\n              })\n            } else {\n              target.css({\n                width: 13,\n                arrowScale: 0.769,\n              })\n            }\n            const nodeId = event.target.id();\n            evtbus.fireEvent('selectNodeSum', { nodeId, target});\n            evtbus.fireEvent('selectNodeCl', { nodeId, target});\n\n            // change cursor type on shift click:\n            // if (shiftPressed) {\n            //   document.body.classList.add('shift-click');\n            // }\n          });\n\n          cy.off(\"mouseover\", \"node\");\n          cy.on('mouseover', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 20,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('hoverNodeSum', { nodeId });\n            evtbus.fireEvent('hoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 1;\n              labeltag.style.zIndex = 100;\n              labeltag.style.fontWeight = 'bold';\n            }\n          })\n\n          cy.off(\"mouseout\", \"node\");\n          cy.on('mouseout', 'node', function(event) {\n            const { target } = event;\n            target.css({\n              'border-width': 10,\n            })\n            const nodeId = event.target.id();\n            evtbus.fireEvent('dehoverNodeSum', { nodeId });\n            evtbus.fireEvent('dehoverNodeCl', { nodeId });\n\n            var node = event.target;\n            var label = node.data('label');\n\n            var labeltag = document.querySelector(`#${label}`);\n            if (labeltag !== null) {\n              labeltag.style.opacity = 0.7;\n              labeltag.style.zIndex = 1;\n              labeltag.style.fontWeight = 'normal';\n            }\n          })\n\n          cy.off(\"mouseout\", \"edge\");\n          cy.on('mouseout', 'edge', function(event) {\n            const { target } = event;\n            if (target.data().selected !== 'true') {\n              target.css({\n                width: 3,\n                // 'font-weight': 'normal',\n                arrowScale: 1,\n              })\n            } else {\n              target.css({\n                width: 10,\n                arrowScale: 1,\n              })\n            }\n            const nodeId = event.target.id();\n            evtbus.fireEvent('deselectNodeSum', { nodeId, target});\n            evtbus.fireEvent('deselectNodeCl', { nodeId, target});\n\n            // Change cursor back to normal cursor\n            // document.body.classList.remove('shift-click');\n          });\n        }}\n      />), [data] )\n      return memoizedGraphComponent;\n}\n\nexport default SummaryGraph;","import React, { useState } from \"react\"\nimport SummaryGraph from \"./SummaryGraph.js\";\n\nfunction SummaryPanel({ \n    type, \n    setType, \n    insertParam, \n    usedData, \n    coloring, \n    muSum, \n    evtBus, \n    onDeleteSummaryEdge, \n    onRequireSummaryEdge, \n    clearData, \n    roots, \n    deletedEdges,\n    requiredEdges,\n    deletedRoots,\n    requiredRoots,\n    setDeletedEdges,\n    setRequiredEdges,\n    setDeletedRoots,\n    setRequiredRoots,\n    filterStack,\n    setFilterStack,\n    setLoadingAction\n}) {\n    const [tooltip, setTooltip] = useState(false);\n\n    let closeSummary = (event) => {\n        clearData()\n        if (type === 'sumviz') {\n            setType('viz')\n            insertParam('type', 'viz')\n        } else {\n            setType('dualviz')\n            insertParam('type', 'dualviz')\n        }\n    }\n\n    function findColor(dict, key) {\n        var hexColorRegex = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\n        const colorPalette = [\n            \"#a6cee3\",\n            \"#1f78b4\",\n            \"#b2df8a\",\n            \"#33a02c\",\n            \"#fb9a99\",\n            \"#e31a1c\",\n            \"#fdbf6f\",\n            \"#ff7f00\",\n            \"#cab2d6\",\n            \"#6a3d9a\",\n            \"#ffff99\",\n            \"#b15928\"\n        ]\n        const ncolors = colorPalette.length;\n\n        let value = dict[key];\n\n        return hexColorRegex.test(value) ? value : colorPalette[parseInt(value) % ncolors];\n    }\n\n    function generateTag(stack, dict) {\n        if (stack.length <= 0) {\n            return <></>\n        }\n\n        const recentAction = stack[stack.length - 1];\n        let split = recentAction.split(' ')\n        let edge = split[split.length - 1]\n        let [source, target] = edge.split('->')\n        let sourceColor = findColor(dict, source);\n        let targetColor = findColor(dict, target);\n\n        // Edge case: deleting a required edge\n        if (split[0] === 'deletedrequired') {\n            split[0] = 'deleted';\n        } \n\n        //console.log(findColor(dict, source));\n\n        const sourceStyle = {\n            display: 'inline-block',\n            backgroundColor: sourceColor,\n            padding: '5px',\n            borderRadius: '5px',\n            color: 'white',\n        };\n\n        const targetStyle = {\n            display: 'inline-block',\n            backgroundColor: targetColor,\n            padding: '5px',\n            borderRadius: '5px',\n            color: 'white',\n        };\n\n        return (\n            <div className=\"panel actionwrapper\">\n                <p><b>Undo Most Recent Action: </b></p>\n                <p className=\"recentAction\">{split[0]} {split[1]}</p>\n                <p className=\"recentAction\"><span style={sourceStyle}>{source}</span> <span style={targetStyle}>{target}</span></p>\n            </div>\n        )\n    }\n\n    function undoFunction() {\n        setTooltip(false)\n        let recent = filterStack.pop()\n        let [action, item, object] = recent.split(' ')\n\n        if (action === 'required') {\n            if (item === 'root') {\n                setRequiredRoots(requiredRoots.filter(elem => elem !== object))\n            }\n\n            if (item === 'edge') {\n                setRequiredEdges(requiredEdges.filter(elem => elem !== object))\n                evtBus.fireEvent('unrequireEdge', { object })\n            }\n        }\n\n        if (action === 'deleted') {\n            if (item === 'root') {\n                setDeletedRoots(deletedRoots.filter(elem => elem !== object))\n            }\n\n            if (item === 'edge') {\n                setDeletedEdges(deletedEdges.filter(elem => elem !== object))\n            }\n        }\n\n        if (action === 'deletedrequired') {\n            setDeletedEdges(deletedEdges.filter(elem => elem !== object))\n            setRequiredEdges([...requiredEdges, object])\n            evtBus.fireEvent('requireEdge', { object })\n        }\n\n        if (action === 'relaxed') {\n            setRequiredEdges([...requiredEdges, object])\n            evtBus.fireEvent('requireEdge', { object })\n        }\n\n        //console.log(action)\n        //console.log(item)\n        //console.log(object)\n    }\n\n    function resetFn() {\n        setFilterStack([])\n        setDeletedEdges([])\n        setRequiredEdges([])\n        setDeletedRoots([])\n        setRequiredRoots([])\n        evtBus.fireEvent('resetStack')\n    }\n\n    var summaryGraph = usedData[\"summary\"][\"migration\"];\n\n    if (summaryGraph === undefined) {\n        summaryGraph = usedData[\"summary\"]\n    }\n\n    let coloringDict = {};\n    for (var i = 0; i < coloring.length; i++) {\n        coloringDict[coloring[i][0]] = coloring[i][1];\n    }\n\n    return (\n        <div className={`panel info ${type === 'sumviz' ? 'one' : 'tri'}`}>\n            <div className=\"titlewrapper\">\n                <h3 className=\"sumviztitle\"><b>Summary</b></h3>\n                <p className=\"titleelem end\"><b>Press [/] for help</b></p>\n                <span onClick={closeSummary} style={{ textDecoration: 'none', color: 'black' }}><p className='panelclosebutton'><b>[X]</b></p></span>\n            </div>\n            <div className=\"panel migration top left sum\">\n                <p className=\"paneltitle\"><b>Migration Graph</b></p>\n                <p className=\"paneltitle mu\">{`solutions: ${usedData['solutions'].length}`}</p>\n                {filterStack.length > 0 ? <p \n                    className=\"rightAlign\"\n                    onClick={undoFunction}\n                    onMouseEnter={() => setTooltip(true)}\n                    onMouseLeave={() => setTooltip(false)}\n                >↩</p> : <></>}\n                {tooltip ? generateTag(filterStack, coloringDict) : <></>}\n                <button type=\"button\" className=\"paneltitle button summary\" onClick={resetFn}>Reset</button>\n                <SummaryGraph\n                    data={summaryGraph}\n                    coloringDict={coloringDict}\n                    evtbus={evtBus}\n                    title={usedData['name']}\n                    onDeleteSummaryEdge={onDeleteSummaryEdge}\n                    onRequireSummaryEdge={onRequireSummaryEdge}\n                    roots={roots}\n                    requiredEdges={requiredEdges}\n                    setLoadingAction={setLoadingAction}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default SummaryPanel;","import React from 'react';\nimport Popup from 'reactjs-popup';\n\nexport default function HelpPopup( {isPopupOpen, togglePopup} ) {\n    return(\n        <Popup open={isPopupOpen} togglePopup={togglePopup} overlayStyle={{ background: 'rgba(0, 0, 0, 0.6)', zIndex: 9999 }} animationType=\"fade\" modal>\n            {close => (\n                <div className=\"popup-container\">\n                    {/* <button className=\"close-x\" onClick={close}>\n                        &times;\n                    </button> */}\n                    <div className=\"header\">\n                        Help\n                    </div>\n                    <p className=\"popup-container-text\">Click and drag around the migration graph and clonal tree. Hover over nodes in the clonal tree to find the corresponding anatomical location for the node.</p>\n                    <p className=\"popup-container-text\">Select different solutions from the dropdown on the top left of the panel.</p>\n                    <p className=\"popup-container-text\">To compare with another solution, click the [+] on the right. To view the solution space summary, click the [+] on the left.</p>\n                    <p className=\"popup-container-text\">To filter out any solutions with a particular edge, shift+click on that edge in the summary graph. To require all solutions to have some edge, click the edge on the summary graph.</p>\n                    <p className=\"popup-container-text\">For more help, please select the \"Instructions\" button in the home page. You can return to the home page by pressing \"[X]\" on all the currently opened panels.</p>\n                    <button\n                        className='close-button'\n                        onClick={() => {\n                        //console.log('modal closed ');\n                        togglePopup();\n                        }}\n                    >\n                        Close\n                    </button>\n                </div>\n            )}\n\n        </Popup>\n    );\n}\n","import React from 'react';\nimport Popup from 'reactjs-popup';\n\nexport default function NoSolutionsPopup({isPopupOpen, togglePopup}) {\n    return(\n        <Popup open={isPopupOpen} onClose={togglePopup} overlayStyle={{ background: 'rgba(0, 0, 0, 0.6)', zIndex: 9999 }} animationType=\"fade\" modal>\n            {close => (\n                <div className=\"no-sol-popup-container\">\n                    {/* <button className=\"close-x\" onClick={close}>\n                        &times;\n                    </button> */}\n                    <div className=\"header\">\n                        ERROR\n                    </div>\n                    <p className=\"popup-container-text\">There are no solutions available for your input!</p>\n\n                    <button\n                        className='close-button'\n                        onClick={close}\n                    >\n                        Close\n                    </button>\n                </div>\n            )}\n\n        </Popup>\n    );\n}","import React, { useState, useEffect } from \"react\"\nimport ClonalTree from \"./ClonalTree.js\";\nimport Migration from \"./Migration.js\";\n// import {\n//   Link\n// } from \"react-router-dom\";\n\nimport DefaultDict from \"../utils/DefaultDict.js\";\nimport { decompressUrlSafe } from '../utils/lzma-url.js';\n\n// Panels\nimport SummaryPanel from \"./SummaryPanel.js\";\n\n// Popup\nimport HelpPopup from \"./HelpPopup.js\";\nimport NoSolutionsPopup from \"./NoSolutionsPopup.js\";\n\n/**\n * Finds the root of a tree represented by an edge list.\n * @param {Array<Array<number>>} edgeList - The edge list representing the tree.\n * Each inner array should contain three elements: [u, v, weight].\n * @returns The root node of the tree, or null if the tree is empty or has disconnected components.\n */\nfunction findRoot(edgeList) {\n  // Create a map to store the indegree of each node\n  const indegreeMap = new Map();\n\n  // Traverse the edge list and populate the indegree map\n  for (const [src, dest] of edgeList) {\n    if (!indegreeMap.has(src)) {\n      indegreeMap.set(src, 0);\n    }\n    if (!indegreeMap.has(dest)) {\n      indegreeMap.set(dest, 0);\n    }\n    indegreeMap.set(dest, indegreeMap.get(dest) + 1);\n  }\n\n  // Find the root (node with indegree 0)\n  let root;\n  indegreeMap.forEach((indegree, node) => {\n    if (indegree === 0) {\n      if (root) {\n        // If there is more than one node with indegree 0, then the tree is invalid.\n        throw new Error('Invalid tree: multiple roots');\n      }\n      root = node;\n    }\n  });\n\n  if (root === undefined) {\n    // If there is no node with indegree 0, then the tree is invalid.\n    throw new Error('Invalid tree: no root found');\n  }\n\n  return root;\n}\n\n/**\n * Constructs a frequency dictionary from an array, where keys are elements in the array, \n * and values represent the number of occurrences of each element.\n *\n * @param {Array} arr - The input array from which to construct the frequency dictionary.\n * @returns {Object} An object representing the frequency dictionary, \n *                   where keys are elements and values are their occurrences.\n */\nfunction constructFrequencyDictionary(arr) {\n  const frequencyDict = {};\n  \n  for (const item of arr) {\n    if (frequencyDict[item]) {\n      frequencyDict[item]++;\n    } else {\n      frequencyDict[item] = 1;\n    }\n  }\n  \n  return frequencyDict;\n}\n\n/** Return location of clonal tree root\n * \n * @param {Array} tree tree represented as an edgelist\n * @param {Array} labeling anatomic labeling of clones\n *  - Each entry is an array of two containing [clone, location]\n */\nfunction fetchRootLocation(tree, labeling) {\n  var root = findRoot(tree);\n\n  for (const entry of labeling) {\n    if (entry[0] === root) {\n      return entry[1]\n    }\n  }\n\n  return null\n}\n\n/** Fetch tree roots across the data\n * \n * @param {Object} data filtered MACH2 output data\n */\nfunction fetchRoots(data) {\n  // Fetch each tree in the solution\n  var solutions = data['solutions'];\n  var trees = solutions.map((soln) => soln['tree']);\n\n  // Get the anatomic locations of the roots of each of the trees\n  var roots = trees.map((tree) => findRoot(tree));\n  var rootLocations = roots.map((root, index) => {\n    for (const entry of solutions[index]['labeling']) {\n      if (entry[0] === root) {\n        return entry[1]\n      }\n    }\n    // never reaches this\n    return 0;\n  })\n\n  // Construct a frequency mapping\n  return constructFrequencyDictionary(rootLocations);\n}\n\n/** Insert a URL parameter */\nfunction insertParam(key, value) {\n  // Change a url parameter using URLSearchParams\n  let urlParams = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n  urlParams.set(key, value);\n\n  // Replace the URL\n  window.location.href = '#/viz?' + urlParams.toString();\n}\n\nfunction Viz(props) {\n  const [mu, setMu] = useState(0);\n  const [gamma, setGamma] = useState(0);\n  const [mu2, setMu2] = useState(0);\n  const [gamma2, setGamma2] = useState(0);\n  const [muSum, setMuSum] = useState(0);\n  const [gammaSum, setGammaSum] = useState(0);\n  const [jsonDict, setJsonDict] = useState({});\n  const [usedData, setUsedData] = useState({});\n\n  // for filtering when selecting/unselecting edges on summary graph\n  const [deletedEdges, setDeletedEdges] = useState([]);\n  const [requiredEdges, setRequiredEdges] = useState([]);\n\n  // for refreshing when adding/removing panels\n  const [refreshCounter, setRefreshCounter] = useState(0);\n\n  // for switching between original and new clonal trees\n  // these exist per panel (left = L, right = R)\n  const [clonalL, setClonalL] = useState(false);\n  const [clonalR, setClonalR] = useState(false);\n\n  // Roots data\n  const [roots, setRoots] = useState([]);\n  const [requiredRoots, setRequiredRoots] = useState([]);\n  const [deletedRoots, setDeletedRoots] = useState([]);\n\n  // Summary filter operations stack\n  const [filterStack, setFilterStack] = useState([]);\n\n  const [multiSoln, setMultiSoln] = useState(false);\n\n  const [labelNames, setLabelNames] = useState([]);\n  const [inputNames, setInputNames] = useState([]);\n\n  const queryParameters = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n\n  let labelName = queryParameters.get(\"labeling\");\n  let labelName2 = queryParameters.get(\"labeling2\");\n\n  const [labeling, setLabeling] = useState(labelName)\n  const [labeling2, setLabeling2] = useState(labelName2)\n\n  const [rotate, setRotate] = useState(queryParameters.get(\"rotated\") === \"true\");\n  const [rotate2, setRotate2] = useState(queryParameters.get(\"rotated2\") === \"true\");\n\n  const [type, setType] = useState(queryParameters.get(\"type\"))\n\n  const [data, setData] = useState([]);\n  const [data2, setData2] = useState([]);\n  const [tree, setTree] = useState([])\n  const [tree_labeling, setTreeLabeling] = useState([])\n  const [migration, setMigration] = useState([])\n  const [tree2, setTree2] = useState([])\n  const [tree_labeling2, setTreeLabeling2] = useState([])\n  const [migration2, setMigration2] = useState([])\n  const [clonalMap, setClonalMap] = useState([])\n  const [clonalMap2, setClonalMap2] = useState([])\n  const [inputTree, setInputTree] = useState(\"\")\n  const [inputTree2, setInputTree2] = useState(\"\")\n  const [inputData, setInputData] = useState(\"\")\n  const [inputData2, setInputData2] = useState(\"\")\n\n  // let coloring = usedData[\"coloring\"];\n  const [coloring, setColoring] = useState([]);\n\n  let coord_map = undefined;\n\n  const colorPalette = [\n    \"#a6cee3\",\n    \"#1f78b4\",\n    \"#b2df8a\",\n    \"#33a02c\",\n    \"#fb9a99\",\n    \"#e31a1c\",\n    \"#fdbf6f\",\n    \"#ff7f00\",\n    \"#cab2d6\",\n    \"#6a3d9a\",\n    \"#ffff99\",\n    \"#b15928\"\n  ]\n\n  useEffect(() => {\n    fetch('http://127.0.0.1:5000/json')\n      .then(response => response.json())\n      .then(outdata => {\n        const fetchedData = JSON.parse(outdata.data)\n        setMultiSoln(Array.isArray(fetchedData['original']))\n        setJsonDict(fetchedData);\n        setUsedData(fetchedData);\n      })\n      .catch(error => console.error('Error:', error));\n  }, []);\n\n  useEffect(() => {\n    if (Object.keys(jsonDict).length !== 0) {\n\n      let tmpMultiSoln = Array.isArray(jsonDict['original'])\n\n      setMultiSoln(Array.isArray(jsonDict['original']))\n\n      console.log(tmpMultiSoln, jsonDict[\"original\"][0])\n\n      setData(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === labeling })[0]);\n      setData2(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === labeling2 })[0]);\n      setInputTree(tmpMultiSoln ? jsonDict[\"original\"][0][\"name\"] : \"\");\n      setInputTree2(tmpMultiSoln ? jsonDict[\"original\"][0][\"name\"] : \"\")\n      setInputData(tmpMultiSoln ? jsonDict[\"original\"][0] : \"\")\n      setInputData2(tmpMultiSoln ? jsonDict[\"original\"][0] : \"\")\n\n      setLabelNames(usedData[\"solutions\"].map((value, index) => { return value[\"name\"] }))\n      setInputNames(tmpMultiSoln ? usedData[\"original\"].map((value, index) => { return value[\"name\"] }) : [])\n\n      if (labelName === \"undefined\") {\n        insertParam(\"labeling\", usedData[\"solutions\"][0][\"name\"]);\n        setLabeling(usedData[\"solutions\"][0][\"name\"])\n      }\n      if (labelName2 === \"undefined\") {\n        insertParam(\"labeling2\", usedData[\"solutions\"][0][\"name\"]);\n        setLabeling2(usedData[\"solutions\"][0][\"name\"])\n      }\n\n      setColoring(usedData[\"coloring\"])\n\n      coord_map = usedData[\"map\"]\n    }\n  }, [jsonDict])\n\n  useEffect(() => {\n    setTree(data[\"tree\"])\n    setTreeLabeling(data[\"labeling\"])\n    setMigration(data[\"migration\"])\n  }, [data])\n\n  console.log(jsonDict)\n\n  useEffect(() => {\n    if (Object.keys(jsonDict).length !== 0) {\n      updateUsedData();\n    }\n  }, [deletedEdges, requiredEdges, deletedRoots, requiredRoots, jsonDict, inputData]);\n\n  function onDeleteSummaryEdge(edge_id) {\n    let [source, target] = edge_id.split('->');\n    if (source !== 'roots') {\n      //console.log(\"delete\");\n      // if the edge is currently required, unrequire it and then delete\n      if (requiredEdges.includes(edge_id)) {\n        const updatedEdges = requiredEdges.filter((edge) => edge !== edge_id);\n        setRequiredEdges(updatedEdges);\n        setFilterStack([...filterStack, `deletedrequired edge ${edge_id}`]);\n      } else {\n        setFilterStack([...filterStack, `deleted edge ${edge_id}`]);\n      }\n\n      setDeletedEdges([...deletedEdges, edge_id]);\n    } else {\n      //console.log(\"delete root\");\n      //console.log(deletedRoots)\n      setFilterStack([...filterStack, `deleted root ${target}`]);\n      setDeletedRoots([...deletedRoots, target]);\n    }\n  }\n\n  function onRequireSummaryEdge(edge_id) {\n    let [source, target] = edge_id.split('->')\n    if (source !== 'roots') {\n      if (requiredEdges.includes(edge_id)) {\n        //console.log(\"relax\");\n        // If edge_id exists, remove all instances of edge_id from requiredEdges\n        const updatedEdges = requiredEdges.filter((edge) => edge !== edge_id);\n        setRequiredEdges(updatedEdges);\n        setFilterStack([...filterStack, `relaxed edge ${edge_id}`]);\n      } else {\n        //console.log(\"require\");\n        setFilterStack([...filterStack, `required edge ${edge_id}`]);\n        setRequiredEdges([...requiredEdges, edge_id]);\n      }\n    } else {\n      //console.log(\"require root\");\n      setFilterStack([...filterStack, `required root ${target}`]);\n      setRequiredRoots([...requiredRoots, target]);\n    }\n  }\n\n  function clearData() {\n    setDeletedEdges([])\n    setRequiredEdges([])\n    setDeletedRoots([])\n    setRequiredRoots([])\n    setFilterStack([])\n  }\n\n  function onToggleInputClonalL() {\n    if (!clonalL) setClonalL(!clonalL)\n  }\n\n  function onToggleOutputClonalL() {\n    if (clonalL) setClonalL(!clonalL)\n  }\n\n  function onToggleInputClonalR() {\n    if (!clonalR) setClonalR(!clonalR)\n  }\n\n  function onToggleOutputClonalR() {\n    if (clonalR) setClonalR(!clonalR)\n  }\n\n  function updateUsedData() {\n    const wholeData = jsonDict;\n\n    let tempUsedData = {\n      \"name\": wholeData[\"name\"],\n      \"original\": wholeData[\"original\"],\n      \"solutions\": [],\n      \"summary\": {\n        \"migration\": [],\n      },\n    };\n\n    for (let i = 0; i < wholeData[\"solutions\"].length; i++) {\n      let treeEntry = wholeData[\"solutions\"][i][\"tree\"]\n      let labelingEntry = wholeData[\"solutions\"][i][\"labeling\"]\n      let migrationEntry = wholeData[\"solutions\"][i][\"migration\"]\n\n      let rootLocation = fetchRootLocation(treeEntry, labelingEntry);\n\n      let foundDeletedEdge = false;\n\n      // We'll accept a root if we aren't requiring an edge or it is within our required list\n      let foundRequiredRoot = requiredRoots.length === 0 || requiredRoots.includes(rootLocation);\n\n      // We'll blacklist a root if there even is a blacklist and it contains the root\n      let foundDeletedRoot  = deletedRoots.length !== 0 && deletedRoots.includes(rootLocation);\n\n      // let foundRequiredEdge = false;\n      let requiredEdgeCounter = 0;\n      \n      for (let j = 0; j < migrationEntry.length; j++) {\n        // check deleteEdges:\n        let migrationEdgeString = migrationEntry[j][0] \n          + \"->\" \n          + wholeData[\"solutions\"][i][\"migration\"][j][1];\n        for (let k = 0; k < deletedEdges.length; k++) {\n          // create string from wholeData:\n          if (migrationEdgeString === deletedEdges[k]) {\n            foundDeletedEdge = true;\n          }\n        }\n\n        for (let k = 0; k < requiredEdges.length; k++) {\n          if (migrationEdgeString === requiredEdges[k]) {\n            requiredEdgeCounter++;\n          }\n        }\n      }\n\n      if (!foundDeletedRoot && foundRequiredRoot && !foundDeletedEdge && (requiredEdgeCounter === requiredEdges.length)) {\n        const tempSolution = JSON.parse(JSON.stringify(wholeData[\"solutions\"][i]))\n        tempUsedData[\"solutions\"].push(tempSolution);\n      }\n    }\n\n    // check how to add summary in:\n    for (let i = 0; i < tempUsedData[\"solutions\"].length; i++) {\n      for (let j = 0; j < tempUsedData[\"solutions\"][i][\"migration\"].length; j++) {\n        let edgeInSummary = false;\n        // add edge to summary:\n        for (let k = 0; k < tempUsedData[\"summary\"][\"migration\"].length; k++) {\n          // check if edge matches any of the summary edges:\n          if (tempUsedData[\"summary\"][\"migration\"][k][0] === tempUsedData[\"solutions\"][i][\"migration\"][j][0]\n            && tempUsedData[\"summary\"][\"migration\"][k][1] === tempUsedData[\"solutions\"][i][\"migration\"][j][1]) {\n            edgeInSummary = true;\n            tempUsedData[\"summary\"][\"migration\"][k][2] += 1;\n          }\n        }\n        if (!edgeInSummary) {\n          let tempSummaryElement = [...tempUsedData[\"solutions\"][i][\"migration\"][j].slice(0, -1), 1];\n          tempUsedData[\"summary\"][\"migration\"].push(tempSummaryElement);\n        }\n      }\n    }\n\n    if (tempUsedData[\"summary\"][\"migration\"].length === 0){\n      // TODO: Ensure that the filter stack is updated before we reach this point in the code\n      // check the filter stack to revert everything back to normal:\n      const last_edit = filterStack[filterStack.length - 1];\n      setFilterStack(filterStack.slice(0, -1));\n      if (last_edit.slice(0, 12) === 'deleted edge') {\n        //console.log(\"the last command was a delete edge command\");\n        setDeletedEdges(deletedEdges.slice(0, -1));\n      } else if (last_edit.slice(0, 12) === 'deleted root') {\n        //console.log(\"the last command was a delete root command\");\n        setDeletedEdges(deletedRoots.slice(0, -1));\n      } else if (last_edit.slice(0, 13)  === 'required root') {\n        //console.log(\"the last command was a require root command\");\n        setDeletedEdges(requiredRoots.slice(0, -1));\n      } else {\n        //console.log(\"the last command was a require edge command\");\n        setRequiredEdges(requiredEdges.slice(0, -1));\n      }\n\n      toggleNoSolutionsPopup();\n      return -1;\n    }\n\n    if(wholeData[\"coloring\"]) {\n      tempUsedData[\"coloring\"] = JSON.parse(JSON.stringify(wholeData[\"coloring\"]));\n    }\n\n    setUsedData(tempUsedData);\n    setRoots(fetchRoots(tempUsedData));\n\n    let tempNames = tempUsedData[\"solutions\"].map((value, index) => { return value[\"name\"] })\n\n    if (multiSoln && inputData !== \"\") {\n      let tempNames1 = tempNames.filter((value, index) => { return inputData['solution_names'].includes(value) });\n      let tempNames2 = tempNames.filter((value, index) => { return inputData2['solution_names'].includes(value) });\n\n      if (!tempNames1.includes(data[\"name\"])) {\n        setData(tempUsedData['solutions'].filter((item) => { return item['name'] === tempNames1[0] })[0])\n      }\n  \n      if (multiSoln && data2 !== undefined && !tempNames2.includes(data2['name'])) {\n        setData2(tempUsedData['solutions'].filter((item) => { return item['name'] === tempNames2[0]})[0])\n      }\n    } else {\n      if (!tempNames.includes(data[\"name\"])) {\n        setData(tempUsedData[\"solutions\"].filter((item) => { return item[\"name\"] === tempNames[0] })[0])\n      }\n\n      if (data2 !== undefined && !tempNames.includes(data2[\"name\"])) {\n        setData2(tempUsedData[\"solutions\"].filter((item) => { return item[\"name\"] === tempNames[0] })[0])\n      }\n    }\n    return 0;\n  }\n\n  sessionStorage.setItem(\"selected\", JSON.stringify(new DefaultDict(0)));\n  sessionStorage.setItem(\"violations\", JSON.stringify(new DefaultDict(0)));\n\n  // Flag if the original tree exists in the data, \n  // and fetch the data if it exists\n  var origExists = true;\n  var originalTree;\n  var originalLabeling\n  try {\n    originalTree = usedData['original']['tree'];\n    originalLabeling = usedData['original']['labeling'];\n  } catch {\n    origExists = false;\n  }\n\n  let coloringDict = {};\n\n  useEffect(() => {\n    if (coloring !== undefined) {\n      for (var i = 0; i < coloring.length; i++) {\n        coloringDict[coloring[i][0]] = coloring[i][1];\n      }\n    }\n  }, [coloring])\n\n  useEffect(() => {\n    if (Object.keys(jsonDict).length !== 0) {\n      updateUsedData();\n      setTree(data[\"tree\"]);\n      setTreeLabeling(data[\"labeling\"]);\n      setMigration(data[\"migration\"]);\n      setMu(sessionStorage.getItem(\"mu\"));\n      setGamma(sessionStorage.getItem(\"gamma\"));\n\n      if (data[\"origin_node\"] !== undefined) {\n        setClonalMap(data[\"origin_node\"])\n      }\n    }\n  }, [labeling])\n\n  useEffect(() => {\n    if (Object.keys(usedData).length !== 0) {\n      setLabelNames(usedData[\"solutions\"].map((value, index) => { return value[\"name\"] }))\n\n      if (multiSoln) {\n        let solutionNames = usedData[\"solutions\"].map((value, index) => { return value[\"name\"] });\n\n        let temps = usedData[\"original\"].filter((value, index) => {\n          return value['solution_names'].some(item => solutionNames.includes(item))\n        }).map((value, index) => { return value[\"name\"] })\n\n        setInputNames(temps);\n      }\n    }\n  }, [usedData])\n\n  useEffect(() => {\n    if (!labelNames.includes(labeling)) {\n      insertParam(\"labeling\", labelNames[0])\n      setLabeling(labelNames[0])\n    }\n\n    if (!labelNames.includes(labeling2)) {\n      insertParam(\"labeling2\", labelNames[0])\n      setLabeling2(labelNames[0])\n    }\n  }, [labelNames])\n\n  let handleLabelChange = (event) => {\n    insertParam(\"labeling\", event.target.value);\n    setLabeling(event.target.value)\n    setData(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === event.target.value })[0]);\n  }\n\n  let handleLabelChange2 = (event) => {\n    insertParam(\"labeling2\", event.target.value);\n    setLabeling2(event.target.value)\n    setData2(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === event.target.value })[0]);\n  }\n\n  let handleInputChange = (event) => {\n    insertParam(\"input\", event.target.value);\n    setInputTree(event.target.value);\n\n    usedData['original'].forEach((elem) => {\n      if (elem['name'] === event.target.value) {\n        let targetLabel = elem['solution_names'].filter((e) => labelNames.includes(e))[0]\n\n        setInputData(elem);\n        setLabeling(targetLabel);\n        setData(usedData['solutions'].filter((item) => {return item[\"name\"] === targetLabel})[0]);\n      }\n    })\n  }\n\n  let handleInputChange2 = (event) => {\n    insertParam(\"input2\", event.target.value);\n    setInputTree2(event.target.value);\n\n    usedData['original'].forEach((elem) => {\n      if (elem['name'] === event.target.value) {\n        let targetLabel = elem['solution_names'].filter((e) => labelNames.includes(e))[0]\n\n        setInputData2(elem);\n        setLabeling2(targetLabel);\n        setData2(usedData['solutions'].filter((item) => {return item[\"name\"] === targetLabel})[0]);\n      }\n    })\n  }\n\n  let addTab = (event) => {\n    if (type === 'sumviz') {\n      insertParam(\"type\", \"triviz\")\n      setType('triviz')\n    } else {\n      insertParam(\"type\", \"dualviz\")\n      setType('dualviz')\n    }\n    insertParam(\"labeling2\", labeling)\n    setLabeling2(labeling)\n    setData2(usedData[\"solutions\"].filter((item) => { return item[\"name\"] === labeling })[0]);\n    setMu2(sessionStorage.getItem(\"mu2\"));\n    setGamma2(sessionStorage.getItem(\"gamma2\"));\n  }\n\n  let closeTab = (tabIndex) => {\n    if (type === 'dualviz' || type === 'triviz') {\n      setType(type === 'dualviz' ? 'viz' : 'sumviz')\n      if (tabIndex === 1) {\n        setData(data2)\n        setLabeling(labeling2)\n        setRotate(rotate2)\n        setTree(data2[\"tree\"])\n        setTreeLabeling(data2[\"labeling\"])\n        setMigration(data2[\"migration\"])\n        setInputData(inputData2)\n        setInputTree(inputTree2)\n\n        if (data2[\"origin_node\"] !== undefined) {\n          setClonalMap(data[\"origin_node\"])\n        }\n      }\n      insertParam('type', 'viz')\n    }\n  }\n\n  useEffect(() => {\n    if (data2) {\n      setTree2(data2[\"tree\"])\n      setTreeLabeling2(data2[\"labeling\"])\n      setMigration2(data2[\"migration\"])\n\n      if (data2[\"origin_node\"] !== undefined) {\n        setClonalMap2(data[\"origin_node\"])\n      }\n    }\n  }, [data2])\n\n  useEffect(() => {\n    setMu2(sessionStorage.getItem(\"mu2\"));\n    setGamma2(sessionStorage.getItem(\"gamma2\"));\n  }, [tree2])\n\n  // refresh when type is changed\n  useEffect(() => {\n    setRefreshCounter(prevCounter => prevCounter + 1);\n  }, [type]);\n\n  let gotoSummary = (event) => {\n    if (type === 'dualviz') {\n      setType('triviz');\n      insertParam('type', 'triviz')\n    } else {\n      setType('sumviz');\n      insertParam('type', 'sumviz')\n    }\n  }\n\n  let rotateFn = (event) => {\n    let rotated = queryParameters.get(\"rotated\") === \"true\";\n    insertParam(\"rotated\", !rotated);\n    setRotate(!rotated)\n  }\n\n  let rotateFn2 = (event) => {\n    let rotated2 = queryParameters.get(\"rotated2\") === \"true\";\n    insertParam(\"rotated2\", !rotated2);\n    setRotate2(!rotated2)\n  }\n\n  let resetFn = (index) => {\n    evtBus.fireEvent('resetMigration', { index })\n  }\n\n  let resetClonal = (index) => {\n    evtBus.fireEvent('resetClonal', {index})\n  }\n\n  useEffect(() => {\n    setMu(sessionStorage.getItem(\"mu\"));\n    setGamma(sessionStorage.getItem(\"gamma\"));\n    setMu2(sessionStorage.getItem(\"mu2\"));\n    setGamma2(sessionStorage.getItem(\"gamma2\"));\n    setMuSum(sessionStorage.getItem(\"musum\"));\n    setGammaSum(sessionStorage.getItem(\"gammasum\"));\n    if (Object.keys(jsonDict).length !== 0) {\n      updateUsedData();\n    }\n\n    document.addEventListener(\"keydown\", handleKeyPress);\n\n    let loadingOverlay = document.getElementById('overlay');\n\n    if (loadingOverlay) {\n      loadingOverlay.parentElement.removeChild(loadingOverlay);\n    }\n  }, []);\n\n  // NOTE: This is a state because undos need to thicken and unthicken the edge\n  // Setting a state will allow the object to change on runtime (adding listeners and firing events)\n  // eslint-disable-next-line no-unused-vars\n  const [evtBus, _] = useState({\n    listeners: [],\n    addListener(callback) {\n      this.listeners.push(callback);\n    },\n    removeListener(callback) {\n      this.listeners = this.listeners.filter(listener => listener !== callback);\n    },\n    fireEvent(eventName, eventData) {\n      this.listeners.forEach((listener) => {\n        listener(eventName, eventData);\n      });\n    },\n  });\n\n  // Popups\n  const [isHelpPopupOpen, setIsHelpPopupOpen] = useState(false);\n  const [isNoSolutionsPopupOpen, setIsNoSolutionsPopupOpen] = useState(false);\n\n  function toggleNoSolutionsPopup() {\n    setIsNoSolutionsPopupOpen(!isNoSolutionsPopupOpen);\n  }\n\n  function toggleHelpPopup() {\n    setIsHelpPopupOpen(!isHelpPopupOpen);\n  }\n\n  /** TODO: Replace this with an actual window rather than just an alert message\n   * \n   * @param {*} event Event metadata\n   */\n  function handleKeyPress(event) {\n    if (event.key === '/') {\n      // alert('Instructions:\\n\\nToggle and move around the migration graph and clonal tree. Hover over nodes in the clonal tree to find the corresponding anatomical location for the node.\\n\\nSelect different solutions from the dropdown on the top left of the panel.\\n\\nTo compare with another solution, click the [+] on the right. To view the solution space summary, click the [+] on the left.\\n\\nYou can return home by clicking the [X].');\n      //console.log(\"/ key pressed!\")\n      toggleHelpPopup();\n    }\n  }\n\n  useEffect(() => {\n    if (Object.keys(data).length > 0) {\n      console.log(coloring)\n      if (coloring === undefined || coloring.length === 0) {\n\n        // Extract labels from the data\n        const labels = data[\"labeling\"].map((item) => item[1]);\n\n        // Get unique labels\n        const uniqueLabels = labels.filter((value, index, self) => {\n          return self.indexOf(value) === index;\n        });\n\n        // Map each unique label to a new format: [label, indexAsString]\n        const formattedLabels = uniqueLabels.map((label, index) => [label, `${colorPalette[index % colorPalette.length]}`]);\n        console.log(formattedLabels)\n        //console.log(formattedLabels);\n\n        // Result\n        setColoring(formattedLabels);\n        // coloring = formattedLabels;\n      }\n    }\n  }, [data, coloring ])\n\n  // console.log(filterStack)\n  // keeping track of edges that are not used\n  // update unusedEdges whenever\n  console.log(multiSoln, inputData['tree'])\n  if (tree !== undefined && tree.length > 0) {\n    return (\n      <div className=\"viz\">\n        <HelpPopup isPopupOpen={isHelpPopupOpen} togglePopup={toggleHelpPopup}></HelpPopup>\n        <NoSolutionsPopup isPopupOpen={isNoSolutionsPopupOpen} togglePopup={toggleNoSolutionsPopup}></NoSolutionsPopup>\n        {type !== 'sumviz' && type !== 'triviz' ?\n          <div className=\"panel tab_add2\" onClick={gotoSummary}><p className='addpanelp'><b>+</b></p></div>\n          : <></>}\n        {(type === 'sumviz' || type === 'triviz') ?\n          <SummaryPanel\n            key={refreshCounter}\n            type={type}\n            setType={setType}\n            insertParam={insertParam}\n            usedData={usedData}\n            coloring={coloring}\n            muSum={muSum}\n            gammaSum={gammaSum}\n            evtBus={evtBus}\n            onDeleteSummaryEdge={onDeleteSummaryEdge}\n            onRequireSummaryEdge={onRequireSummaryEdge}\n            clearData={clearData}\n            roots={roots}\n            deletedEdges={deletedEdges}\n            requiredEdges={requiredEdges}\n            deletedRoots={deletedRoots}\n            requiredRoots={requiredRoots}\n            setDeletedEdges={setDeletedEdges}\n            setRequiredEdges={setRequiredEdges}\n            setDeletedRoots={setDeletedRoots}\n            setRequiredRoots={setRequiredRoots}\n            filterStack={filterStack}\n            setFilterStack={setFilterStack}\n          /> : <></>}\n        <div className={`panel info ${type === 'dualviz' ? 'one' :\n          type === 'sumviz' ? 'one two' :\n            type === 'triviz' ? 'tri two' :\n              ''\n          }`}>\n          <div className=\"titlewrapper\">\n            { multiSoln ?\n              <label className=\"titleelem left\" htmlFor=\"inputs\">\n                <p><b>{multiSoln && type === 'triviz' ? '' : 'Input Tree: '}\n                  <select\n                    name=\"inputs\"\n                    id=\"inputs\"\n                    onChange={handleInputChange}\n                    value={inputTree}\n                  >\n                    {inputNames.map(l => <option key={l} value={l}>{l}</option>)}\n                  </select>\n                </b></p>\n              </label> : <></>\n            }\n            <label className=\"titleelem end\" htmlFor=\"labelings\">\n              <p><b>{multiSoln && type === 'triviz' ? '' : 'Full Labeling: '}\n                <select \n                  name=\"labelings\" \n                  id=\"labelings\" \n                  onChange={handleLabelChange} \n                  value={labeling}  // Set the value prop here\n                >\n                  {labelNames.filter(l => multiSoln ? inputData['solution_names'].includes(l) : true).map(l => <option key={l} value={l}>{l}</option>)}\n                </select>\n              </b></p>\n            </label>\n            {/* <h3 className=\"viztitle\"><b>{data[\"name\"]}</b></h3> */}\n            {(type !== 'dualviz' && type !== 'triviz' && type !== 'sumviz') ?\n              <p className=\"titleelem end\"><b>Press [/] for help &nbsp;&nbsp;</b></p> :\n              <></>}\n            {type !== 'sumviz' && (type === 'dualviz' || type === 'triviz') ?\n              <span onClick={closeTab.bind(null, 1)} style={{ textDecoration: 'none', color: 'black'}}><p className='panelclosebutton'><b>[X]</b></p></span>\n              : <></>}\n          </div>\n          <div className={coord_map === undefined ? \"leftcolumn nolegend\" : \"leftcolumn\"}>\n            <div className={`panel migration top ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n              <p className=\"paneltitle\"><b>Migration Graph</b></p>\n              <p className=\"paneltitle mu\">{`\\u03BC: ${mu}`}</p>\n              <p className=\"paneltitle gamma\">{`\\u03B3: ${gamma}`}</p>\n              <button type=\"button\" className=\"paneltitle button\" onClick={rotateFn}>Rotate</button>\n              <button type=\"button\" className=\"paneltitle button under\" onClick={() => resetFn(1)}>Reset</button>\n              <Migration \n                key={refreshCounter} \n                tree={tree} \n                labeling={tree_labeling} \n                coloring={coloring} \n                migration={migration} \n                evtbus={evtBus} \n                rotated={rotate}/>\n            </div>\n            <div className={`panel migration ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n            <p className=\"paneltitle\">\n                {origExists ? (\n                  // If origExists is true, render both Clonal Tree and View Input Tree links\n                  <>\n                    <button\n                      style={{ fontWeight: !clonalL ? 'bold' : 'normal' }}\n                      onClick={onToggleOutputClonalL}\n                    >\n                      Clonal Tree\n                    </button>{\" \"}\n                    |{\" \"}\n                    <button\n                      style={{ fontWeight: clonalL ? 'bold' : 'normal' }}\n                      onClick={onToggleInputClonalL}\n                    >\n                      Input Tree\n                    </button>\n                  </>\n                ) : (\n                  // If origExists is false, render only Clonal Tree (fallback to <b> element)\n                  <b>Clonal Tree</b>\n                )}\n              </p>\n              <button type=\"button\" className=\"paneltitle button clonal\" onClick={() => resetClonal(1)}>Reset</button>\n              <ClonalTree \n                key={refreshCounter} \n                tree={!clonalL ? tree : multiSoln ? inputData['tree'] : originalTree} \n                labeling={!clonalL ? tree_labeling : multiSoln ? inputData['labeling'] : originalLabeling} \n                coloring={coloring} \n                evtbus={evtBus} \n                rightcol={type === 'sumviz' || type === 'triviz'} \n                index={1}\n                clonalMap={clonalMap}\n                clonal={clonalL}/>\n            </div>\n          </div>\n        </div>\n        {(type === 'dualviz' || type === 'triviz') ?\n          <div className={`panel info ${type === 'dualviz' ? 'one two' : 'tri three'}`}>\n            <div className=\"titlewrapper\">\n              { multiSoln ?\n                <label className=\"titleelem left\" htmlFor=\"inputs\">\n                  <p><b>{multiSoln && type === 'triviz' ? '' : 'Input Tree: '}\n                    <select\n                      name=\"inputs\"\n                      id=\"inputs\"\n                      onChange={handleInputChange2}\n                      value={inputTree2}\n                    >\n                      {inputNames.map(l => <option key={l} value={l}>{l}</option>)}\n                    </select>\n                  </b></p>\n                </label> : <></>\n              }\n              <label className=\"titleelem left\" htmlFor=\"labelings\">\n                <p><b>{multiSoln && type === 'triviz' ? '' : 'Full Labeling: '}\n                  <select \n                    name=\"labelings\" \n                    id=\"labelings\" \n                    onChange={handleLabelChange2}\n                    value={labeling2}  // Set the value prop here\n                  >\n                    {labelNames.filter(l => multiSoln ? inputData2['solution_names'].includes(l) : true).map(l => <option key={l} value={l}>{l}</option>)}\n                  </select>\n                </b></p>\n              </label>\n              {/* <h3 className=\"viztitle\"><b>{data2[\"name\"]}</b></h3> */}\n              <span onClick={closeTab.bind(null, 2)} style={{ textDecoration: 'none', color: 'black' }}><p className='panelclosebutton'><b>[X]</b></p></span>\n            </div>\n            <div className={coord_map === undefined ? \"leftcolumn nolegend\" : \"leftcolumn\"}>\n              <div className={`panel migration top ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n                <p className=\"paneltitle\"><b>Migration Graph</b></p>\n                <p className=\"paneltitle mu\">{`\\u03BC: ${mu2}`}</p>\n                <p className=\"paneltitle gamma\">{`\\u03B3: ${gamma2}`}</p>\n                <button type=\"button\" className=\"paneltitle button\" onClick={rotateFn2}>Rotate</button>\n                <button type=\"button\" className=\"paneltitle button under\" onClick={() => resetFn(2)}>Reset</button>\n                <Migration \n                  key={refreshCounter} \n                  tree={tree2} \n                  labeling={tree_labeling2} \n                  coloring={coloring} \n                  migration={migration2} \n                  evtbus={evtBus} \n                  rightcol={true} \n                  rotated={rotate2}/>\n              </div>\n              <div className={`panel migration ${(type === 'dualviz' || type === 'triviz') ? 'left' : ''}`}>\n                <p className=\"paneltitle\">{origExists ? (\n                  // If origExists is true, render both Clonal Tree and View Input Tree links\n                  <>\n                    <button\n                      style={{ fontWeight: !clonalR ? 'bold' : 'normal' }}\n                      onClick={onToggleOutputClonalR}\n                    >\n                      Clonal Tree\n                    </button>{\" \"}\n                    |{\" \"}\n                    <button\n                      style={{ fontWeight: clonalR ? 'bold' : 'normal' }}\n                      onClick={onToggleInputClonalR}\n                    >\n                      Input Tree\n                    </button>\n                  </>\n                ) : (\n                  // If origExists is false, render only Clonal Tree (fallback to <b> element)\n                  <b>Clonal Tree</b>\n                )}</p>\n                <button type=\"button\" className=\"paneltitle button clonal\" onClick={() => resetClonal(2)}>Reset</button>\n                <ClonalTree \n                  key={refreshCounter} \n                  tree={!clonalR ? tree2 : multiSoln ? inputData2['tree'] : originalTree} \n                  labeling={!clonalR ? tree_labeling2 : multiSoln ? inputData2['labeling'] : originalLabeling} \n                  coloring={coloring} \n                  evtbus={evtBus} \n                  rightcol={true} \n                  index={2}\n                  clonalMap={clonalMap2}\n                  clonal={clonalR}/>\n              </div>\n            </div>\n          </div> :\n          <></>}\n        {type !== 'dualviz' && type !== 'triviz' ?\n          <div className=\"panel tab_add\" onClick={addTab}><p className='addpanelp'><b>+</b></p></div>\n          : <></>\n        }\n      </div>\n    )\n  } else {\n    return (<></>)\n  }\n}\n\nexport default Viz;","import React from 'react';\nimport {\n    Link\n  } from \"react-router-dom\";\n\nimport URLs from \"../utils/default_url.json\";\nimport download from \"../assets/download.png\";\n\nimport axios from 'axios'\nimport fileDownload from 'js-file-download'\n\nimport DefaultDict from \"../utils/DefaultDict.js\";\n\nimport { compressUrlSafe } from '../utils/lzma-url.js';\n\n// Import the patient sample datasets\nimport A1 from \"../samples/A1/A1.json\";\nimport A7 from \"../samples/A7/A7.json\";\nimport A10 from \"../samples/A10/A10.json\";\nimport A22 from \"../samples/A22/A22.json\";\nimport A29 from \"../samples/A29/A29.json\";\nimport A31 from \"../samples/A31/A31.json\";\nimport A32 from \"../samples/A32/A32.json\";\nimport patient1_LOv from \"../samples/patient1_LOv/patient1_LOv.json\";\nimport patient1_ROv from \"../samples/patient1_ROv/patient1_ROv.json\";\nimport patient2 from \"../samples/patient2/patient2.json\";\nimport patient3_LOv from \"../samples/patient3_LOv/patient3_LOv.json\";\nimport patient3_ROv from \"../samples/patient3_ROv/patient3_ROv.json\";\nimport patient4_LOv from \"../samples/patient4_LOv/patient4_LOv.json\";\nimport patient4_ROv from \"../samples/patient4_ROv/patient4_ROv.json\";\nimport patient7_LOv from \"../samples/patient7_LOv/patient7_LOv.json\";\nimport patient7_ROv from \"../samples/patient7_ROv/patient7_ROv.json\";\nimport patient9_LOv from \"../samples/patient9_LOv/patient9_LOv.json\";\nimport patient9_ROv from \"../samples/patient9_ROv/patient9_ROv.json\";\nimport patient10 from \"../samples/patient10/patient10.json\";\nimport tracerx from \"../samples/tracerx/tracerx.json\";\n\n/** The home page for the visualizer\n * \n * @returns JSX/HTML\n */\nfunction Home() {\n    /** Download the json dataset when the icon is clicked\n     * \n     * @param {*} url (string) The url to download from \n     * @param {*} filename (string) The filename to alias as\n     */\n    let handleDownload = (url, filename) => {\n      axios.get(url, {\n        responseType: 'blob',\n      })\n      .then((res) => {\n        fileDownload(res.data, filename)\n      })\n    }\n\n    // Dictionary mapping dataset name to json object\n    var json_dict = {\n      \"A1\": A1,\n      \"A7\": A7,\n      \"A10\": A10,\n      \"A22\": A22,\n      \"A29\": A29,\n      \"A31\": A31,\n      \"A32\": A32,\n      \"patient1_LOv\": patient1_LOv,\n      \"patient1_ROv\": patient1_ROv,\n      \"patient2\": patient2,\n      \"patient3_LOv\": patient3_LOv,\n      \"patient3_ROv\": patient3_ROv,\n      \"patient4_LOv\": patient4_LOv,\n      \"patient4_ROv\": patient4_ROv,\n      \"patient7_LOv\": patient7_LOv,\n      \"patient7_ROv\": patient7_ROv,\n      \"patient9_LOv\": patient9_LOv,\n      \"patient9_ROv\": patient9_ROv,\n      \"patient10\": patient10,\n      \"tracerx\": tracerx,\n    }\n\n    // Table values\n    var default_patients = [\"A1\", \"A7\", \"A10\", \"A22\", \"A29\", \"A31\", \"A32\", \"patient1_LOv\", \"patient1_ROv\", \"patient2\", \"patient3_LOv\", \"patient3_ROv\", \"patient4_LOv\", \"patient4_ROv\", \"patient7_LOv\", \"patient7_ROv\", \"patient9_LOv\", \"patient9_ROv\", \"patient10\", \"tracerx\"]\n    var default_dirs = [\"hoadley_2016\", \"hoadley_2016\", \"gundem_2015\", \"gundem_2015\", \"gundem_2015\", \"gundem_2015\", \"gundem_2015\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"mcpherson_2016\", \"tracerx\"]\n    var div_elements = []\n    var which_color = true;\n    const color1 = \"#EBEBEB\";\n    const color2 = \"#A3A3A3\";\n\n    // TODO: Perhaps remove this since we're using a different filtration scheme\n    sessionStorage.setItem(\"selected\", JSON.stringify(new DefaultDict(0)));\n    sessionStorage.setItem(\"violations\", JSON.stringify(new DefaultDict(0)));\n    \n    // Construct div elements representing the table entries\n    for (let i = 0; i < default_patients.length; i++) {\n        var current_patient = default_patients[i];\n        var current_directory = default_dirs[i];\n        var current_color = (which_color ? color1 : color2)\n\n        var link = URLs[current_patient];\n\n        div_elements.push(\n          // eslint-disable-next-line no-loop-func\n          <Link className=\"patient-link\" onClick={() => {\n            // Create overlay div\n            const overlay = document.createElement('div');\n            overlay.id = 'overlay';\n\n            // Create loading container div\n            const loadingContainer = document.createElement('div');\n            loadingContainer.id = 'loading-container';\n\n            // Create h1 element\n            const loadingHeader = document.createElement('h1');\n            loadingHeader.textContent = 'Loading...';\n\n            // Append elements\n            loadingContainer.appendChild(loadingHeader);\n            overlay.appendChild(loadingContainer);\n            document.body.appendChild(overlay);\n\n            // Add a small delay (e.g., 100ms) before the sessionStorage operation\n            setTimeout(() => {\n              sessionStorage.setItem(\"json_data\", compressUrlSafe(JSON.stringify(json_dict[default_patients[i]])));\n              window.location.href = `#/${link}`\n            }, 100);\n          }}>\n            <div className=\"patient-container\">\n              <div className=\"patientitem\" style={{ backgroundColor: current_color }}>\n                  <p><b>{current_directory}</b></p>\n              </div>\n              <div className=\"patientitem2\" style={{ backgroundColor: current_color}}>\n                  <p className='leftli'><b>{current_patient}</b></p>\n                <img \n                  className='rightli' \n                  src={download}\n                  alt=\"download\"\n                  onClick={() => handleDownload(`https://raw.githubusercontent.com/vikramr2/machina-viz/main/src/samples/${default_patients[i]}/${default_patients[i]}.json`, `${default_patients[i]}.json`)}\n                >\n                </img>\n              </div>\n            </div>\n          </Link>\n\n        )\n        which_color = !which_color;\n    }\n\n    /** TODO: Maybe change the name of this funciton?\n     * But this handles the file upload\n     * \n     * @param {*} e (obj) Event metadata\n     */\n    let handleChange = (e) => {\n      // Create overlay div\n      const overlay = document.createElement('div');\n      overlay.id = 'overlay';\n\n      // Create loading container div\n      const loadingContainer = document.createElement('div');\n      loadingContainer.id = 'loading-container';\n\n      // Create h1 element\n      const loadingHeader = document.createElement('h1');\n      loadingHeader.textContent = 'Loading...';\n\n      // Append elements\n      loadingContainer.appendChild(loadingHeader);\n      overlay.appendChild(loadingContainer);\n      document.body.appendChild(overlay);\n\n      setTimeout(() => {\n        // Get the filename from the metadata\n        const reader = new FileReader();\n        const file = e.target.files[0];\n        let json_contents;\n    \n        reader.onload = function(readerEvt) {\n          // Load the json data from the file\n          let jsonString = readerEvt.target.result;\n          json_contents = jsonString;\n          const data = JSON.parse(json_contents);\n\n          // Fetch the first label to default to on viz\n          let labelnames = data[\"solutions\"].map((value, index) => {return value[\"name\"]});\n\n          // Store the data in session storage so that the viz route can pull the data\n          sessionStorage.setItem(\"json_data\", compressUrlSafe(json_contents));\n    \n          // Update the window location to the viz route\n          window.location = window.location + `viz?labeling=${labelnames[0]}`;\n        }\n        // Read the file as a text\n        reader.readAsText(file);\n      }, 100)\n      \n    }\n\n    return (\n        <div className='home'>\n            <div className='panel home-panel'>\n                <div className='home-column-1'>\n                  <h1><b>Welcome to MACH2!</b></h1>\n                  {/* <div className=\"aboutdir\"><Link to=\"about\" style={{ textDecoration: 'none', color: 'black'}}><h4 className='abouttext'>About</h4></Link></div> */}\n                  <div className=\"about-text\">\n                    <p><b>A lightweight visualizer for MACH2, <a href=\"https://www.nature.com/articles/s41588-018-0106-z\">MACHINA's</a> sequel.</b> Use this visualizer to examine a solution space for the parsimonious migration history problem and its respective summary for a given patient. Examples are provided below. You can also upload a JSON file to view a custom input. See the Instructions page for how to use this website:</p> \n                  </div>\n                  \n                    <Link to=\"about\" style={{ textDecoration: 'none', color: 'black'}}>\n                      <button className=\"about-button\">Instructions</button>\n                    </Link>\n\n                </div>\n\n                {/* <div className=\"line\"></div> */}\n\n                <div className=\"home-column-2\">\n                  <div className='patient-list-title-container'>\n                    <h3>Examples</h3>\n                    <div className=\"patient-container\">\n                        <div className=\"patientitem\" style={{ backgroundColor: \"#717171\" }}>\n                            <p className='datasettitle' style={{color: \"black\"}}><b>Dataset</b></p>\n                        </div>\n                        <div className=\"patientitem\" style={{ backgroundColor: \"#717171\" }}>\n                          <Link to={link} style={{ textDecoration: 'none', color: 'black'}}>\n                            <p className='datasettitle' style={{color: \"black\"}}><b>Patient</b></p>\n                          </Link>\n                        </div>\n                      </div>\n                  </div>\n                  <div className=\"patient-list-container\">\n\n                    {/* { \n                      div_elements.map(elem => (\n                        elem\n                      ))\n                    } */}\n\n                    { \n                      div_elements.map((elem, index) => (\n                        <React.Fragment key={index}>\n                          {elem}\n                        </React.Fragment>\n                      ))\n                    }\n                  </div>\n                </div>\n\n            </div>\n            <div>\n              <input \n                type=\"file\"\n                id=\"json_upload\" \n                name=\"json_upload\"\n                accept=\"application/JSON\"\n                onChange={handleChange}/>\n              <label htmlFor=\"json_upload\">\n                <div id=\"addnew\" className=\"dot\">\n                  <h1 className=\"plus\">+</h1>\n                  <span className=\"tooltiptext\"><b>Upload Patient JSON</b></span>\n                </div>\n                {/* <div id=\"addnew\">\n                  <img  src={upload_icon}></img>\n                  <span class=\"tooltiptext\"><b>Upload Patient JSON</b></span>\n                </div> */}\n              </label>\n            </div>\n        </div>\n    );\n}\n\nexport default Home;","import React from \"react\"\nimport './App.css';\n\nimport About from './components/About.js'\nimport Viz from './components/Viz.js'\nimport Home from './components/Home.js'\n\nimport {\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport { createBrowserHistory } from 'history';\n\n\nfunction App() {\n  createBrowserHistory({\n    basename: '/mach2-viz/#' // Replace with your repository name\n  });\n\n  return (\n    <div className=\"App\">\n        <Switch>\n          <Route path=\"/about\">\n            <About/>\n          </Route>\n          <Route path=\"/viz\">\n            <Viz/>\n          </Route>\n          <Route path=\"/mach2-viz/about\">\n            <About/>\n          </Route>\n          <Route path=\"/mach2-viz/viz\">\n            <Viz/>\n          </Route>\n          <Route path=\"/mach2-viz\">\n            <Home/>\n          </Route>\n          <Route exact path=\"/\">\n            <Home/>\n          </Route>\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { HashRouter as Router } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Router basename=\"/mach2-viz\">\n      <App />\n    </Router>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}